<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程 | 司机带你开车</title><meta name="keywords" content="HomeLab,自托管云服务平台,Docker,服务部署,文件同步"><meta name="author" content="dong4j"><meta name="copyright" content="dong4j"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程"><meta name="application-name" content="HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程"><meta property="og:url" content="https://blog.dong4j.site/posts/b2341239.html"><meta property="og:site_name" content="司机带你开车"><meta property="og:description" content="本文介绍了如何构建一个自托管的个人云端实验室（HomeLab），通过安装和配置各种服务来实现个性化的云服务平台。文章涵盖了从硬件选择到软件部署的整个过程，包括Docker容器化技术、文件同步工具、网络监控软件等。作者分享了在个人云端实验室中使用的各类服务和应用的搭建经验，并鼓励读者一起探索和学习。"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://cdn.dong4j.site/source/image/20241229154732_hoB1PW2R.webp"><meta property="article:author" content="dong4j"><meta property="article:tag" content="dong4j, Java, Python, Golang, HomeLab, SpringBoot, 架构"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.dong4j.site/source/image/20241229154732_hoB1PW2R.webp"><meta name="description" content="本文介绍了如何构建一个自托管的个人云端实验室（HomeLab），通过安装和配置各种服务来实现个性化的云服务平台。文章涵盖了从硬件选择到软件部署的整个过程，包括Docker容器化技术、文件同步工具、网络监控软件等。作者分享了在个人云端实验室中使用的各类服务和应用的搭建经验，并鼓励读者一起探索和学习。"><link rel="shortcut icon" href="https://cdn.dong4j.site/source/image/favicon.ico"><link rel="canonical" href="https://blog.dong4j.site/posts/b2341239.html"><link rel="preconnect" href="//cdn.cbd.int"><link rel="preconnect" href="//hm.baidu.com"><meta name="google-site-verification" content="xxx"><meta name="baidu-site-verification" content="codeva-D4HsBP841S"><meta name="msvalidate.01" content="xxx"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media=&quot;all&quot;"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media=&quot;all&quot;"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media=&quot;all&quot;"><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?61a751ac36d18d3ba293fe8ef3ec53eb",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script><script>let GLOBAL_CONFIG={linkPageTop:{enable:!0,title:"与数百名博主无限进步",addFriendPlaceholder:"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},peoplecanvas:void 0,postHeadAiDescription:{enable:!0,gptName:"Local",mode:"online",switchBtn:!0,btnLink:"https://github.com/dong4j/blog-summary-assistant-server",randomNum:3,basicWordCount:1999,key:"84yT3Gkl6fp",Referer:"https://blog.dong4j.site:1024",apiUrl:"https://oneapi.dong4j.ink:1024/api/summary",audioUrl:"https://api.dong4j.ink:1024/audio"},diytitle:{enable:!0,leaveTitle:"兄台留步 🙏",backTitle:"兄台,别来无恙 👋"},LA51:{enable:!0,ck:"3Ki5mmyy6E5xtXuf",LingQueMonitorID:"3Ki5mmyy6E5xtXuf"},greetingBox:{enable:!0,default:"晚上好👋",list:[{greeting:"晚安😴",startTime:0,endTime:5},{greeting:"早上好鸭👋, 祝你一天好心情！",startTime:6,endTime:9},{greeting:"上午好👋, 状态很好，鼓励一下～",startTime:10,endTime:10},{greeting:"11点多啦, 在坚持一下就吃饭啦～",startTime:11,endTime:11},{greeting:"午安👋, 宝贝",startTime:12,endTime:14},{greeting:"🌈充实的一天辛苦啦！",startTime:14,endTime:18},{greeting:"19点喽, 奖励一顿丰盛的大餐吧🍔。",startTime:19,endTime:19},{greeting:"晚上好👋, 在属于自己的时间好好放松😌~",startTime:20,endTime:24}]},twikooEnvId:"https://twikoo.dong4j.ink:1024",commentBarrageConfig:{enable:!0,maxBarrage:1,barrageTime:4e3,accessToken:"3a358103e6024cfb97546ec8f8408f5a",mailMd5:"3435c7a74ba1cad3f5d57b0b61b9b25cee221b97599c47b32edbdb36038c5411"},music_page_default:"nav_music",root:"/",preloader:{source:"car"},friends_vue_info:{apiurl:"https://friends.dong4j.ink:1024/"},navMusic:!0,mainTone:{mode:"both",api:"https://img2color.dong4j.ink:1024/api?img=",cover_change:!0},authorStatus:{skills:["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","😎 HomeLab 折腾专家","🏃 脚踏实地行动派","🧱 团队小组发动机","👶 尿不湿更换专家"]},algolia:{appId:"JFMEP32WXP",apiKey:"8e3acd038435dda872706ba6777a54b3",indexName:"blog-index",hits:{per_page:10},languages:{input_placeholder:"输入关键词后按下回车查找",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简",rightMenuMsgToTraditionalChinese:"转为繁体",rightMenuMsgToSimplifiedChinese:"转为简体"},noticeOutdate:{limitDay:365,position:"top",messagePrev:"该内容距离上次更新已经过了",messageNext:"天，文章内容可能已经过时。"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:330},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,simplehomepage:!0,post:!0},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{copy:!0,copyrightEbable:!1,limitCount:50,languages:{author:"作者: dong4j",link:"链接: ",source:"来源: 司机带你开车",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。",copySuccess:"复制成功，复制和转载请标注本文地址"}},lightbox:"mediumZoom",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#425AEF",bgDark:"#1f1f1f",position:"top-center"},source:{justifiedGallery:{js:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js",css:"https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!0,shortcutKey:{enable:!0,delay:100,shiftDelay:200},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={configTitle:"司机带你开车",title:"HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程",postAI:"本文介绍了如何构建一个自托管的个人云端实验室（HomeLab），通过安装和配置各种服务来实现个性化的云服务平台。文章涵盖了从硬件选择到软件部署的整个过程，包括Docker容器化技术、文件同步工具、网络监控软件等。作者分享了在个人云端实验室中使用的各类服务和应用的搭建经验，并鼓励读者一起探索和学习。",pageFillDescription:"HomeLab 的核心 Docker, 远程管理, Linux, macOS, OpenWrt, NAS, 树莓派, 一次配置 到处运行, 数据目录迁移, 使用软链接, 修改默认存储目录, 容器自动更新, 常见操作备忘, 非 root 用户使用 Docker 命令, 批量删除镜像, 容器与寄主机之间拷贝文件, docker run 互转 docker-compose, docker 代理, 运行时代理, 拉取镜像时使用代理, 容器访问主机网络, Docker 服务, Docker 商店, NAS, DS218+, Vaultwarden, MyIP, DDNS-GO, LibreSpeed, Speedtest Tracker, Snapdrop, Memos, Homebox, 1Panel, Syncthing, 发现服务, 中继服务, DS923+, Stirling-PDF, Draw.io, Excalidraw, Portainer, 小雅 Alist, RSSHub, Navidrome, Music Tag Web, Roon, M920x, 雷池 Safeline, Dify, Netmaker, Coolify, n8n, Smokeping, IT Tools, Uptime Kuma, Homepage, Nezha Monitoring, APITable, CasaOS, Open WebUI, LobeChat, MaxKB, One API, Gitea, 部署, SSH 直通, Jellyfin 代理配置, Nginx Proxy Manager, 1Panel, Hishtory, hishtory-server, 常用中间件, MediaMTX, WVP PRO + ZLMediaKit, JSON Crack, 部署, AI.Station, Stable Diffusion, 相关资源, 模型资源, 教程, 相关问题, ComfyUI, 相关资源, AI starter kit, 安装 Nvidia 容器工具包, 配置 Docker 以使用 Nvidia 驱动程序, 部署, MBP, LM Studio, Ollama 相关问题, Mac mini 2018, Rsync Server, V2ray, NextChat, ChatGPT on WeChat, Dify on WeChat, Mac mini M2, 软路由, R2S, AdGuard Home, OpenClash, SmartDNS, PushBot, R5S, WireGuard Easy, Bark, H28K, Linux Command, HK1 Box, Home Assistant, Node-RED, 其他服务, Captive Portal 检测服务, 公网 IP 获取服务, 获取 JSON 格式, 获取纯文本, 分流规则服务, 逻辑图, 部署, 使用方式, 使用场景, 在公司的设备上使用, 在家中的设备上使用, 在 Surge 客户端上使用, 配置同步, 网络, 连通性检查, WireGuard 检查, VPN 检查, 资源推荐在这个充满无限可能的数字时代我们有机会通过自托管的云服务平台来构建一个属于个人的云端世界这不是简单地访问远程服务器而是亲手打造定制并管理自己的虚拟实验室进行各种新奇有趣的服务部署这种折腾不仅仅是一种乐趣更是一种自我挑战和创造力的释放从这篇博客开始我会不时地介绍一些我在自托管环境中安装和配置的新奇有趣服务这些服务或许并非我当下所需但正是这种创造需求的精神驱动着我不断地探索新领域学习新技术在这个过程中我也希望能够与大家分享我的经验和见解一起探讨如何在个人云端世界中找到乐趣和价值在这里你将会看到我如何一步步搭建属于自己的实验环境从选择合适的硬件到配置各种软件服务无论是对技术充满热情的爱好者还是希望拓展技能的初学者这里都会有一些实用的技巧和建议让我们一起踏上这段旅程吧让我们在自托管的乐趣中不断学习创造和成长敬请关注接下来的博客文章期待与你的共同探讨和分享相关文章先导篇我的概要硬件篇介绍我所拥有的硬件设备网络篇包括网络环境异地组网与网络安全服务篇使用搭建的各类服务数据篇包括数据存储方案备份方案和数据恢复方案数据同步构建高效的数据同步网络数据备份打造坚实的数据安全防线网络续集升级网络再战年内网穿透详解揭秘网络连接背后的奥秘的核心在个人云端实验室中赋予了我们强大的功能和服务部署能力它成为了架构中不可或缺的一部分提供了诸多便利容器化部署允许我们将应用程序及其依赖项打包在一个称为容器的轻量级执行环境中这意味着无论在哪个硬件和操作系统上只要安装了引擎我们就可以轻松地部署和管理这些容器可移植性与一致性通过使用我们可以保证在不同的开发和生产环境之间的一致性因为应用程序运行在相同的隔离环境下这大大简化了应用的迁移和部署过程资源利用率容器与传统的虚拟机相比具有更低的系统开销因为它不需要额外的操作系统来支持这使得能够更高效地利用主机资源因此是否能够支持运行也成为了我在选择硬件时的重要考量因素之一至于为什么没有上还是因为对于目前的情况直接使用完全能胜任暂时还不想因为引入增加复杂性接下来我将分享在使用过程中的实战经验和所遇到的问题并在这些底层基础服务稳定运行之后继续介绍我的其他服务和应用搭建过程远程管理我拥有一个由多个主机组成的网络为了更有效地管理和监控这些主机及它们上的容器我需要一个集中的管理解决方案这意味着我需要一种方法来从单一界面访问和控制所有实例目前正在使用是一个轻量级平台用于跨和环境管理容器化应用程序它提供用于管理资源的和并且可以部署为或本机容器商业版建立在开源基础之上包含适合商业用户的高级功能社区版定期更新大约每几个月更新一次好用且免费是目前主要的管理工具另一个是刚部署不久的同样支持多主机管理亮点是支持第三方应用商店不过用起来不是特别流畅目前算作备用选择特性全中文的界面更适合中文环境使用安装简单占用资源极少适合各种设备盒子以及小型服务器以容器的方式运行不需要特权模式对宿主机没有依赖及侵入安全且可靠提供完善的容器创建及管理功能并提供容器域名绑定功能适配简单使用场景提供的文件管理功能可以方便快速的查看及调试容器内的各种文件提供完善的网络管理功能便于容器之间的互联互通以及各种网络配置需求支持文本远程地址挂载目录等多种添加方式快速部署和管理任务提供多种语言的基础镜像和模板可以快速构建属于自己的镜像并可以通过或是等方式快速实现可持续化构建作者的另一个开源项目是一个用于管理文件的堆栈式管理工具提供了创建编辑启动停止重启和删除堆栈等功能并具有交互式编辑器和终端等特性特性功能全面支持创建编辑启动停止重启和删除堆栈以及更新镜像式体验提供交互式编辑器和终端方便用户管理环境跨平台支持可在主流发行版上运行包括和开源免费采用许可协议免费开源只能管理单台主机它的重点是的管理与维护集中管控的前提是需要开启主机的远程管理端口因为涉及到多种类型的系统我这里统一整理一下追加重新加载守护进程重启服务在下无法直接修改配置文件来开启服务通过运行容器将上转发到指定的端口或者使用直接通过修改或者编辑配置文件添加这一行重启之前添加如下配置重启树莓派末尾添加重启一次配置到处运行我的所有容器全部使用启动用文件可以使用一些转换工具将转换成方便在不同环境中重现然后使用同步文件然后在多设备上运行具备安装的主机直接使用同步数据其他的则通过同步作为和的枢纽这样我在任意设备上新增或修改了都会通过到其他设备上具体配置方式将在下章的数据篇中详细说明数据目录迁移的系统盘只有因为定位为容器的主力机所以预计镜像会占据大量空间因此考虑将的数据目录迁移到中迁移有两种方案使用软链接修改默认存储目录使用软链接迁移之前需要停止但是在停止报错了这是因为依然在运行它是的监听套接字负责监听请求并触发在停止之前需要先停止然后迁移数据归档模式表示递归传输并保持文件属性显示过程中详细信息可以使用获取更详细信息显示文件传输的进度信息实际上其中的才是显示进度信息的传输时进行压缩提高效率备份数据目录重启启动之后写入的路径依然是但是因为软链接的设置实际已经是往新的目录写入了至此完成了安装存储目录的迁移通过上述方法完成迁移之后在确认能正常工作之后删除原目录备份数据修改默认存储目录迁移数据的过程都一样修改使用定义数据目录最后重启验证目录没问题就可以删除原目录了容器自动更新在使用的过程中虽然我们知道在容器对应的镜像后面添加标签然后通过手动编辑容器即可拉取最新镜像然后达成更新容器的目的但是当建立非常多的容器之后使用手动更新容器将会是一件非常繁琐的事情这里推荐一款非常优雅的容器更新工具是一个开源项目它可以监控你的容器并在容器的基础镜像有更新时自动重启容器这个工具对于需要持续部署和集成的项目来说非常有用可以简化管理工作并确保你的应用始终运行最新的镜像我目前的配置如下使用开始手动更新功能使用开始自动定时更新功能使用删除旧的镜像使用将更新通过邮件通知当然还有其他通知方式其中是的调用时需要添加到中并使用邮件通知更新的内容上述配置会监听当前主机所有的容器目前适用我现在的场景更多的高级功能比如更新特定容器忽略更新某些容器监控远程容器等可查看官方文档了解常见操作备忘非用户使用命令默认使用套接字与守护进程通信而该套接字的权限只允许用户和组用户访问因此需要将该用户添加到组群晖是一个系统命令用于切换当前会话的有效组批量删除镜像强制删除容器与寄主机之间拷贝文件容器寄主机容器容器内路径宿主机路径寄主机容器宿主机路径容器容器内路径互转代理运行时代理配置全局代理适用于所有容器创建或编辑守护进程配置文件添加以下内容重新加载并重启服务为特定容器配置代理使用时配置代理在中配置代理通过文件管理代理在中引用环境变量在中配置代理构建时传递代理变量拉取镜像时使用代理的代理被接管所以需要设置检查确认环境变量已经正确配置或从的结果中查看配置项镜像由管理所以不能用修改环境变量的方法使用代理服务而是从角度设置环境变量修改代理后出现的问题解决办法方式一将代理的地址改成方式二请删除和容器访问主机网络这里只是说一下比如在主机上运行服务器容器可以通过网络访问连接到主机的具体名为当在或计算机上工作时这是最简单的技术上的引擎用户也可以通过的标志启用主机的默认名称配置会将映射到宿主机标志向容器的文件添加一个条目上面显示的值将映射到容器的主机网关上述方式在主机部署模型而应用层使用部署时经常使用到服务商店为了简化安装部署服务我目前使用了多个第三方应用商店开源现代化是一款开源的服务器运维管理面板提供图形界面进行高效管理功能丰富支持主机监控文件管理数据库管理容器管理等功能快速建站深度集成和建站工具实现一键绑定域名和配置证书安全可靠基于容器管理并部署应用提供病毒防护防火墙和日志审计等功能一键备份支持一键备份和恢复将数据备份到各类云端存储介质基于可运行在多种设备上包括和提供超过个预安装应用和个社区验证应用支持社区贡献用户提交新的应用用户界面简洁优雅易于操作支持备份设置方便快速安装和恢复应用免费开源是一款免费且开源的软件用户可以自由使用和修改简化安装通过一键安装用户可以轻松地将多个流行的自托管应用程序部署到家中服务器一键更新用户可以轻松地更新应用程序确保它们始终保持最新状态易于配置提供了一个简单的用户可以轻松地自定义应用程序的配置证书管理自动管理证书确保应用程序的安全连接快速部署用户可以在几分钟内将应用程序从零部署到生产环境中的第三方商店本身存在大量第三方应用使用方便点推荐个源地址中的第三方商店目前在用的几个第三方源云梦我的绝大部分服务都已经通过容器化技术部署在不同的设备上这种灵活的部署方式不仅提高了资源的利用率还使得服务的扩展和管理变得更加便捷选择设备时我主要考虑两个因素资源和网络环境不同的服务器或设备可能有不同的计算能力存储容量和网络连接速度因此我会根据服务的具体需求来选择最合适的硬件资源接下来我将按照设备的分类盘点一下我都安装了哪些自托管服务台群晖更多的是肩负着数据存储与同步的重任使用一主一备的方式保证重要数据的安全性的任务是对外提供服务我的所有工作文件家庭照片全部存储在这上面而则侧重于数据备份与影音文件管理首先会全量备份的数据还会为其他设备提供备份服务其次为家人提供流媒体服务这里推荐一个相关的高质量玩机网站我不是矿神是一个使用编写的非官方服务器实现它与官方客户端兼容非常适合不希望运行官方的占用大量资源的自托管部署它是理想的选择主要面向个人家庭和小型组织如果最近你的客户端无法正常登录使用可以将服务端更新到最新版本我就是这样解决的考虑到安全问题目前正在使用全面替代因为强制要求通过访问我目前使用来申请证书结合使用如果只是在内网使用的话可以参考使用来开启为了防止数据丢失我做了两重保护将的数据使用实时同步到然后在上面也启动一个避免挂掉之后无法使用使用脚本离线备份数据文件的数据目录打包整个目录移动到相关目录下这样就能通过到其他客户端上相当于多端备份然后使用定时任务定期备份相关教程受够了密码数据泄漏事件用做自己的安全负责人纯内网使用可能是最好用的工具箱轻松检查你的地理位置检查泄漏检查连接速度测试测试测试检查网站可用性查询信息等等我主要拿来做一些连通性测试特性看自己的从多个和来源检测显示本机的看信息显示所有的相关信息包括国家地区地理位置等可用性检测检测一些网站的可用性网易百度等检测查看使用连接时使用的泄露检测查看出口信息以便查看在代理的情况下是否存在泄露隐私的风险网速测试利用边缘网络进行网速测试代理规则测试配合代理软件的规则设置测试规则设置是否正常全球延迟测试从分布在全球的多个服务器进行延迟测试了解你与全球网络的连接速度测试从分布在全球的多个服务器进行测试了解你与全球的连接路径解析器从多个渠道对域名进行解析获取实时的解析结果可用于污染判断封锁测试检查特定的网站在部分国家是否被封锁查询对域名或进行信息查询地址查询查询物理地址的归属信息暗黑模式根据系统设置自动切换暗黑白天模式也可以手动切换简约模式为移动版提供的专门模式缩短页面长度快速查看最重要的信息查任意信息可以通过小工具查询任意的信息支持可以添加为手机应用以及电脑里的桌面应用方便使用支持快捷键可以随时输入查看快捷键菜单根据可用性检测结果返回目前是否可以访问全世界网络的提示支持中文英文法文能够自动获得公网或地址并解析到对应的域名服务特性支持系统支持架构支持的域名服务商阿里云腾讯云华为云百度云支持接口网卡命令获取支持以服务的方式运行默认间隔分钟同步一次支持同时配置多个服务商支持多个域名同时解析支持多级域名网页中配置简单又方便默认勾选禁止从公网访问网页中方便快速查看最近条日志支持通知支持支持部分服务商传递自定义参数实现地域解析多等功能在网络篇中详细的介绍一个基于的自托管网络速度测试工具它支持多种后端语言和数据库易于部署和使用并提供多种测试选项特点功能丰富支持下载上传抖动测试并提供地址距离等信息兼容性强支持所有现代浏览器包括移动端易于部署提供详细的指南和视频教程支持多种后端语言包括等是一个自托管应用程序可监控互联网连接的性能和正常运行时间该应用使用的服务进行网络速度测试并记录测试结果帮助我们了解自身网络性能和稳定性重要亮点功能监控网络性能和稳定性记录测试结果生成历史数据部署方式容器化支持和部署数据库支持支持和数据库优势开源免费可自定义配置适用于各种场景是一个基于的本地文件分享渐进式应用项目使用和等技术构建支持用户在浏览器中快速分享文件重要亮点技术栈功能本地文件分享特性支持渐进式应用许可证开源可在上免费下载和使用方便的点是只要有浏览器即可进行文件共享这在与共享文件时比较方便是一款轻量级自托管的笔记工具支持语法并提供多种自定义选项重要亮点隐私优先所有数据本地存储保障用户隐私快速创建支持纯文本和语法方便格式化和分享轻量级使用和构建性能强大但占用资源少可定制可自定义服务器名称图标样式等开源免费代码开源可免费使用所有功能上有免费的客户端用于组建家庭局域网时对网络进行调试检测压测的工具集合特性面向未来浏览器设计高达的浏览器速度测试自带检测丰富的自定义测速参数服务端无需像传统文件拷贝一样需要固态的支持友好的交互针对低速网络优化测速资源占用是一款开源的服务器运维管理工具提供界面支持主机监控文件管理数据库管理等功能并深度集成和等建站软件因为现在不支持多主机管理所以在大多数常用服务器上都安装了重要亮点支持主机监控文件管理数据库管理等功能深度集成和等建站软件提供一键安装指南和文档链接存在专业版提供更多功能和技术支持服务是一个开源的文件同步客户端与服务器软件采用语言编写它可以在本地网络上的设备之间或通过在远程设备之间同步文件使用了其独有的对等自由块交换协议通过发现服务器寻找节点如果节点不能直连的情况下通过中继服务器穿透内网传输数据用户可以自行搭建发现服务器和中继服务器在程序里面也可以指定使用相应的服务器并提供基于的控制界面这也便于远程服务器的使用重要亮点私有性文件仅在本地设备上存储无中央服务器保护数据安全安全性使用加密确保通信安全并采用证书认证设备开源源代码开放确保透明可信任性易用性界面简洁配置简单易于上手多平台支持等多种操作系统数据篇再详细介绍如何结合同步文件的思路目前都是在局域网内共享文件为了方便放在公司的也能同步文件需要搭建发现服务和中继服务发现服务依靠发现服务器在互联网上寻找对等点任何人都可以运行发现服务器并将安装指向它下载并上传服务器后直接运行即可拿到发现服务器的后将该填写至客户端中填写位置如下格式为服务器发现服务器记得防火墙开启端口发现服务器默认端口为若想更改可以使用你的端口来启动中继服务依赖于社区贡献的中继服务器网络任何人都可以运行中继服务器它会自动加入中继池并可供用户使用下载并上传服务器后直接运行即可格式为你的服务器中继服务器注意意思是不加入任何中继池可以保持你的中继服务器为私有的记得开放防火墙端口若想更换端口可以使用你的端口来更改端口是一款功能强大的本地托管处理工具它支持各种操作如拆分合并转换旋转压缩等并提供了丰富的功能和定制选项适用于个人和团队重要亮点本地托管无需安装通过运行方便快捷功能丰富支持多种操作如页面操作转换操作安全和权限操作等易于定制可自定义应用程序名称标语图标等支持多种语言目前支持种语言可扩展性支持扩展和压缩功能是一款免费且开源的在线绘图工具现已更名为它支持创建各种图表如流程图网络拓扑图图组织结构图等提供直观的拖放式界面支持本地和云端存储如等适合团队协作和个人使用广泛应用于软件开发项目管理和文档设计等领域做开发的朋友应该经常用到在等常见开发平台上都有集成目前使用最多的是桌面版支持各大平台相关资源使用来自网络的自定义形状库是一个开源的虚拟手绘风格白板工具支持协作和端到端加密它可以帮助用户创建各种手绘风格的图表线框图或其他图形适用于绘图设计会议记录等多种场景主要特点无限画布可以自由地拖动缩放和移动画布不受限制手绘风格支持各种绘图工具包括线条矩形箭头等并提供丰富的样式选项自定义可以自定义画布背景工具栏颜色等满足个性化需求图片和形状库支持导入图片和形状库方便快速创建图形国际化支持多种语言方便全球用户使用导出功能支持将图形导出为和可复制粘贴的格式方便分享和编辑目前依赖于源文件可在查看且可直接编辑的特性还不具备格式文件虽然能二次编辑但是无法在中预览因此算备选方案偶尔使用一款用于管理和部署和集群的容器管理软件它提供集中式界面简化容器化进程并支持多云和边缘环境重要亮点跨平台管理支持和适用于多云和边缘环境用户友好的界面提供直观的简化操作流程安全访问支持集中式验证和授权多云和边缘支持适用于不同环境包括数据中心云和边缘设备小雅使用一键部署服务的全套解决方案支持的一键部署并兼容多种平台和架构重要亮点一键部署简化了服务的部署流程无需人工干预全平台支持兼容等平台以及和架构集成脚本所有脚本集成到镜像避免污染系统环境自动更新支持自动更新镜像云盘数据服务配置和媒体数据多种云盘支持支持小雅夸克网盘网盘和阿里云盘资源是一个可以将任何内容都可以抓取然后转换成订阅的网站项目的万物皆可它不仅可以订阅各种博客论坛新媒体甚至社交媒体推特等都不在话下很强详见食用指南该项目已经持续发展年了一直在持续更新甚至今年进行了一次重构不得不佩服大佬们的行动力除此之外官方还提供了功能结合浏览器插件就可以发现你正在访问的站点是否已经支持订阅了如果支持了可以一键转换成订阅的地址很方便不仅如此还支持移动端重要亮点功能将各种内容源转换为支持超过个全球实例特点易于使用功能强大支持丰富的插件和扩展相关项目等贡献者超过位贡献者部署支持等多种部署方式允许用户从任何浏览器或移动设备访问其音乐库并提供丰富的功能例如处理大型音乐库支持多种音频格式多用户支持自动监控库等重要亮点是一个开源音乐服务器项目支持从任何设备访问音乐库支持多种音频格式多用户支持每个用户拥有自己的播放等自动监控音乐库变化界面基于兼容客户端是一款可以编辑歌曲的标题专辑艺术家歌词封面等信息的音乐标签编辑器程序支持等音频格式我主要使用自动刮削功能来批量修改音乐标签只有版本才具备高级功能需要付费使用特性支持大部分音频格式元数据的查看编辑和修改支持批量自动修改刮削音乐标签支持音乐指纹识别即使没有元数据也可以识别音乐支持整理音乐文件按艺术家专辑分组或者自定义多级分组支持文件排序按照文件名文件大小更新时间排序支持批量转换音乐元数据繁体转简体或者简体转繁体支持文件名称的拆分解包补充缺失元数据信息支持文本替换批量替换音乐元数据中脏数据支持音乐格式转换引入支持音乐格式转换支持整轨音乐文件的切割支持多种音乐标签来源支持歌词翻译功能支持显示操作记录支持导出专辑封面文件支持自定义上传专辑封面支持适配移动端支持手机端访问支持使用小爱同学播放本地音乐播放本地音乐是一款专业的音乐播放和音乐库管理软件旨在为音乐爱好者提供更丰富更深入的音乐体验安装的将无损音乐全部导入到在和就可以方便的听音乐了主要功能音乐库管理将所有音乐文件整合到一个中央库中方便管理和浏览音乐信息丰富提供艺术家专辑歌曲的详细信息包括传记评论照片歌词巡演日期等无缝播放支持多种音乐播放设备和平台智能电视智能音箱播放器移动设备等高保真音质采用专业音频引擎提供高保真音质让音乐更真实更生动的专用服务器提供更强大的音乐处理能力和更灵活的配置选项是平台作为容器的核心宿主机已部署多项服务雷池在网络篇中有的详细介绍以及应用场景是一个开源的应用开发平台提供直观的用户界面结合工作流管道代理能力模型管理可观察性功能等帮助用户快速从原型开发到生产部署重要亮点功能丰富支持工作流管道代理模型管理可观察性等功能模型支持集成等多种模型易于使用提供云端服务社区版和企业版方便用户使用开源免费遵循开源许可证免费使用是一个开源的高性能基于的虚拟网络管理平台它允许用户轻松构建和管理跨地域的安全虚拟网络适用于云环境数据中心物联网设备等场景通过自动化网络配置和管理大幅降低了运维成本并提供了与现有基础设施无缝集成的能力主要功能基于的高性能网络提供加密高速的点对点通信通过协议实现低延迟和高安全性自动化网络配置自动配置节点子网和隧道大幅减少手动设置和管理步骤多平台支持支持以及容器化环境集中管理界面提供和接口便于集中管理网络配置监控和运维动态节点管理支持动态分配负载均衡以及节点的自动发现和连接多云和混合环境支持兼容多种云平台如和本地数据中心适用于混合云环境高可扩展性通过水平扩展支持大规模节点和复杂拓扑适用于企业级网络需求和安全规则管理支持访问控制列表和自定义防火墙规则确保网络安全是一款开源且可自托管的平台旨在为开发者提供类似和的服务支持多种编程语言和框架允许用户将应用程序部署到任何服务器包括个人服务器云服务器等该平台提供了丰富的功能如推送部署免费证书自动数据库备份集成强大的和实时终端等旨在提供高效灵活的开发环境重要亮点兼容性兼容多种编程语言和框架支持静态网站后端数据库等多种类型的应用程序部署灵活性支持部署到任何服务器包括个人服务器云服务器等并支持和服务多样性可以部署任何与兼容的服务并提供许多一键式服务集成与自动化提供与等平台的集成支持推送部署和自动数据库备份安全性提供证书确保数据传输安全并允许用户完全控制自己的数据控制性提供强大的和实时终端允许用户直接在浏览器中管理服务器并与管道集成社区和赞助拥有一个活跃的社区并提供赞助商支持目前只安装部署了还没完全用起来是一款开源的流程自动化工具允许用户通过连接各种服务和应用程序来构建自动化流程它采用基于节点的编程方式易于使用且功能强大主要特点易于使用采用拖放式的节点编辑器用户可以轻松地将节点连接起来创建复杂的自动化流程可扩展性支持用户添加自定义节点以扩展其功能丰富的提供了多个集成节点包括常用的社交媒体邮件数据库云服务等开源是开源软件用户可以自由地使用修改和分发它适用场景自动化日常任务例如自动化邮件发送数据同步文件处理等构建复杂的业务流程例如自动化客户关系管理供应链管理数据分析等相关资源的自托管入门套件在本地运行种最佳方法自托管入门套件在群晖部署的一些坑和经验是一个开源的网络延迟监控系统它通过定期测量目标主机的响应时间并生成图形化的结果帮助用户实时监控网络性能它基于库进行数据存储和图形展示支持多种插件和定制化配置适用于各种网络环境和需求重点功能网络延迟监控定期测量目标主机的响应时间并生成直观的图形化结果动态支持能够处理动态地址确保监控的连续性和准确性插件扩展支持多种插件扩展功能例如数据源集成通知系统等模板定制提供丰富的模板选项方便用户自定义图形界面配置文件管理提供详细的配置文件方便用户根据实际需求进行定制跨平台支持适用于各种系统包括和易于集成与其他网络监控工具和系统无缝集成是一个集合了多种开发者常用在线工具的平台拥有简洁的界面和良好的用户体验它旨在帮助开发者提高工作效率轻松处理各种开发任务重点功能在线工具提供多种在线工具例如代码格式化代码压缩在线测试等覆盖开发测试文档等多个方面工具分类工具按照功能分类方便用户快速找到所需工具自定义工具用户可以自定义添加工具满足个性化需求集成部分工具支持与其他平台集成例如等代码示例每个工具都提供代码示例帮助用户快速上手是一款易于使用的自托管监控工具可以监控各种服务的可用性例如记录游戏服务器等它具有友好的界面丰富的通知选项和多种部署方式非常适合个人和企业使用重点功能多种监控类型支持记录游戏服务器容器等多种监控类型丰富的通知选项支持邮件等多种通知方式并支持自定义通知模板友好的界面提供响应式快速的用户界面方便用户查看和管理监控数据多语言支持支持多种语言方便全球用户使用多种部署方式支持等多种部署方式方便用户根据需求选择合适的部署方式状态页面可以创建多个状态页面并将状态页面映射到特定的域名图表可以查看历史监控数据并生成图表证书信息可以查看监控服务的证书信息代理支持支持代理设置方便用户通过代理进行监控双因素认证支持双因素认证提高账户安全性目前主要的监控工具使用进行消息通知是一个高度可定制的个人主页项目支持和服务集成项目提供快速搜索书签天气支持等功能并集成了超过个服务和第三方应用程序重要亮点高度可定制支持自定义主题布局和本地化快速静态生成加载速度快安全请求都通过代理保护密钥安全服务集成集成超过个服务和应用程序例如等信息小部件提供天气时间搜索等信息小部件集成支持集成和自动服务发现相关资源是一款开源的轻量级的监控工具旨在帮助用户轻松监控服务器和网站状态它支持多种监控指标包括系统状态等并提供推送警报定时任务和终端等实用功能该工具采用语言开发并提供中文和英文文档方便用户使用主要功能服务器监控监控服务器资源使用情况包括内存磁盘网络等服务监控监控服务器上的服务状态例如服务数据库服务等任务管理创建和管理自动化任务例如定时任务脚本执行等通知管理设置接收服务器状态异常通知例如邮件短信等自动更新记录方便服务器内网穿透将内网服务器映射到公网方便远程访问设置配置监控项数据展示等分组将服务器分组管理是一个面向的低代码平台用于构建协作应用程序它提供了丰富的功能可以帮助用户轻松创建和管理各种应用程序例如项目管理客户关系管理业务智能等重点亮点实时协作支持多人实时协作编辑提高团队效率自动表单自动生成表单无需手动编写代码首面板提供直观的面板用户使用无限跨表链接支持无限跨表链接实现数据关联强大的行列权限支持行列权限控制保障数据安全嵌入式支持嵌入式方便用户将应用程序集成到其他应用程序中丰富的数据库电子表格提供多种视图类型例如网格视图画廊视图甘特图视图等丰富的提供多种官方模板方便用户快速创建应用程序机器人自动化支持机器人自动化提高工作效率仪表板提供仪表板方便用户进行数据分析和可视化可扩展性支持自定义组件图表仪表板等满足用户个性化需求是一款基于的开源个人云操作系统旨在提供简单易用的个人云体验它支持丰富的应用程序并拥有友好的用户界面适合用于搭建媒体中心私有云智能家居等场景重点亮点简单易用用户界面简洁直观易于上手应用程序丰富支持超过个预安装应用程序和个社区验证应用程序兼容性强支持和设备基于易于扩展和定制一个功能丰富易于使用的自托管旨在完全离线运行它支持各种运行器包括和兼容的重点亮点易于设置使用或或轻松安装支持带和标签的镜像集成无缝集成兼容的并支持模型细粒度权限和用户组管理员可以创建详细的角色和权限确保安全的环境并定制用户体验免提语音视频通话集成免提语音和视频通话功能提供更动态的聊天环境模型构建器通过轻松创建模型并支持导入来自社区的模型本地函数调用工具支持在工具工作区中添加纯函数并实现与自定义函数的无缝集成集成支持检索增强生成将文档交互无缝集成到聊天体验中搜索功能支持使用和等提供商进行搜索并将结果直接注入到聊天体验中图像生成集成支持使用本地和的外部进行图像生成多模型对话可以轻松与各种模型同时进行对话利用它们的独特优势管道和插件支持支持将自定义逻辑和库集成到中是一款功能强大的开源聊天框架致力于打造现代高效的智能对话体验它支持多种服务提供商涵盖文本图像语音等多模态交互并提供知识库插件系统多用户管理等丰富功能让用户轻松构建个性化可扩展的聊天机器人旨在为开发者提供便捷高效的工具推动聊天技术的发展重点亮点多模态支持支持文本图像语音等多种模态提供更丰富的交互体验知识库支持文件上传知识管理和检索方便用户管理信息插件系统支持自定义插件扩展例如搜索图像生成等多用户管理支持多用户登录和权限管理适合团队协作支持支持渐进式网页应用提供类似原生应用的流畅体验自定义主题支持自定义主题满足个性化需求是一款基于大语言模型和的开源知识库问答系统广泛应用于智能客服企业内部知识库学术研究与教育等场景重点亮点开箱即用支持直接上传文档自动爬取在线文档支持文本自动拆分向量化和检索增强生成有效减少大模型幻觉智能问答交互体验好模型中立支持对接大模型包括本地私有大模型等国内公共大模型通义千问腾讯混元字节豆包百度千帆智谱等和国外公共大模型等灵活编排内置强大的工作流引擎和函数库支持编排工作过程满足复杂业务场景下的需求无缝嵌入支持零编码快速嵌入到第三方业务系统让已有系统快速拥有智能问答能力提高用户满意度是一个接口管理分发系统支持多种大模型包括智谱百度文心一言阿里通义千问讯飞星火认知智脑以及腾讯混元等重点亮点支持多种大模型无需切换即可通过统一的格式访问所有大模型支持模式通过流式传输实现打字机效果提供更流畅的交互体验支持多机部署方便用户进行和升级支持令牌管理设置令牌的过期时间额度允许的范围以及允许的模型访问支持兑换码管理支持批量生成和导出兑换码方便用户进行充值支持用户分组和渠道分组支持为不同分组设置不同的倍率支持模型映射重定向用户的请求模型方便用户进行自定义支持失败自动重试提高系统的健壮性支持绘图接口方便用户进行绘图操作支持丰富的自定义设置包括系统名称页脚首页关于页面等支持系统访问令牌调用管理方便用户进行扩展和自定义同类产品是一个开源的服务软件旨在提供易于使用且功能强大的自托管仓库托管平台它支持多种平台和架构并提供代码审查团队协作等功能非常适合个人或团队进行软件开发的社区活跃文档完善易于扩展是构建自托管服务器的理想选择重点亮点跨平台支持支持等平台并兼容多种架构功能丰富提供仓库托管代码审查团队协作包管理等功能易于使用界面简洁易用新手也能快速上手开源免费是开源软件免费使用社区活跃拥有庞大的社区和贡献者群体问题解决和功能迅速部署和使用用户使用自建自定义存储目录后期备份添加用于直通直通主机上生成主机上创建脚本并赋予执行权限主机上添加在上添加配置后进行下面的配置主要是将修改为域名客户机配置添加添加配置测试代理配置新建并添加修改重启有个坑点至少对于我测试的两个地址一个是环回地址一个是局域网地址使用局域网的另一台设备做代理服务器来说设置环境变量时不能加上协议头或否则就算设置成功也不会生效不清楚是不是的玄学亦或者说是神奇所以上文写的都是没有加协议头的配置可以走代理并正常工作加了即使设置成功在里也无效然而在其他环境这两个环境变量的协议头是可加可不加的不影响是一个基于的反向代理管理工具它提供了简单易用的界面来管理代理主机重点亮点简单易用无需深入了解或即可轻松创建转发域名重定向流和主机免费支持自动续订证书或提供自定义证书功能丰富提供访问列表基本认证高级配置用户管理权限控制和审计日志等功能适用于家庭网络可以轻松将家庭网络中的网站托管在公网上并支持端口转发和域名指向设置使用时报错解决方法进入容器申请证书时报错解决方法使用安装了并创建了静态站点用于生成的规则为了方便文件共享编辑将通过软链接的方式添加到了目录下配置后报问题官方给的解决版本是设置但是并不能解决上述问题因为默认就是问题的原因是使用容器启动进入容器查看发现识别不了目录因此需要将此目录映射到容器中是一个更好的历史记录它将您的历史记录存储在上下文中哪个目录中运行命令命令是否成功或失败花费了多长时间等所有这些都存储在本地并进行端到端加密以便同步到其他计算机所有这些都可以通过轻松查询意思是能够在多台设备之间同步命令行记录安装方式非常简单然后重新打开一个如果你使用直接也行使用即可查看历史记录使用查看状态与密钥然后在另一台主机上通过上述命令安装并使用密钥来同步历史记录当然也可以执行部署来作为多台主机历史记录的同步服务器然后修改各个主机中的配置我使用所以直接修改即可添加这一行的最后重新加载配置这样就能使用自托管的在多个主机之间同步命令行历史记录了常用中间件是一款功能强大的实时媒体服务器和媒体代理支持视频和音频流的发布读取代理录制和播放它可以将不同协议的媒体流进行路由实现多种媒体流的互联互通我目前主要用来播放树莓派摄像头上的视频树莓派结合实现视频流播放的教程主要功能支持多种协议支持等多种主流媒体协议兼容性良好实时处理可实时处理媒体流包括转换解码编码压缩等操作多路复用可同时处理多个媒体流并提供不同的访问路径录制和回放可将媒体流录制到磁盘并支持回放安全认证支持用户认证和访问控制保障媒体流的安全灵活配置提供丰富的配置选项可满足不同场景的需求是一个基于标准实现的开箱即用的网络视频平台负责实现核心信令与设备管理后台部分支持穿透支持海康大华宇视等品牌的接入支持国标级联支持将不带国标功能的摄像机直播流直播推流转发到其他国标平台流媒体服务基于特性实现标准的信令兼容常见的品牌设备比如海康大华宇视等品牌的以及平台支持将国标设备级联到其他国标平台也支持将不支持国标的设备的图像或者直播推送到其他国标平台前端完善自带完整前端页面无需二次开发可直接部署使用完全开源且使用许可协议保留版权的情况下可以用于商业项目支持多流媒体节点负载均衡专注于简化数据的处理和可视化它通过将数据转换为交互式图表帮助用户更直观地理解数据结构和关系此外它还提供格式化验证代码生成等功能支持多种数据格式是处理数据的理想选择重点可视化数据将复杂的结构以图表形式展现方便用户快速理解和分析数据格式化与验证自动格式化数据并提供验证功能确保数据格式正确多种格式支持支持多种数据格式包括和满足不同需求亮点交互式体验通过交互式图表用户可以展开和折叠数据结构探索数据细节易于使用界面简洁直观操作简单即使是非技术用户也能轻松上手安全可靠数据处理完全在本地进行无需上传或存储数据确保用户隐私安全多功能性除了可视化还提供格式化验证代码生成等功能满足数据处理的全面需求相关资源插件中的插件部署其他一些常用的开发中间件全部使用部署这台主机因为耗电量有点高只会在使用时开一下目前主要用作相关的测试环境后期打算换成版本的玩一玩是一个基于库实现的模型的网页界面它提供了一系列功能方便用户使用模型进行图像生成和编辑就是看了这篇文章开始入坑的可以说是因为组装了这台主机也是我尝试的第一款工具目前博客的图片也是通过它来生成的主要功能图像生成支持和模式可以输入文字描述生成图像或将图像作为输入进行风格迁移或内容编辑图像编辑支持等功能可以扩展图像内容修复图像缺陷或改变图像颜色模型扩展集成了等模型可以修复人脸修复图像提升图像分辨率等参数控制提供丰富的参数设置选项包括采样方法注意力机制生成参数等可以控制图像生成的风格和质量批量处理支持批量处理图像可以同时生成多张图像自定义脚本支持自定义脚本可以扩展功能或实现特定需求其他特点易于使用网页界面简洁易用操作方便跨平台支持等操作系统开源开源代码方便用户学习和改进相关资源模型资源个模型网站常用模型下载与说明教程教程外婆都能看懂的入门教程万字长文保姆级教程超详细的胎教级使用教程视频教程教程从入门到精通相关问题环境不能直接使用这是的路径扩展机制导致的问题它会尝试将方括号视为通配符验证然而上述操作并无法解决下面才是正确的方法因为我开启了终端代理需要先关闭代理是一个功能强大的扩散模型图形界面和后端工具提供基于图流程图的界面让您无需编写代码即可设计和执行复杂的稳定扩散工作流程主要特点图形界面使用节点图流程图界面无需代码即可设计和执行工作流程兼容多种模型支持和等多种扩散模型高效管理异步队列系统智能内存管理仅重执行更改部分等优化功能模型兼容支持加载和模型检查点以及独立的和模型文本处理支持嵌入文本反转和超网络等文本功能工作流程管理可以从和文件加载包含种子的工作流程并保存加载工作流程为文件多种工具支持区域合成修复和升采样模型等模型模型合并模型和隐式预览等功能离线工作完全离线工作无需下载任何内容配置文件可以通过配置文件设置模型搜索路径官网的桌面版最近开始公测了下载地址相关资源入门和进阶指南系列教程的教程视频教程入门到精通视频教程系统教程是一个开源的模板旨在快速搭建本地和低代码开发环境它由精心打造集成了自托管平台和一系列兼容的产品和组件让您可以轻松开始构建自托管的工作流程主要功能自托管平台低代码平台拥有超过个集成和高级组件跨平台平台可安装和运行最新的本地开源高性能向量存储拥有全面的数据工程领域的工作马安全处理大量数据我还是用把至少上面的问题它能回答出来安装容器工具包配置存储库安装工具包配置以使用驱动程序上述命令在添加如下内容部署如果需要在非本机上访问需要添加启动后需要耐心等待模型下载完成后才能执行聊天下载模型花了大概分钟下推荐使用它是一款替代的轻量级和运行环境它具有启动快占用资源少易于集成等特点并提供容器和发行版等功能重要亮点轻量级占用资源少对电池续航影响小速度快启动速度快网络性能优异易于集成与兼容支持远程和文件共享功能丰富支持容器和发行版等功能性能优异在性能测试中优于是一个可以本地运行大型语言模型的工具用户无需连接互联网即可在电脑上运行各种包括等重点亮点本地运行无需连接互联网在本地电脑上运行模型库丰富支持多种模型包括等文档对话可以与本地文档进行对话获取信息或生成内容多种接口支持通过或兼容的本地服务器使用模型模型下载可以下载上的任何兼容模型文件隐私保护不收集用户数据保护用户隐私优势无需互联网随时随地使用不受网络限制隐私保护保护用户数据安全避免数据泄露风险功能丰富满足多种应用需求易于使用简洁的界面易于上手目前是我主要使用的本地工具且兼容这样我就可以在其他需要的应用中使用相关问题允许跨域更改模型位置修改这里补充一下如果是在中安装有可能会遇到问题不过最新版本已经修复了作为最后一代支持芯片的主机二手已经卖不起价了所以留着当台服务器用最大的问题就是发热严重现在散热风扇小时开着一点不敢怠慢希望还能多用几年通过雷雳连接着一个的用作重要数据的冗余备份目前通过将上的重要数据同步到上具体的配置方式将在数据篇详细说明主要涉及到的启动模式以及上的自启动配置另一种方案使用作为客户端连接家中的设备和服务使用只作为连接家中网络不作其他用途配置如下配置如下是一个基于和的跨平台应用支持等多种平台它可以帮助用户一键部署自己的应用并提供和等多种模型支持重点亮点一键部署只需在上进行简单操作即可在分钟内完成部署轻量级版本的客户端体积小巧约易于安装和使用兼容自部署模型支持与自部署的模型如和无缝配合隐私保护所有数据都保存在本地浏览器中确保用户隐私安全丰富的功能支持响应式设计深色模式等功能并提供预制角色海量内置列表多语言支持支持英语简体中文繁体中文日语西班牙语等多种语言是基于大模型搭建的聊天机器人同时支持微信公众号企业微信应用飞书钉钉等接入可选择文心一言讯飞星火通义千问能处理文本语音和图片访问操作系统和互联网支持基于自有知识库进行定制企业智能客服效果演示项目为下游分支额外对接了平台支持智能助手模型调用工具和知识库支持工作流接入微信生态的详细教程请查看文章手摸手教你把接入微信生态主要作为辅佐主机部署了一些小模型来辅佐的建设比如软路由是一款免费开源的网络广告和跟踪器屏蔽软件它通过充当服务器来阻止跟踪域从而防止您的设备连接到这些服务器特性网络级保护可以覆盖您家中所有设备的网络无需在设备上安装任何客户端软件强大的功能它不仅能够屏蔽广告和跟踪器还可以阻止恶意软件钓鱼网站成人内容并强制进行安全搜索自定义规则您可以添加自定义规则来屏蔽特定网站或广告易于使用非常易于设置和使用即使是非技术用户也可以轻松上手开源是开源软件这意味着您可以查看其源代码并根据自己的需求进行修改和扩展的固件自带服务目前主要用来拦截广告是一个基于的客户端插件旨在为路由器用户提供强大的网络代理管理功能支持多种代理协议如等并允许用户灵活配置规则进行流量分流特性图形化管理界面通过的界面用户可以轻松配置和管理多配置文件支持允许用户切换和管理多个代理配置文件实时日志与调试工具便于用户查看代理运行状态并快速排查问题自动化更新支持订阅配置文件和规则的自动更新保持最新网络环境一个运行在本地的服务器旨在通过获取最快的网站地址来提高网络访问速度它支持和协议并兼容多种操作系统如树莓派和特性多虚拟服务器支持多个虚拟服务器每个服务器拥有不同的端口规则和客户端实现不同场景下的需求多上游服务器支持配置多个上游服务器并行查询并返回访问速度最快的解析结果提高查询效率和可靠性客户端独立控制支持基于或地址控制客户端使用不同的查询规则实现家长控制等功能返回最快地址域名所属地址列表中查找访问速度最快的地址并返回给客户端提高网络访问速度多种查询协议支持和查询及服务以及非端口查询支持通过代理查询特定域名地址指定支持指定域名的地址实现广告过滤避免恶意网站等功能域名高性能后缀匹配持域名后缀匹配模式简化过滤配置过滤效率高域名分流支持域名分流不同类型的域名向不同的服务器查询支持和更好的分流支持测速失败的情况下设置域名结果到对应和集合多平台支持支持标准系统树莓派系统各种固件和华硕路由器原生固件支持适用于的子系统双栈支持和网络支持查询和记录支持双栈速度优化并支持完全禁用解析支持多种推送服务包括钉钉企业微信微信飞书等并提供设备状态监控流量统计等功能重要亮点支持多种推送服务包括钉钉企业微信微信飞书等提供设备状态监控流量统计等功能支持设备别名白名单名单等设置代码基于提供的接口进行发送信息是一个基于界面的管理工具旨在简化服务器的设置和管理它提供了一个用户友好的界面使用户能够轻松创建管理和监控配置而无需手动编辑配置文件特性简化的配置管理通过用户可以轻松地添加和管理客户端和服务器配置支持多用户管理可以为多个客户端生成和管理密钥对方便分配和控制访问权限实时状态监控提供连接状态的实时更新和日志记录帮助用户监控服务的运行状况支持可以通过容器部署便于跨平台使用允许用户将自定义通知推送到他们的它可以将各种信息如短信邮件社交媒体更新等转换为语音或文字通知方便用户在无法查看手机时接收重要信息支持多种通知方式包括等并可以与各种应用程序和服务进行集成用户可以通过搭建自己的服务器实现完全自托管的解决方案目前使用作为推送服务的有的脚本执行结果推送浏览器插件推送的相关资源是一个开源项目旨在收集整理命令手册详解学习资源等内容并提供方便快捷的搜索工具该项目由用户维护并生成了一个网站方便用户使用主要特点内容全面搜集了多个命令涵盖文件管理文件传输备份压缩磁盘管理系统设置系统管理文本处理网络通讯设备管理电子邮件与新闻组等多个方面方便搜索提供强大的搜索功能用户可以快速找到所需的命令及其相关信息多种版本提供多种版本包括版本微信小程序插件版本版本版本版本等方便用户在不同平台上使用易于部署提供多种部署方式宝塔面板等方便用户自行部署一款开源的智能家居自动化平台它支持多种设备和服务的集成提供强大的自动化功能并强调本地控制和隐私保护目前还没有花太多心思去做配置重要亮点开源社区由全球爱好者和开发者共同维护设备兼容性支持超过种设备和服务的集成自动化功能可以根据时间事件和条件自动控制智能家居设备本地控制数据存储和处理均在本地确保隐私安全移动应用提供官方移动应用方便远程控制和监控是一个基于的低代码编程平台旨在简化事件驱动应用程序的开发它提供直观的浏览器编辑器允许用户通过拖放节点的方式连接硬件和在线服务构建复杂的流程适用于各种场景包括物联网数据集成和自动化等重点亮点低代码编程平台是一个用于事件驱动的应用程序的低代码编程平台它允许用户通过图形界面连接各种硬件设备和数据源可视化编程用户可以通过拖放节点来构建应用程序无需编写代码这降低了开发难度并提高了开发效率广泛的应用场景可用于各种场景例如物联网自动化数据分析等开源项目是一个开源项目由维护活跃社区拥有一个活跃的社区用户可以在这里获取帮助分享经验和贡献代码丰富的节点库提供了丰富的节点库用户可以从中选择所需的节点来构建应用程序跨平台支持多种操作系统包括和其他服务检测服务大家肯定都连过公共场所的热点比如麦当劳等地方的他们的往往一连上去就会弹出一个要求登录或者微信关注之类的页面只有在这个页面完成操作了才能正常访问网络的之前看到这个很神奇为什么一连手机就会自动打开这个网页的就知道系统应该是提供了一些接口的最近接触到这个查了一下才知道这个东西叫做就是专门用来给后端的网关提供鉴权计费之类的服务的很多公共场合的热点应该都用了这么一个技术比如酒店商场银行等等的作用就是检测网络的连通性这个在分流规则中非常常见下面是一些常用的站点服务提供者链接大陆体验境外体验小米华为我的目的是检测是否能连接家中的网络所以准备在家中的某台服务器上自建一个服务减少外部网络的依赖直接在配置中添加如下内容即可比如服务部署在家中的服务器上测试为然后就可以在的配置中使用比如表示会通过此地址去测试隧道是否正常因为也部署在内网会将流量通过发送到所以只要能够测试通过就代表隧道是通畅的在没有自建服务之前我都是通过访问小米路由器的来检测网络是否正常但是较多的响应内容会增加测试的延迟所以就使用了上述方式来优化公网获取服务因为使用别家的服务来给会出现限流的情况所以在上自行部署了一个这样的服务获取格式用以支持若所用版本支持可去掉注释用以支持若所用版本支持可去掉注释允许跨域在其他站点调用接口会用到获取地址若使用请将改为证书配置获取纯文本用以支持若所用版本支持可去掉注释用以支持若所用版本支持可去掉注释获取地址若使用请将改为证书配置这有现成的分流规则服务我有多种客户端且在多个地方需要用到分流规则其他终端上的为了简化规则的管理需要一个集中管理分流规则和规则转换的服务目前选择结合的方式来完成规则统一管理与规则转换逻辑图作为规则转换服务可以根据配置生成配置文件可选择客户端类型以及远程配置可以预先设置几个常用的配置而自定义远程配置地址可以直接使用搭建一个静态网站随时修改规则转换后可以使用短链服务自动生成短链接方便分享与使用参数中可设置是否开启排序节点关闭证书检查以及是否只返回节点列表因为有些订阅地址如果证书过期会无法解析所以需要先使用处理一次关闭证书检查然后将短链接给到使用转换后的短链接会直接配置到和中保证多端规划一致主要作用是收集整理订阅地址返回的节点列表虽然也支持这个功能但是拥有更多的节点配置功能比如正则过滤区域过滤正则删除节点去重等等功能处理后的节点会给使用目前是单独的规则与配置主要是主力机在使用所以特殊的配置要多一些而和则是给内网的设备使用规则相对简单一些所以需要去统一管理规则避免重复操作中配置的节点地址即可会在多台服务器上部署然后使用来进行负载而的数据文件则通过在动态服务器之间同步还有一个版本需要在客户端上安装相应的模块目前用的比较少主要是因为会存在循环依赖问题更新配置需要开启代理而开代理又必须先得更新配置部署和可通过一键部署如果只需要在内网使用记得修改一下中的和中的也要做相应修改可以挂载下面的目录方便修改规则与其他配置规则所在目录部署使用方式和的功能侧重点不一样可以说是相辅相成的可以总结为非客户端使用统一规则客户端只使用节点处理功能处理无法解析的证书失效的订阅地址所以会结合两者的优点与侧重点按场景使用使用原始订阅地址处理节点列表提供给客户端使用如果证书失效会将原始订阅地址先使用处理一次参数使用关闭证书检查并只返回节点列表然后将短链接给到使用使用处理后的节点列表配合自定义规则生成和的通用配置保证两端规则一致和同时具备将多个订阅地址合并为同一个配置的功能组合订阅我的方式是在中将节点合并然后将合并后的节点列表给到根据客户端类型选择不同的规则生成配置文件使用场景比如我有个订阅地址分别是其中的证书过期以及一个自定义的节点列表分别在不同场景下使用和在公司的设备上使用公司的设备需要访问家中的网络与外网所以使用了自定义节点列表然后使用的组合订阅功能生成最终配置在家中的设备上使用家中的设备不需要节点所以直接是用节点列表然后使用生成最终配置在客户端上使用只需要节点列表不需要生成配置配置同步配置同步只会涉及到它自带通过同步但是需要手动点击下载才能同步因为我在多个服务器上都部署了所以这种同步方式不太优雅容器暴露出来文件只有个是节点配置是服务配置所以我只需要将这个文件同步到其他服务器即可最方便的就是是用相关的数据同步方案将在数据篇详细介绍网络连通性检查通过去检测网络是否正常如果不正常就要通知检测网络是否畅通的域名或者阿里云的的次数请求成功次数如果请求成功总次数大于则表示成功检测网络连接函数如果次至少有次包未响应则执行一下代码如果无法连接网络则重启网络网络连接失败网络连接正常检查完毕检查可以传入不同的端口来检测多个服务顺带检测一下服务检查端口是否存在检查的端口是否存在检查检查外部网络是否正常检测网络是否畅通未正常工作正常资源推荐包含超过个自托管的开源软件项目涵盖各种领域如博客论坛社交媒体邮件服务数据库办公软件媒体服务器游戏等收录超过个开源应用涵盖智能家居实验室建设效率提升等多个方面包含多款自托管服务主题相关文章先导篇我的概要硬件篇介绍我所拥有的硬件设备网络篇包括网络环境异地组网与网络安全服务篇使用搭建的各类服务数据篇包括数据存储方案备份方案和数据恢复方案数据同步构建高效的数据同步网络数据备份打造坚实的数据安全防线网络续集升级网络再战年内网穿透详解揭秘网络连接背后的奥秘",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-02-07 21:48:04",postMainColor:""}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:(e,t,a)=>{var o;0!==a&&(o=Date.now(),localStorage.setItem(e,JSON.stringify({value:t,expiry:o+864e5*a})))},get:e=>{var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!(Date.now()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=(o,c={})=>new Promise((t,e)=>{let a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},Object.keys(c).forEach(e=>{a.setAttribute(e,c[e])}),document.head.appendChild(a)}),e.getCSS=(o,c=!1)=>new Promise((t,e)=>{let a=document.createElement("link");a.rel="stylesheet",a.href=o,c&&(a.id=c),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#18171d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#f7f9fe")};var e=saveToLocal.get("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,o=window.matchMedia("(prefers-color-scheme: no-preference)").matches,c=!t&&!a&&!o,t=(void 0===e?(a?activateLightMode():t?activateDarkMode():(o||c)&&((a=(new Date).getHours())<=8||22<=a?activateDarkMode:activateLightMode)(),window.matchMedia("(prefers-color-scheme: dark)").addListener(e=>{void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode:activateLightMode)()})):("light"===e?activateLightMode:activateDarkMode)(),saveToLocal.get("aside-status"));void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="https://s1.hdslb.com/bfs/static/jinkela/long/font/medium.css"><script src="https://cdn.dong4j.site/source/static/echarts.min.js"></script><link rel="stylesheet" href="https://cdn.dong4j.site/source/static/core.css"><link rel="stylesheet" href="https://cdn.dong4j.site/source/static/footer.css"><link rel="stylesheet" href="https://cdn.dong4j.site/source/static/index-imgloaded.css"><script src="https://cdn.dong4j.site/source/static/index-imgloaded.js"></script><script src="https://cdn.dong4j.site/source/static/detect-devtools.js"></script><script defer="" src="https://cdn.dong4j.site/source/static/umami.self.js" data-host-url="https://umami.dong4j.ink:1024" data-website-id="bd4721b7-a43f-4161-83ed-51c148a7ca9d"></script><script defer="" src="https://cdn.dong4j.site/source/static/counter.js" async="" id="online-counter" interval="60000" api="https://umami.dong4j.ink:1024/counter" room="000000001"></script><script src="https://cdn.dong4j.site/source/static/confetti.browser.min.js"></script><script src="https://cdn.dong4j.site/source/static/confetti.js"></script><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="司机带你开车" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="司机带你开车" type="application/rss+xml"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box"><div class="carplay"></div></div><script>let preloader={endLoading:()=>{document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()}),setTimeout(function(){preloader.endLoading()},2e3),document.getElementById("loading-box").addEventListener("click",()=>{preloader.endLoading()}),document.addEventListener("pjax:send",()=>{preloader.initLoading()}),document.addEventListener("pjax:complete",()=>{preloader.endLoading()})</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"><script async="" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://home.dong4j.site" title="个人主页"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/homepage.webp" alt="个人主页"><span class="back-menu-item-text">个人主页</span></a><a class="back-menu-item" href="https://blog.dong4j.site" title="博客"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/blog.webp" alt="博客"><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://resume.dong4j.site" title="简历"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/resume.webp" alt="简历"><span class="back-menu-item-text">简历</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://npx-card.dong4j.site" title="npx-card"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/npx-card.webp" alt="npx-card"><span class="back-menu-item-text">npx-card</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/watt-stack" title="Watt.Stack"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/watt.webp" alt="Watt.Stack"><span class="back-menu-item-text">Watt.Stack</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/dong4j/markdown-image-kit" title="MIK"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/mik.webp" alt="MIK"><span class="back-menu-item-text">MIK</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/dong4j/macOS-dev" title="macOS.dev"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/mac.webp" alt="macOS.dev"><span class="back-menu-item-text">macOS.dev</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://project.dong4j.site/" title="更多"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/project.webp" alt="更多"><span class="back-menu-item-text">更多</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">服务</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://uptime.dong4j.ink:1024/status/services" title="服务状态"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/uptime-kuma.svg" alt="服务状态"><span class="back-menu-item-text">服务状态</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://nezha.dong4j.ink:1024?f=blog" title="服务面板"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/nezha.webp" alt="服务面板"><span class="back-menu-item-text">服务面板</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://nav.dong4j.ink:1024/" title="导航页"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/nav.webp" alt="导航页"><span class="back-menu-item-text">导航页</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://umami.dong4j.ink:1024/share/V7Rat8DdVw4npjl2/blog.dong4j.site" title="Umami"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/umami.webp" alt="Umami"><span class="back-menu-item-text">Umami</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://muselink.cc/dong4j 👈这是我的MuseLink数字名片！" title="数字名片"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/muse.lin.webp" alt="数字名片"><span class="back-menu-item-text">数字名片</span></a><a class="back-menu-item" href="/ai/deepseek-r1-webgpu/" title="DeepSeek"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/deepseek.webp" alt="DeepSeek"><span class="back-menu-item-text">DeepSeek</span></a><a class="back-menu-item" href="/ai/rmbg/playground/" title="RMBG"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/rmbg.webp" alt="RMBG"><span class="back-menu-item-text">RMBG</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="http://chat.dong4j.ink:1024/chat" title="Mini-Chat"><img class="back-menu-item-icon" src="https://cdn.dong4j.site/source/image/emoji1.webp" alt="Mini-Chat"><span class="back-menu-item-text">Mini-Chat</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">司机带你开车</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)" rel="external nofollow noreferrer">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i><span> 总览</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size:.9em"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size:.9em"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size:.9em"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size:.9em"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/messages/"><i class="fa fa-comments faa-tada"></i><span> 最新评论</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="fa fa-line-chart faa-tada"></i><span> 统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size:.9em"></i><span> 我的装备</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size:.9em"></i><span> 小空调</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/memos/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size:.9em"></i><span> 备忘录</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><i class="fa-solid fa-map faa-tada"></i><span> 折腾清单</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/stars/"><i class="fa-brands fa-github faa-tada"></i><span> Star 清单</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size:.9em"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size:.9em"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()" rel="external nofollow noreferrer"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size:.9em"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole()"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://cdn.dong4j.site/source/image/wechat-pay.webp" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://cdn.dong4j.site/source/image/wechat-pay.webp"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.dong4j.site/source/image/alipay.webp" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://cdn.dong4j.site/source/image/alipay.webp"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title">最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/%E8%BF%90%E7%AE%97%E7%AC%A6/" style="font-size:1.05rem;color:#0b673b">+运算符<sup>1</sup></a><a href="/tags/checkedexception/" style="font-size:1.05rem;color:#3e9b0a">CheckedException<sup>1</sup></a><a href="/tags/error/" style="font-size:1.05rem;color:#33b1bf">Error<sup>1</sup></a><a href="/tags/exception/" style="font-size:1.05rem;color:#b83165">Exception<sup>1</sup></a><a href="/tags/java/" style="font-size:1.05rem;color:#336726">Java<sup>48</sup></a><a href="/tags/javabean/" style="font-size:1.05rem;color:#081d9f">JavaBean<sup>1</sup></a><a href="/tags/oop/" style="font-size:1.05rem;color:#aca690">OOP<sup>1</sup></a><a href="/tags/runtimeexception/" style="font-size:1.05rem;color:#b44b76">RuntimeException<sup>1</sup></a><a href="/tags/throwable/" style="font-size:1.05rem;color:#0821a4">Throwable<sup>1</sup></a><a href="/tags/final/" style="font-size:1.05rem;color:#2fc1b6">final<sup>2</sup></a><a href="/tags/finalize/" style="font-size:1.05rem;color:#28b07b">finalize<sup>1</sup></a><a href="/tags/finally/" style="font-size:1.05rem;color:#ae771e">finally<sup>2</sup></a><a href="/tags/getter/" style="font-size:1.05rem;color:#3d7b5d">getter<sup>1</sup></a><a href="/tags/new%E5%85%B3%E9%94%AE%E5%AD%97/" style="font-size:1.05rem;color:#535353">new关键字<sup>1</sup></a><a href="/tags/setter/" style="font-size:1.05rem;color:#746b4e">setter<sup>1</sup></a><a href="/tags/static/" style="font-size:1.05rem;color:#541232">static<sup>1</sup></a><a href="/tags/super/" style="font-size:1.05rem;color:#88861e">super<sup>2</sup></a><a href="/tags/this/" style="font-size:1.05rem;color:#9339c2">this<sup>1</sup></a><a href="/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6/" style="font-size:1.05rem;color:#9483b3">二进制<sup>1</sup></a><a href="/tags/%E5%B0%81%E8%A3%85/" style="font-size:1.05rem;color:#1b420f">封装<sup>3</sup></a><a href="/tags/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" style="font-size:1.05rem;color:#45c53b">异常处理<sup>3</sup></a><a href="/tags/%E6%8A%BD%E8%B1%A1%E7%B1%BB/" style="font-size:1.05rem;color:#1d04c3">抽象类<sup>1</sup></a><a href="/tags/%E6%8E%A5%E5%8F%A3/" style="font-size:1.05rem;color:#041328">接口<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" style="font-size:1.05rem;color:#4096a9">数据类型<sup>4</sup></a><a href="/tags/%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD/" style="font-size:1.05rem;color:#45905a">方法重载<sup>1</sup></a><a href="/tags/%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6/" style="font-size:1.05rem;color:#15bea8">条件运算符<sup>1</sup></a><a href="/tags/%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95/" style="font-size:1.05rem;color:#459d99">构造方法<sup>1</sup></a><a href="/tags/%E6%BA%A2%E5%87%BA/" style="font-size:1.05rem;color:#410bba">溢出<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size:1.05rem;color:#9c121a">算法<sup>1</sup></a><a href="/tags/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" style="font-size:1.05rem;color:#777091">类型转换<sup>3</sup></a><a href="/tags/%E7%BB%A7%E6%89%BF/" style="font-size:1.05rem;color:#6a5bba">继承<sup>2</sup></a><a href="/tags/%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5/" style="font-size:1.05rem;color:#116aa7">编程实践<sup>2</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F/" style="font-size:1.05rem;color:#ba377b">计算机程序<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/" style="font-size:1.05rem;color:#8821c4">计算机语言<sup>1</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size:1.05rem;color:#b90a07">设计模式<sup>3</sup></a><a href="/tags/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/" style="font-size:1.05rem;color:#380340">访问控制<sup>1</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6/" style="font-size:1.05rem;color:#39ab64">软件<sup>1</sup></a><a href="/tags/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" style="font-size:1.05rem;color:#62a971">错误处理<sup>2</sup></a><a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size:1.05rem;color:#9945bc">面向对象<sup>6</sup></a><a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/" style="font-size:1.05rem;color:#3051ad">面向对象编程<sup>4</sup></a></div></div><hr></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多"> <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div><hr></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div class="console-btn-item" id="consoleKeyboard" onclick="anzhiyu.keyboardToggle()" title="快捷键开关"><a class="keyboard-switch"><i class="anzhiyufont anzhiyu-icon-keyboard"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);" rel="external nofollow noreferrer"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/homelab-%E4%B8%AD%E5%B9%B4%E7%94%B7%E4%BA%BA%E7%9A%84%E5%BF%AB%E4%B9%90%E6%BA%90%E6%B3%89/" itemprop="url">HomeLab:中年男人的快乐源泉</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/docker/" tabindex="-1" itemprop="url"> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>Docker</span></a><a class="article-meta__tags" href="/tags/homelab/" tabindex="-1" itemprop="url"> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>HomeLab</span></a><a class="article-meta__tags" href="/tags/%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5/" tabindex="-1" itemprop="url"> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>文件同步</span></a><a class="article-meta__tags" href="/tags/%E8%87%AA%E6%89%98%E7%AE%A1%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%B9%B3%E5%8F%B0/" tabindex="-1" itemprop="url"> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>自托管云服务平台</span></a><a class="article-meta__tags" href="/tags/%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2/" tabindex="-1" itemprop="url"> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>服务部署</span></a></span></div></div><h1 class="post-title" itemprop="name headline">HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2020-04-13T16:00:00.000Z" title="发表于 2020-04-14 00:00:00">2020-04-14</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-02-07T13:48:04.607Z" title="更新于 2025-02-07 21:48:04">2025-02-07</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">24.3k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>84分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" data-flag-title="HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator"> </span><span class="post-meta-position" title="作者IP属地为成都"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>成都</span><span class="post-meta-separator"></span><span class="post-meta-commentcount"><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/b2341239.html#post-comment" tabindex="-1"><span id="twikoo-count"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://cdn.dong4j.site/source/image/20241229154732_hoB1PW2R.webp"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><div class="post-ai-description"><div class="ai-title"><i class="fa-regular fa-robot fa-fade"></i><div class="ai-title-text">摘要助手</div><div id="ai-Toggle">切换</div><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i><i class="anzhiyufont anzhiyu-icon-circle-dot" title="朗读摘要"></i><div id="ai-tag">SummaryGPT</div></div><div class="ai-explanation">AI初始化中...</div><div class="ai-btn-box"><div class="ai-btn-item">介绍自己 🙈</div><div class="ai-btn-item">生成本文简介 👋</div><div class="ai-btn-item">推荐相关文章 📖</div><div class="ai-btn-item">前往主页 🏠</div><div class="ai-btn-item">前往订阅 💥</div><div class="ai-btn-item" id="go-comment">前往评论 💬</div><div class="ai-btn-item" id="go-tianli-blog">👀 部署教程</div></div><script data-pjax="" src="https://cdn.dong4j.site/source/static/ai_abstract.js"></script></div><article class="post-content" id="article-container" itemscope="" itemtype="https://blog.dong4j.site/posts/b2341239.html"><header><a class="post-meta-categories" href="/categories/homelab-%E4%B8%AD%E5%B9%B4%E7%94%B7%E4%BA%BA%E7%9A%84%E5%BF%AB%E4%B9%90%E6%BA%90%E6%B3%89/" itemprop="url">HomeLab:中年男人的快乐源泉</a><a href="/tags/docker/" tabindex="-1" itemprop="url">Docker</a><a href="/tags/homelab/" tabindex="-1" itemprop="url">HomeLab</a><a href="/tags/%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5/" tabindex="-1" itemprop="url">文件同步</a><a href="/tags/%E8%87%AA%E6%89%98%E7%AE%A1%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%B9%B3%E5%8F%B0/" tabindex="-1" itemprop="url">自托管云服务平台</a><a href="/tags/%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2/" tabindex="-1" itemprop="url">服务部署</a><h1 id="CrawlerTitle" itemprop="name headline">HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程</h1><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">dong4j</span><time itemprop="dateCreated datePublished" datetime="2020-04-13T16:00:00.000Z" title="发表于 2020-04-14 00:00:00">2020-04-14</time><time itemprop="dateCreated datePublished" datetime="2025-02-07T13:48:04.607Z" title="更新于 2025-02-07 21:48:04">2025-02-07</time></header><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_hoB1PW2R.webp" alt="/images/cover/20241229154732_hoB1PW2R.webp"></p><p>在这个充满无限可能的数字时代, 我们有机会通过自托管的云服务平台来构建一个属于个人的云端世界. 这不是简单地访问远程服务器, 而是亲手打造、定制并管理自己的虚拟实验室, 进行各种新奇有趣的服务部署. 这种“折腾”不仅仅是一种乐趣, 更是一种自我挑战和创造力的释放.</p><p>从这篇博客开始, 我会不时地介绍一些我在自托管环境中安装和配置的新奇有趣服务. 这些服务或许并非我当下所需, 但正是这种创造需求的精神驱动着我不断地探索新领域、学习新技术. 在这个过程中, 我也希望能够与大家分享我的经验和见解, 一起探讨如何在个人云端世界中找到乐趣和价值.</p><p>在这里, 你将会看到我如何一步步搭建属于自己的实验环境, 从选择合适的硬件到配置各种软件服务. 无论是对技术充满热情的爱好者, 还是希望拓展技能的初学者, 这里都会有一些实用的技巧和建议.</p><p>让我们一起踏上这段旅程吧！让我们在自托管的乐趣中不断学习、创造和成长. 敬请关注接下来的博客文章, 期待与你的共同探讨和分享.</p><p><strong>相关文章:</strong></p><ol><li><a href="/posts/15433dee.html">先导篇</a>：我的 HomeLab 概要;</li><li><a href="/posts/1c3b04a.html">硬件篇</a>：介绍我所拥有的硬件设备;</li><li><a href="/posts/e537d446.html">网络篇</a>：包括网络环境、异地组网与网络安全;</li><li><a href="/posts/b2341239.html">服务篇</a>：使用 Docker 搭建的各类服务;</li><li><a href="/posts/b808f350.html">数据篇</a>：包括数据存储方案、备份方案和数据恢复方案;</li><li><a href="/posts/273b6766.html">HomeLab数据同步：构建高效的数据同步网络</a></li><li><a href="/posts/6c25aa66.html">HomeLab数据备份：打造坚实的数据安全防线</a></li><li><a href="/posts/7e09e56.html">HomeLab 网络续集：升级 10G 网络-再战 10 年</a></li><li><a href="/posts/15433dee.html">NAT 内网穿透详解：揭秘网络连接背后的奥秘</a></li></ol><h2 id="HomeLab-的核心-Docker"><a href="#HomeLab-的核心-Docker" class="headerlink" title="HomeLab 的核心: Docker"></a>HomeLab 的核心: Docker</h2><p>在个人云端实验室（HomeLab）中, Docker 赋予了我们强大的功能和服务部署能力. 它成为了 HomeLab 架构中不可或缺的一部分, 提供了诸多便利:</p><ol><li><strong>容器化部署</strong>：Docker 允许我们将应用程序及其依赖项打包在一个称为容器的轻量级执行环境中. 这意味着无论在哪个硬件和操作系统上, 只要安装了 Docker 引擎, 我们就可以轻松地部署和管理这些容器.</li><li><strong>可移植性与一致性</strong>：通过使用 Docker, 我们可以保证在不同的开发和生产环境之间的一致性, 因为应用程序运行在相同的隔离环境下. 这大大简化了应用的迁移和部署过程.</li><li><strong>资源利用率</strong>：Docker 容器与传统的虚拟机相比, 具有更低的系统开销, 因为它不需要额外的操作系统来支持. 这使得 Docker 能够更高效地利用主机资源.</li></ol><p>因此, 是否能够支持 Docker 运行也成为了我在选择硬件时的重要考量因素之一, 至于为什么没有上 K8S, 还是因为对于目前的情况直接使用 Docker 完全能胜任, 暂时还不想因为引入 K8S 增加复杂性.</p><p>接下来我将分享在使用 Docker 过程中的实战经验和所遇到的问题, 并在这些底层基础服务稳定运行之后, 继续介绍我的其他服务和应用搭建过程.</p><h3 id="远程管理"><a href="#远程管理" class="headerlink" title="远程管理"></a>远程管理</h3><p>我拥有一个由多个 Docker 主机组成的网络. 为了更有效地管理和监控这些主机及它们上的容器, 我需要一个集中的管理解决方案. 这意味着我需要一种方法来从单一界面访问和控制所有 Docker 实例.</p><p>目前正在使用 <strong><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cucG9ydGFpbmVyLmlvLw==">Portainer</a>:</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_GOnzu0wY.webp" alt="20241229154732_GOnzu0wY.webp"></p><p>Portainer Community Edition 是一个轻量级平台, 用于跨 Docker、Swarm、Kubernetes 和 ACI 环境管理容器化应用程序. 它提供用于管理资源的 GUI 和 API, 并且可以部署为 Linux 或 Windows 本机容器.</p><p>Portainer 商业版建立在开源基础之上, 包含适合商业用户的高级功能. 社区版定期更新, 大约每几个月更新一次.</p><p>好用且免费, 是目前主要的管理工具.</p><hr><p>另一个是刚部署不久的 <strong><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2RvbmtuYXAvZHBhbmVs">DPanel</a></strong>, 同样支持多 Docker 主机管理, 亮点是支持 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kcGFuZWwuY2MvIy96aC1jbi9tYW51YWwvc2V0dGluZy9zdG9yZQ==">第三方应用商店</a>, 不过用起来不是特别流畅, 目前算作备用选择:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_l4aJ1BNh.webp" alt="20241229154732_l4aJ1BNh.webp"></p><p><strong>特性</strong>:</p><ul><li>全中文的界面, 更适合中文环境使用.</li><li>安装简单, 占用资源极少, 适合各种 Nas 设备、盒子以及小型服务器.</li><li>以容器的方式运行, 不需要特权模式, 对宿主机没有依赖及侵入, 安全且可靠.</li><li>提供完善的容器创建及管理功能, 并提供容器域名绑定功能适配简单使用场景.</li><li>提供的文件管理功能, 可以方便、快速的查看及调试容器内的各种文件.</li><li>提供完善的网络管理功能, 便于容器之间的互联、互通, 以及各种网络配置需求.</li><li>支持文本、远程地址、挂载目录等多种 compose.yml 添加方式, 快速部署和管理 Compose 任务.</li><li>提供多种语言的基础镜像和模板, 可以快速构建属于自己的镜像, 并可以通过 Zip 或是 Git 等方式, 快速实现可持续化构建.</li></ul><hr><p><strong>Dockge</strong></p><p>Uptime Kuma 作者的另一个开源项目-<a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2xvdWlzbGFtL2RvY2tnZQ==">Dockge</a> 是一个用于管理 Docker Compose YAML 文件的堆栈式管理工具. Dockge 提供了创建、编辑、启动、停止、重启和删除堆栈等功能, 并具有交互式编辑器和 Web 终端等特性.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_QEIZq3Kn.webp" alt="20241229154732_QEIZq3Kn.webp"></p><p><strong>特性</strong>:</p><ul><li><strong>功能全面</strong>：支持创建、编辑、启动、停止、重启和删除 Docker Compose 堆栈, 以及更新 Docker 镜像.</li><li><strong>式体验</strong>：提供交互式编辑器和 Web 终端, 方便用户管理 Docker 环境.</li><li><strong>跨平台支持</strong>：可在主流 Linux 发行版上运行, 包括 Ubuntu、Debian、Raspbian、CentOS、Fedora 和 ArchLinux.</li><li><strong>开源免费</strong>：采用 MIT 许可协议, 免费开源.</li></ul><blockquote><p>Dockge 只能管理单台 Docker 主机, 它的重点是 dockerc-compose 的管理与维护.</p></blockquote><hr><p>Docker 集中管控的前提是需要开启 Docker 主机的远程管理端口, 因为涉及到多种类型的系统, 我这里统一整理一下:</p><h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/lib/systemd/system/docker.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">追加 tcp</span></span><br><span class="line">ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock -H tcp://0.0.0.0:2375</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重新加载 Docker 守护进程</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启 Docker 服务</span></span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></tbody></table></figure><h4 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h4><p>在 macOS 下无法直接修改配置文件来开启 Remote API 服务, 通过运行 <code>socat</code> 容器, 将 <code>unix socket</code> 上 Docker API 转发到 MacOS 指定的端口：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=unless-stopped -v /var/run/docker.sock:/var/run/docker.sock -p 2375:2375 bobrik/socat TCP-LISTEN:2375,fork UNIX-CONNECT:/var/run/docker.sock</span><br></pre></td></tr></tbody></table></figure><p>或者使用 docker-compose:</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">docker-socat:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">bobrik/socat</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">docker-socat</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"2375:2375"</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/var/run/docker.sock:/var/run/docker.sock</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">"TCP-LISTEN:2375,fork UNIX-CONNECT:/var/run/docker.sock"</span></span><br></pre></td></tr></tbody></table></figure><h4 id="OpenWrt"><a href="#OpenWrt" class="headerlink" title="OpenWrt"></a>OpenWrt</h4><p>OpenWrt 直接通过 WebUI 修改:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_SxM9gN4W.webp" alt="20241229154732_SxM9gN4W.webp"></p><p>或者编辑配置文件:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/config/dockerd</span><br><span class="line"></span><br><span class="line">config globals 'globals'</span><br><span class="line"><span class="meta prompt_">	# </span><span class="language-bash">添加这一行</span></span><br><span class="line">	list hosts 'tcp://0.0.0.0:2375'</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 重启</span><br><span class="line">/etc/init.d/docker restart</span><br></pre></td></tr></tbody></table></figure><h4 id="NAS"><a href="#NAS" class="headerlink" title="NAS"></a>NAS</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">DSM 7.2 之前</span></span><br><span class="line">sudo vim /var/packages/Docker/etc/dockerd.json</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">DSM 7.2</span></span><br><span class="line">sudo vim /var/packages/ContainerManager/etc/dockerd.json</span><br></pre></td></tr></tbody></table></figure><p>添加如下配置:</p><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">"hosts"</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="string">"tcp://0.0.0.0:2375"</span><span class="punctuation">,</span><span class="string">"unix:///run/docker.sock"</span><span class="punctuation">]</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启 Docker</span></span><br><span class="line">sudo synosystemctl restart pkgctl-ContainerManager</span><br></pre></td></tr></tbody></table></figure><h4 id="树莓派"><a href="#树莓派" class="headerlink" title="树莓派"></a>树莓派</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/default/docker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">末尾添加</span></span><br><span class="line">DOCKER_OPTS="-H tcp://0.0.0.0:2375"</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启 docker</span></span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="一次配置-到处运行"><a href="#一次配置-到处运行" class="headerlink" title="一次配置, 到处运行"></a>一次配置, 到处运行</h3><p>我的所有 Docker 容器全部使用 docker-compose 启动, 用 docker-compose.yml 文件(可以使用一些转换工具将 docker run 转换成 docker-compose.yml), 方便在不同环境中重现, 然后使用 Synology Drive + Syncthing 同步 docker-compose.yml 文件, 然后在多设备上运行:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/docker-sync.drawio.svg" alt="docker-sync.drawio.svg"></p><ol><li>具备安装 Synology Drive Client 的主机直接使用 Drive 同步数据;</li><li>其他的则通过 Syncthing 同步, Mac mini 2018 作为 Synology Drive 和 Syncthing 的枢纽;</li></ol><p>这样我在任意设备上新增或修改了 docker-compose.yml 都会通过到其他设备上, 具体配置方式将在下章的 <a href="/posts/b808f350.html">数据篇</a> 中详细说明.</p><hr><h3 id="数据目录迁移"><a href="#数据目录迁移" class="headerlink" title="数据目录迁移"></a>数据目录迁移</h3><p>M920x 的系统盘只有 512G, 因为 M920x 定位为 Docker 容器的主力机, 所以预计 Docker 镜像会占据大量空间, 因此考虑将 Docker 的数据目录迁移到 1T SSD 中. 迁移有两种方案:</p><ol><li>使用软链接;</li><li>修改默认存储目录;</li></ol><h4 id="使用软链接"><a href="#使用软链接" class="headerlink" title="使用软链接"></a>使用软链接</h4><p>迁移之前需要停止 Docker, 但是在停止报错了:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stopping 'docker.service', but its triggering units are still active:</span><br><span class="line">docker.socket</span><br></pre></td></tr></tbody></table></figure><p>这是因为 docker.socket 依然在运行, 它是 Docker 的监听套接字, 负责监听 Docker API 请求并触发 docker.service.</p><p>在停止 docker.service 之前, 需要先停止 docker.socket：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop docker.socket</span><br><span class="line">sudo systemctl stop docker</span><br></pre></td></tr></tbody></table></figure><p>然后迁移数据:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -avzP /var/lib/docker /mnt/3.860.ssd/</span><br></pre></td></tr></tbody></table></figure><ul><li><strong>-a</strong>: 归档模式, 表示递归传输并保持文件属性;</li><li><strong>-v</strong>: 显示 rsync 过程中详细信息. 可以使用”-vvvv”获取更详细信息;</li><li><strong>-P</strong>: 显示文件传输的进度信息. (实际上 <code>-P=--partial --progress</code>, 其中的 <code>--progress</code> 才是显示进度信息的);</li><li><strong>-z</strong>: 传输时进行压缩提高效率;</li></ul><p>备份数据目录:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /var/lib/docker  /var/lib/docker.bak</span><br></pre></td></tr></tbody></table></figure><p>重启 Docker</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></tbody></table></figure><p>启动 Docker 之后, Docker 写入的路径依然是 <code>/var/lib/docker</code> , 但是因为软链接的设置, 实际已经是往新的目录写入了. 至此, 完成了 Docker 安装(存储)目录的迁移.</p><p>通过上述方法完成迁移之后, 在确认 Docker 能正常工作之后, 删除原目录备份数据：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf /var/lib/docker.bak</span><br></pre></td></tr></tbody></table></figure><h4 id="修改默认存储目录"><a href="#修改默认存储目录" class="headerlink" title="修改默认存储目录"></a>修改默认存储目录</h4><p>迁移数据的过程都一样:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -avzP /var/lib/docker /mnt/3.860.ssd/</span><br></pre></td></tr></tbody></table></figure><p>修改 <code>/etc/docker/daemon.json</code>:</p><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">  <span class="attr">"data-root"</span><span class="punctuation">:</span> <span class="string">"/mnt/3.860.ssd/docker"</span><span class="punctuation">,</span></span><br><span class="line">  ...</span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure><p>使用 <code>data-root</code> 定义数据目录, 最后重启 docker, 验证目录:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info | grep "Docker Root Dir"</span><br></pre></td></tr></tbody></table></figure><p>没问题就可以删除原目录了.</p><h3 id="容器自动更新"><a href="#容器自动更新" class="headerlink" title="容器自动更新"></a>容器自动更新</h3><p>在使用 Docker 的过程中, 虽然我们知道在容器对应的镜像后面添加 latest 标签, 然后通过手动编辑容器, 即可拉取最新镜像, 然后达成更新容器的目的. 但是当建立非常多的容器之后, 使用手动更新容器将会是一件非常繁琐的事情, 这里推荐一款非常优雅的容器更新工具-<a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2NvbnRhaW5ycnIvd2F0Y2h0b3dlcg==">Watchtower</a>.</p><p>Watchtower 是一个开源项目, 它可以监控你的 Docker 容器, 并在容器的基础镜像有更新时自动重启容器. 这个工具对于需要持续部署和集成的项目来说非常有用, 可以简化管理工作并确保你的应用始终运行最新的镜像.</p><p>我目前的配置如下:</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">watchtower:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">containrrr/watchtower</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">watchtower</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/var/run/docker.sock:/var/run/docker.sock</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">--http-api-update</span> <span class="string">--http-api-periodic-polls</span> <span class="string">--cleanup</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WATCHTOWER_HTTP_API_TOKEN=xxx</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WATCHTOWER_NOTIFICATIONS=email</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WATCHTOWER_NOTIFICATION_EMAIL_FROM=xxx</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WATCHTOWER_NOTIFICATION_EMAIL_TO=xxx</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WATCHTOWER_NOTIFICATION_EMAIL_SERVER=xxx</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WATCHTOWER_NOTIFICATION_EMAIL_SERVER_PORT=xxx</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WATCHTOWER_NOTIFICATION_EMAIL_SERVER_USER=xxx</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WATCHTOWER_NOTIFICATION_EMAIL_SERVER_PASSWORD=xxx</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WATCHTOWER_NOTIFICATION_EMAIL_DELAY=2</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"com.centurylinklabs.watchtower.enable=false"</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8088</span><span class="string">:8080</span></span><br></pre></td></tr></tbody></table></figure><ol><li>使用 <code>--http-api-update</code> 开始 API 手动更新功能;</li><li>使用 <code>--http-api-periodic-polls</code> 开始自动定时更新功能;</li><li>使用 <code>--cleanup</code> 删除旧的镜像;</li><li>使用 <code>WATCHTOWER_NOTIFICATION_EMAIL</code> 将更新通过邮件通知, 当然还有其他通知方式;</li></ol><p>其中 <code>WATCHTOWER_HTTP_API_TOKEN</code> 是 API 的 token, 调用 API 时需要添加到 Header 中, 并使用邮件通知更新的内容.</p><p>上述配置会监听当前主机所有的 Docker 容器, 目前适用我现在的场景, 更多的高级功能比如 更新特定容器, 忽略更新某些容器, 监控远程 Docker 容器等可查看官方文档了解.</p><hr><h3 id="常见操作备忘"><a href="#常见操作备忘" class="headerlink" title="常见操作备忘"></a>常见操作备忘</h3><h4 id="非-root-用户使用-Docker-命令"><a href="#非-root-用户使用-Docker-命令" class="headerlink" title="非 root 用户使用 Docker 命令"></a>非 root 用户使用 Docker 命令</h4><p>Docker 默认使用 Unix 套接字与守护进程通信, 而该套接字的权限只允许 root 用户和 docker 组用户访问, 因此需要将该用户添加到 docker 组.</p><p><strong>群晖</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo synogroup --add docker</span><br><span class="line">sudo synogroup --member docker $USER</span><br><span class="line">sudo chown root:docker /var/run/docker.sock</span><br></pre></td></tr></tbody></table></figure><p><strong>Linux</strong>:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo groupadd docker</span><br><span class="line">sudo usermod -aG docker $USER</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">newgrp是一个Linux系统命令, 用于切换当前会话的有效组</span></span><br><span class="line">newgrp docker</span><br></pre></td></tr></tbody></table></figure><h4 id="批量删除镜像"><a href="#批量删除镜像" class="headerlink" title="批量删除镜像"></a>批量删除镜像</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker rmi $(docker images -q)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">强制删除</span></span><br><span class="line">docker rmi -f $(docker images -q)</span><br></pre></td></tr></tbody></table></figure><h4 id="容器与寄主机之间拷贝文件"><a href="#容器与寄主机之间拷贝文件" class="headerlink" title="容器与寄主机之间拷贝文件"></a>容器与寄主机之间拷贝文件</h4><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">容器 --&gt; 寄主机</span></span><br><span class="line">docker cp &lt;容器ID&gt;:&lt;容器内路径&gt; &lt;宿主机路径&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">寄主机 --&gt; 容器</span></span><br><span class="line">docker cp &lt;宿主机路径&gt; &lt;容器ID&gt;:&lt;容器内路径&gt;</span><br></pre></td></tr></tbody></table></figure><h4 id="docker-run-互转-docker-compose"><a href="#docker-run-互转-docker-compose" class="headerlink" title="docker run 互转 docker-compose"></a>docker run 互转 docker-compose</h4><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2NvbXBvc2VyaXplL2NvbXBvc2VyaXpl">composerize</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2NvbXBvc2VyaXplL2RlY29tcG9zZXJpemU=">decomposerize</a></li></ul><h4 id="docker-代理"><a href="#docker-代理" class="headerlink" title="docker 代理"></a>docker 代理</h4><h5 id="运行时代理"><a href="#运行时代理" class="headerlink" title="运行时代理"></a>运行时代理</h5><ol><li><p>配置全局代理（适用于所有容器）</p><p>创建或编辑 Docker 守护进程配置文件:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/systemd/system/docker.service.d</span><br><span class="line">sudo nano /etc/systemd/system/docker.service.d/http-proxy.conf</span><br></pre></td></tr></tbody></table></figure><p>添加以下内容：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment="HTTP_PROXY=http://proxy.example.com:8080"</span><br><span class="line">Environment="HTTPS_PROXY=http://proxy.example.com:8080"</span><br><span class="line">Environment="NO_PROXY=localhost,127.0.0.1,.example.com"</span><br></pre></td></tr></tbody></table></figure><p>重新加载并重启 Docker 服务：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></tbody></table></figure></li><li><p>为特定容器配置代理</p><ul><li><p>使用 docker run 时配置代理</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -e HTTP_PROXY=http://proxy.example.com:8080 \</span><br><span class="line">           -e HTTPS_PROXY=http://proxy.example.com:8080 \</span><br><span class="line">           -e NO_PROXY=localhost,127.0.0.1 \</span><br><span class="line">           ubuntu</span><br></pre></td></tr></tbody></table></figure></li><li><p>在 docker-compose.yml 中配置代理</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">version: '3'</span><br><span class="line">services:</span><br><span class="line">  web:</span><br><span class="line">    image: nginx</span><br><span class="line">    environment:</span><br><span class="line">      - HTTP_PROXY=http://proxy.example.com:8080</span><br><span class="line">      - HTTPS_PROXY=http://proxy.example.com:8080</span><br><span class="line">      - NO_PROXY=localhost,127.0.0.1,.example.com</span><br></pre></td></tr></tbody></table></figure></li></ul></li><li><p>通过 .env 文件管理代理</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">.<span class="built_in">env</span></span></span><br><span class="line">HTTP_PROXY=http://proxy.example.com:8080</span><br><span class="line">HTTPS_PROXY=http://proxy.example.com:8080</span><br><span class="line">NO_PROXY=localhost,127.0.0.1,.example.com</span><br></pre></td></tr></tbody></table></figure><p>在 docker-compose.yml 中引用环境变量：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">  web:</span><br><span class="line">    image: nginx</span><br><span class="line">    environment:</span><br><span class="line">      - HTTP_PROXY=${HTTP_PROXY}</span><br><span class="line">      - HTTPS_PROXY=${HTTPS_PROXY}</span><br><span class="line">      - NO_PROXY=${NO_PROXY}</span><br></pre></td></tr></tbody></table></figure></li><li><p>在 Dockerfile 中配置代理</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FROM ubuntu</span><br><span class="line">ARG HTTP_PROXY</span><br><span class="line">ARG HTTPS_PROXY</span><br><span class="line">ENV HTTP_PROXY=${HTTP_PROXY}</span><br><span class="line">ENV HTTPS_PROXY=${HTTPS_PROXY}</span><br><span class="line"></span><br><span class="line">RUN apt-get update &amp;&amp; apt-get install -y curl</span><br></pre></td></tr></tbody></table></figure><p>构建时传递代理变量</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker build --build-arg HTTP_PROXY=http://proxy.example.com:8080 \</span><br><span class="line">             --build-arg HTTPS_PROXY=http://proxy.example.com:8080 \</span><br><span class="line">             -t my_image .</span><br></pre></td></tr></tbody></table></figure></li></ol><h5 id="拉取镜像时使用代理"><a href="#拉取镜像时使用代理" class="headerlink" title="拉取镜像时使用代理"></a>拉取镜像时使用代理</h5><p>docker pull /push 的代理被 systemd 接管, 所以需要设置 systemd:</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">mkdir</span> -p /etc/systemd/system/docker.service.d</span><br><span class="line">sudo vim /etc/systemd/system/docker.service.d/http-proxy.conf</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=<span class="string">"HTTP_PROXY=http://127.0.0.1:8123"</span></span><br><span class="line">Environment=<span class="string">"HTTPS_PROXY=https://127.0.0.1:8123"</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload &amp;&amp; sudo systemctl restart docker</span><br></pre></td></tr></tbody></table></figure><p>检查确认环境变量已经正确配置：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo systemctl show --property=Environment docker</span></span><br></pre></td></tr></tbody></table></figure><p>或从 <code>docker info</code> 的结果中查看配置项:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_roBMUc0U.webp" alt="20241229154732_roBMUc0U.webp"></p><blockquote><p>docker 镜像由 docker daemon 管理, 所以 <strong>不能用修改 shell 环境变量的方法使用代理服务</strong>, 而是从 systemd 角度设置环境变量.</p></blockquote><p><strong>修改代理后出现的问题</strong>:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error response from daemon: Get "https://docker.n8n.io/v2/": proxyconnect tcp: net/http: TLS handshake timeout</span><br></pre></td></tr></tbody></table></figure><p><strong>解决办法:</strong></p><ul><li><p>方式一: 将 https 代理的地址改成 http</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=<span class="string">"HTTP_PROXY=http://127.0.0.1:8123"</span></span><br><span class="line">Environment=<span class="string">"HTTPS_PROXY=http://127.0.0.1:8123"</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>方式二: 请删除 <code>https://</code> 和 <code>http://</code></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=<span class="string">"HTTP_PROXY=127.0.0.1:8123"</span></span><br><span class="line">Environment=<span class="string">"HTTPS_PROXY=127.0.0.1:8123"</span></span><br></pre></td></tr></tbody></table></figure></li></ul><hr><h4 id="容器访问主机网络"><a href="#容器访问主机网络" class="headerlink" title="容器访问主机网络"></a>容器访问主机网络</h4><p>这里只是说一下 <code>host.docker.internal</code>:</p><p>比如, 在主机上运行 MySQL 服务器, Docker 容器可以通过网络访问连接到主机的 MySQL 具体名为 host.docker.internal:3306 . 当在 Windows 或 Mac 计算机上工作时, 这是最简单的技术.</p><p>Linux 上的 Docker 引擎用户也可以通过 docker run 的 <code>--add-host</code> 标志启用主机的默认名称 <code>host.docker.internal</code>.</p><p><strong>docker run</strong>:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --add-host host.docker.internal:host-gateway my-container:latest</span><br></pre></td></tr></tbody></table></figure><p><strong>docker-compose</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">  web:</span><br><span class="line">    image: nginx</span><br><span class="line">    ports:</span><br><span class="line">      - "8080:80"</span><br><span class="line">    extra_hosts:</span><br><span class="line">      - "host.docker.internal:host-gateway"</span><br></pre></td></tr></tbody></table></figure><p>extra_hosts 配置会将 host.docker.internal 映射到宿主机.</p><p><code>–add-host</code> 标志向容器的 <code>/etc/hosts</code> 文件添加一个条目. 上面显示的值将 <code>host.docker.internal</code> 映射到容器的主机网关 .</p><blockquote><p>上述方式在主机部署 LLM 模型, 而应用层使用 Docker 部署时经常使用到.</p></blockquote><h2 id="Docker-服务"><a href="#Docker-服务" class="headerlink" title="Docker 服务"></a>Docker 服务</h2><h3 id="Docker-商店"><a href="#Docker-商店" class="headerlink" title="Docker 商店"></a>Docker 商店</h3><p>为了简化安装部署 Docker 服务, 我目前使用了多个第三方应用商店:</p><p><strong><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly8xcGFuZWwuY24v">1Panel</a></strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_wWV312Dl.webp" alt="20241229154732_wWV312Dl.webp"></p><ul><li><strong>开源, 现代化</strong>：1Panel 是一款开源的 Linux 服务器运维管理面板, 提供 Web 图形界面进行高效管理.</li><li><strong>功能丰富</strong>：支持主机监控、文件管理、数据库管理、容器管理等功能.</li><li><strong>快速建站</strong>：深度集成 WordPress 和 Halo 建站工具, 实现一键绑定域名和配置 SSL 证书.</li><li><strong>安全可靠</strong>：基于容器管理并部署应用, 提供病毒防护、防火墙和日志审计等功能.</li><li><strong>一键备份</strong>：支持一键备份和恢复, 将数据备份到各类云端存储介质.</li></ul><p><strong><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9jYXNhb3MuaW8v">CasaOS</a></strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_e38oDLTM.webp" alt="20241229154732_e38oDLTM.webp"></p><ul><li>基于 Docker, 可运行在多种设备上, 包括 x86 和 Raspberry Pi.</li><li>提供超过 20 个预安装应用和 50+ 个社区验证应用.</li><li>支持社区贡献, 用户提交新的应用.</li><li>用户界面简洁优雅, 易于操作.</li><li>支持备份设置, 方便快速安装和恢复应用.</li></ul><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9ydW50aXBpLmlvLw=="><strong>Runtipi</strong></a></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_Z7Jb8Npn.webp" alt="20241229154732_Z7Jb8Npn.webp"></p><ul><li><strong>免费开源</strong>: Runtipi 是一款免费且开源的软件, 用户可以自由使用和修改.</li><li><strong>简化安装</strong>: 通过一键安装, 用户可以轻松地将 200 多个流行的自托管应用程序部署到家中服务器.</li><li><strong>一键更新</strong>: 用户可以轻松地更新应用程序, 确保它们始终保持最新状态.</li><li><strong>易于配置</strong>: Runtipi 提供了一个简单的 Web UI, 用户可以轻松地自定义应用程序的配置.</li><li><strong>SSL 证书管理</strong>: Runtipi 自动管理 SSL 证书, 确保应用程序的安全连接.</li><li><strong>快速部署</strong>: 用户可以在几分钟内将应用程序从零部署到生产环境.</li></ul><p><strong>OpenWrt 中的第三方商店:</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_ctFyXsKX.webp" alt="20241229154732_ctFyXsKX.webp"></p><p>OpenWrt 本身存在大量第三方应用, 使用 iStore 方便点.</p><p>推荐 2 个源地址:</p><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kbC5waG90b25pY2F0LmNvbS8=">https://dl.photonicat.com</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kbC5vcGVud3J0LmFpLw==">https://dl.openwrt.ai</a></li></ul><p><strong>NAS 中的第三方商店:</strong></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_uwDcMglt.webp" alt="20241229154732_uwDcMglt.webp"></p><p>目前在用的几个第三方源:</p><ul><li><strong>synocommunity</strong>: <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9wYWNrYWdlcy5zeW5vY29tbXVuaXR5LmNvbS8=">https://packages.synocommunity.com/</a></li><li><strong>spk7</strong>: <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9zcGs3LmltbmtzLmNvbS8=">https://spk7.imnks.com/</a></li><li><strong>云梦:</strong> <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9zcGsuNTIwODEwLnh5ejo2NjYv">https://spk.520810.xyz:666</a></li><li><strong>4saG SPK Server:</strong> <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9zcGsuNHNhZy5ydS8=">https://spk.4sag.ru/</a></li><li><strong>Community Package Hub:</strong> <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cuY3BodWIubmV0Lw==">https://www.cphub.net</a></li></ul><hr><blockquote><p>我的绝大部分服务都已经通过 Docker 容器化技术部署在不同的设备上. 这种灵活的部署方式不仅提高了资源的利用率, 还使得服务的扩展和管理变得更加便捷.</p><p>选择设备时, 我主要考虑两个因素：资源和网络环境. 不同的服务器或设备可能有不同的计算能力、存储容量和网络连接速度, 因此我会根据服务的具体需求来选择最合适的硬件资源.</p><p>接下来, 我将按照设备的分类, 盘点一下我都安装了哪些自托管服务.</p></blockquote><h2 id="NAS-1"><a href="#NAS-1" class="headerlink" title="NAS"></a>NAS</h2><p>2 台群晖 NAS 更多的是肩负着数据存储与同步的重任, 使用一主一备的方式保证重要数据的安全性.</p><p>DS218+ 的任务是对外提供 Synology Drive 服务, 我的所有工作文件, 家庭照片全部存储在这上面, 而 DS923+ 则侧重于数据备份与影音文件管理, 首先会全量备份 DS218+ 的数据, 还会为其他设备提供备份服务, 其次为家人提供流媒体服务.</p><blockquote><p>这里推荐一个 NAS 相关的高质量玩机网站 - <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9pbW5rcy5jb20v">我不是矿神</a>.</p></blockquote><h3 id="DS218"><a href="#DS218" class="headerlink" title="DS218+"></a>DS218+</h3><h4 id="Vaultwarden"><a href="#Vaultwarden" class="headerlink" title="Vaultwarden"></a>Vaultwarden</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2RhbmktZ2FyY2lhL3ZhdWx0d2FyZGVu">Vaultwarden</a> 是一个使用 Rust 编写的非官方 Bitwarden 服务器实现, 它与 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9iaXR3YXJkZW4uY29tL2Rvd25sb2FkLw==">官方 Bitwarden 客户端</a> 兼容, 非常适合不希望运行官方的占用大量资源的自托管部署, 它是理想的选择. Vaultwarden 主要面向个人、家庭和小型组织.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_ipFMiyMU.webp" alt="20241229154732_ipFMiyMU.webp"></p><blockquote><p>如果最近你的 iOS 客户端无法正常登录使用, 可以将服务端更新到最新版本, 我就是这样解决的.</p></blockquote><p>考虑到安全问题, 目前正在使用 Vaultwarden 全面替代 1Password. 因为 Vaultwarden 强制要求通过 HTTPS 访问, 我目前使用 1Panel 来申请证书, 结合 WAF 使用.</p><p>如果只是在内网使用的话, 可以参考使用 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0ZpbG9Tb3R0aWxlL21rY2VydA==">mkcert</a> 来开启 HTTPS.</p><p>为了防止数据丢失, 我做了两重保护:</p><ul><li><p>将 Vaultwarden 的数据使用 Drive 实时同步到 DS923+, 然后在 DS923+ 上面也启动一个 Vaultwarden, 避免 DS218+ 挂掉之后无法使用;</p></li><li><p>使用脚本离线备份 Vaultwarden 数据文件:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">NOW=$(date +"%Y.%m.%d")</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Vaultwarden 的数据目录</span></span><br><span class="line">cd /volume1/docker/0.nas</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打包整个目录</span></span><br><span class="line">zip -q -r vaultwarden_$NOW.zip vaultwarden/</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">移动到 Synology Drive 相关目录下, 这样就能通过到其他客户端上, 相当于多端备份</span></span><br><span class="line">mv vaultwarden_$NOW.zip /volume1/driver/NAS/Bitwarden</span><br></pre></td></tr></tbody></table></figure><p>然后使用定时任务定期备份:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_e8P5IGnz.webp" alt="20241229154732_e8P5IGnz.webp"></p></li></ul><p>相关教程:</p><ul><li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9zc3BhaS5jb20vcG9zdC83OTE4Mw==">受够了密码数据泄漏事件？用 Bitwarden 做自己的安全负责人</a></p></li><li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2RhbmktZ2FyY2lhL3ZhdWx0d2FyZGVuL3dpa2kvRW5hYmxpbmctSFRUUFM=">https://github.com/dani-garcia/vaultwarden/wiki/Enabling-HTTPS</a></p></li><li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9ibG9nLmNmYW5kb3JhLmNvbS9hcmNoaXZlcy80NDkvI2NsLTI=">纯内网使用 Bitwarden</a>.</p></li></ul><hr><h4 id="MyIP"><a href="#MyIP" class="headerlink" title="MyIP"></a>MyIP</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2phc29uNW5nMzIvTXlJUA==">MyIP</a> 可能是最好用的 IP 工具箱. 轻松检查你的 IP, IP 地理位置, 检查 DNS 泄漏, 检查 WebRTC 连接, 速度测试, ping 测试, MTR 测试, 检查网站可用性, 查询 Whois 信息等等.</p><p>我主要拿来做一些连通性测试:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_WHL8FkrH.webp" alt="20241229154732_WHL8FkrH.webp"></p><p><strong>特性</strong>:</p><ul><li>🖥️ <strong>看自己的 IP</strong>：从多个 IPv4 和 IPv6 来源检测显示本机的 IP</li><li>🕵️ <strong>看 IP 信息</strong>：显示所有 IP 的相关信息, 包括国家、地区、ASN、地理位置等</li><li>🚦 <strong>可用性检测</strong>：检测一些网站的可用性：Google, Github, Youtube, 网易, 百度等</li><li>🚥 <strong>WebRTC 检测</strong>：查看使用 WebRTC 连接时使用的 IP</li><li>🛑 <strong>DNS 泄露检测</strong>：查看 DNS 出口信息, 以便查看在 VPN/代理的情况下, 是否存在 DNS 泄露隐私的风险</li><li>🚀 <strong>网速测试</strong>：利用边缘网络进行网速测试</li><li>🚏 <strong>代理规则测试</strong>：配合代理软件的规则设置, 测试规则设置是否正常</li><li>⏱️ <strong>全球延迟测试</strong>：从分布在全球的多个服务器进行延迟测试, 了解你与全球网络的连接速度</li><li>📡 <strong>MTR 测试</strong>：从分布在全球的多个服务器进行 MTR 测试, 了解你与全球的连接路径</li><li>🔦 <strong>DNS 解析器</strong>：从多个渠道对域名进行 DNS 解析, 获取实时的解析结果, 可用于污染判断</li><li>🚧 <strong>封锁测试</strong>：检查特定的网站在部分国家是否被封锁</li><li>📓 <strong>Whois 查询</strong>：对域名或 IP 进行 whois 信息查询</li><li>📀 <strong>MAC 地址查询</strong>：查询物理地址的归属信息</li><li>🌗 <strong>暗黑模式</strong>：根据系统设置自动切换暗黑/白天模式, 也可以手动切换</li><li>📱 <strong>简约模式</strong>：为移动版提供的专门模式, 缩短页面长度, 快速查看最重要的信息</li><li>🔍 <strong>查任意 IP 信息</strong>：可以通过小工具查询任意 IP 的信息</li><li>📲 <strong>支持 PWA</strong>：可以添加为手机应用以及电脑里的桌面应用, 方便使用</li><li>⌨️ <strong>支持快捷键</strong>：可以随时输入 <code>?</code> 查看快捷键菜单</li><li>🌍 根据可用性检测结果, 返回目前是否可以访问全世界网络的提示</li><li>🇺🇸 🇨🇳 🇫🇷 支持中文、英文、法文</li></ul><hr><h4 id="DDNS-GO"><a href="#DDNS-GO" class="headerlink" title="DDNS-GO"></a>DDNS-GO</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2plZXNzeTIvZGRucy1nbw==">DDNS-GO</a> 能够自动获得公网 IPv4 或 IPv6 地址, 并解析到对应的域名服务.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_KXWXUX58.webp" alt="20241229154732_KXWXUX58.webp"></p><p><strong>特性</strong>:</p><ul><li>支持 Mac、Windows、Linux 系统, 支持 ARM、x86 架构</li><li>支持的域名服务商 <code>阿里云</code> <code>腾讯云</code> <code>Dnspod</code> <code>Cloudflare</code> <code>华为云</code> <code>Callback</code> <code>百度云</code> <code>Porkbun</code> <code>GoDaddy</code> <code>Namecheap</code> <code>NameSilo</code> <code>Dynadot</code></li><li>支持接口/网卡/<a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2plZXNzeTIvZGRucy1nby93aWtpLyVFOSU4MCU5QSVFOCVCRiU4NyVFNSU5MSVCRCVFNCVCQiVBNCVFOCU4RSVCNyVFNSU4RiU5NklQJUU1JThGJTgyJUU4JTgwJTgz">命令</a>获取 IP</li><li>支持以服务的方式运行</li><li>默认间隔 5 分钟同步一次</li><li>支持同时配置多个 DNS 服务商</li><li>支持多个域名同时解析</li><li>支持多级域名</li><li>网页中配置, 简单又方便, 默认勾选<code>禁止从公网访问</code></li><li>网页中方便快速查看最近 50 条日志</li><li>支持 Webhook 通知</li><li>支持 TTL</li><li>支持部分 DNS 服务商 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2plZXNzeTIvZGRucy1nby93aWtpLyVFNCVCQyVBMCVFOSU4MCU5MiVFOCU4NyVBQSVFNSVBRSU5QSVFNCVCOSU4OSVFNSU4RiU4MiVFNiU5NSVCMA==">传递自定义参数</a>, 实现地域解析/多 IP 等功能</li></ul><blockquote><p>在 <a href="/posts/e537d446.html">网络篇</a> 中详细的介绍.</p></blockquote><hr><h4 id="LibreSpeed"><a href="#LibreSpeed" class="headerlink" title="LibreSpeed"></a>LibreSpeed</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2xpYnJlc3BlZWQvc3BlZWR0ZXN0">LibreSpeed</a> 一个基于 HTML5 的自托管网络速度测试工具. 它支持多种后端语言和数据库, 易于部署和使用, 并提供多种测试选项.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_eMc0tcC3.webp" alt="20241229154732_eMc0tcC3.webp"></p><p><strong>特点</strong>:</p><ul><li><strong>功能丰富</strong>：支持下载、上传、抖动测试, 并提供 IP 地址、ISP、距离等信息.</li><li><strong>兼容性强</strong>：支持所有现代浏览器, 包括移动端.</li><li><strong>易于部署</strong>：提供详细的指南和视频教程.</li><li><strong>支持多种后端语言</strong>：包括 PHP、Node、Go、Rust 等.</li></ul><hr><h4 id="Speedtest-Tracker"><a href="#Speedtest-Tracker" class="headerlink" title="Speedtest Tracker"></a>Speedtest Tracker</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2FsZXhqdXN0ZXNlbi9zcGVlZHRlc3QtdHJhY2tlcg==">Speedtest Tracker</a> 是一个自托管应用程序, 可监控互联网连接的性能和正常运行时间.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_HntLQamY.webp" alt="20241229154732_HntLQamY.webp"></p><p>该应用使用 Ookla 的 Speedtest 服务进行网络速度测试, 并记录测试结果, 帮助我们了解自身网络性能和稳定性.</p><p><strong>重要亮点</strong>:</p><ul><li><strong>功能</strong>：监控网络性能和稳定性, 记录测试结果, 生成历史数据.</li><li><strong>部署方式</strong>：容器化, 支持 Docker 和 Docker Compose 部署.</li><li><strong>数据库支持</strong>：支持 SQLite、/MariaDB 和 PostgreSQL 数据库.</li><li><strong>优势</strong>：开源免费, 可自定义配置, 适用于各种场景.</li></ul><hr><h4 id="Snapdrop"><a href="#Snapdrop" class="headerlink" title="Snapdrop"></a>Snapdrop</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL1NuYXBEcm9wL3NuYXBkcm9w">Snapdrop</a> 是一个基于 WebRTC 的本地文件分享渐进式 Web 应用. 项目使用 HTML5、ES6、CSS3、WebRTC、WebSockets 和 NodeJS 等技术构建, 支持用户在浏览器中快速分享文件.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_5YIDLYVG.webp" alt="20241229154732_5YIDLYVG.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>技术栈</strong>: HTML5、ES6、CSS3、WebRTC、WebSockets、NodeJS</li><li><strong>功能</strong>: 本地文件分享 <strong>特性</strong>: 支持渐进式 Web 应用</li><li><strong>许可证</strong>: GPL-3.0</li><li><strong>开源</strong>: 可在 GitHub 上免费下载和使用</li></ul><blockquote><p>方便的点是只要有浏览器即可进行文件共享, 这在与 Android 共享文件时比较方便.</p></blockquote><hr><h4 id="Memos"><a href="#Memos" class="headerlink" title="Memos"></a>Memos</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3VzZW1lbW9zL21lbW9z">Memos</a> 是一款轻量级、自托管的笔记工具, 支持 Markdown 语法, 并提供多种自定义选项.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_fxfM2D7h.webp" alt="20241229154732_fxfM2D7h.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>隐私优先</strong>：所有数据本地存储, 保障用户隐私.</li><li><strong>快速创建</strong>：支持纯文本和 Markdown 语法, 方便格式化和分享.</li><li><strong>轻量级</strong>：使用 Go 和 React 构建, 性能强大但占用资源少.</li><li><strong>可定制</strong>：可自定义服务器名称、图标、样式等.</li><li><strong>开源免费</strong>：代码开源, 可免费使用所有功能.</li></ul><p>macOS 上有免费的客户端-<a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL211ZGtpcG1lL01vZU1lbW9z">MoeMemos</a>:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_fgToqa1H.webp" alt="20241229154732_fgToqa1H.webp"></p><hr><h4 id="Homebox"><a href="#Homebox" class="headerlink" title="Homebox"></a>Homebox</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL1hHSGVhdmVuL2hvbWVib3g=">Homebox</a> 用于组建家庭局域网时, 对网络进行调试、检测、压测的工具集合.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_r6wS9X64.webp" alt="20241229154732_r6wS9X64.webp"></p><p><strong>特性</strong>:</p><ol><li>面向未来浏览器设计</li><li>高达 10G 的浏览器速度测试</li><li>自带 Ping 检测</li><li>丰富的自定义测速参数</li><li>服务端无需像传统文件拷贝一样需要固态的支持</li><li>友好的 UI 交互</li><li>针对低速网络(&lt; 2.5G)优化测速资源占用</li></ol><hr><h4 id="1Panel"><a href="#1Panel" class="headerlink" title="1Panel"></a>1Panel</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tLzFQYW5lbC1kZXYvMVBhbmVs">1Panel</a> 是一款开源的 Linux 服务器运维管理工具. 提供 Web 界面, 支持主机监控、文件管理、数据库管理等功能, 并深度集成 WordPress 和 Halo 等建站软件.</p><p>因为现在 1Panel 不支持多主机管理, 所以在大多数常用服务器上都安装了 1Panel.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_IoLQHeCb.webp" alt="20241229154732_IoLQHeCb.webp"></p><p><strong>重要亮点</strong>:</p><ul><li>支持主机监控、文件管理、数据库管理等功能 深度集成 WordPress 和 Halo 等建站软件.</li><li>提供一键安装指南和文档链接.</li><li>存在专业版, 提供更多功能和技术支持服务</li></ul><hr><h4 id="Syncthing"><a href="#Syncthing" class="headerlink" title="Syncthing"></a>Syncthing</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9zeW5jdGhpbmcubmV0Lw==">Syncthing</a> 是一个开源的文件同步客户端与服务器软件, 采用 Go 语言编写. 它可以在本地网络上的设备之间或通过 Internet 在远程设备之间同步文件, 使用了其独有的对等自由块交换协议.</p><p>通过发现服务器寻找节点, 如果节点不能直连的情况下, 通过中继服务器穿透内网传输数据. 用户可以自行搭建发现服务器和中继服务器, 在程序里面也可以指定使用相应的服务器. 并提供基于 Web 的控制界面, 这也便于远程服务器的使用.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_TRIl2gkR.webp" alt="20241229154732_TRIl2gkR.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>私有性</strong>: 文件仅在本地设备上存储, 无中央服务器, 保护数据安全.</li><li><strong>安全性</strong>: 使用 TLS 加密, 确保通信安全, 并采用证书认证设备.</li><li><strong>开源</strong>: 源代码开放, 确保透明可信任性.</li><li><strong>易用性</strong>: 界面简洁, 配置简单, 易于上手.</li><li><strong>多平台</strong>: 支持 macOS、Windows、Linux 等多种操作系统.</li></ul><blockquote><p><a href="/posts/b808f350.html">数据篇</a> 再详细介绍如何结合 Synology Drive 同步文件的思路.</p></blockquote><p>目前都是在局域网内共享文件, 为了方便放在公司的 R2S 也能同步文件, 需要搭建发现服务和中继服务.</p><h5 id="发现服务"><a href="#发现服务" class="headerlink" title="发现服务"></a>发现服务</h5><p>Syncthing 依靠发现服务器在互联网上寻找对等点. 任何人都可以运行发现服务器并将 Syncthing 安装指向它.</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3N5bmN0aGluZy9kaXNjb3Nydg==">discosrv</a> 下载并上传服务器后直接运行即可:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  discosrv ./stdiscosrv</span><br><span class="line">stdiscosrv v1.23.4 "Fermium Flea" (go1.20.2 linux-amd64) teamcity@build.syncthing.net 2023-04-05 13:25:55 UTC [purego]</span><br><span class="line">Server device ID is 1111111-2222222-3333333-4444444-5555555-6666666-7777777-8888888</span><br></pre></td></tr></tbody></table></figure><p>拿到发现服务器的 ID 后, 将该 ID 填写至 <strong>Syncthing</strong> 客户端中, 填写位置如下:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_OAInVUPJ.webp" alt="20241229154732_OAInVUPJ.webp"></p><p>格式为: <code>https://服务器 IP:port/?id={发现服务器 ID}</code>.</p><p>记得防火墙开启 8443 端口, 发现服务器默认端口为 8443, 若想更改, 可以使用 <code>./stdiscosrv -listen=你的端口</code> 来启动.</p><h5 id="中继服务"><a href="#中继服务" class="headerlink" title="中继服务"></a>中继服务</h5><p>Syncthing 依赖于社区贡献的中继服务器网络. 任何人都可以运行中继服务器, 它会自动加入中继池并可供 Syncthing 用户使用.</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3N5bmN0aGluZy9yZWxheXNydg==">relaysrv</a> 下载并上传服务器后直接运行即可:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  relaysrv ./strelaysrv -pools=""</span><br><span class="line">2024/12/02 15:05:38 main.go:141: strelaysrv v1.22.1 "Fermium Flea" (go1.19.2 linux-amd64) teamcity@build.syncthing.net 2022-11-02 06:27:53 UTC</span><br><span class="line">2024/12/02 15:05:38 main.go:147: Connection limit 52428</span><br><span class="line">2024/12/02 15:05:38 main.go:259: URI: relay://0.0.0.0:{port}/?id=aaaaaaa-bbbbbbb-ccccccc-ddddddd-eeeeeee-fffffff-ggggggg-hhhhhhh&amp;networkTimeout=2m0s&amp;pingInterval=1m0s&amp;statusAddr=%3A22070</span><br></pre></td></tr></tbody></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_Ig5uN2Qn.webp" alt="20241229154732_Ig5uN2Qn.webp"></p><p>格式为:<code>relay://你的服务器IP:22067/?id=中继服务器ID&amp;networkTimeout=2m0s&amp;pingInterval=1m0s&amp;statusAddr=%3A22070</code></p><p>注意：</p><ul><li><code>-pools=""</code>: 意思是不加入任何中继池, 可以保持你的中继服务器为私有的;</li><li>记得开放防火墙 22067 端口, 若想更换端口, 可以使用 <code>-listen=你的端口</code> 来更改端口;</li></ul><hr><h3 id="DS923"><a href="#DS923" class="headerlink" title="DS923+"></a>DS923+</h3><h4 id="Stirling-PDF"><a href="#Stirling-PDF" class="headerlink" title="Stirling-PDF"></a>Stirling-PDF</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cuc3RpcmxpbmdwZGYuY29tLw==">Stirling-PDF</a> 是一款功能强大的本地托管 Web PDF 处理工具. 它支持各种 PDF 操作, 如拆分、合并、转换、旋转、压缩等, 并提供了丰富的功能和定制选项, 适用于个人和团队.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_wQbrqMTX.webp" alt="20241229154732_wQbrqMTX.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>本地托管</strong>：无需安装, 通过 Docker 运行, 方便快捷.</li><li><strong>功能丰富</strong>：支持多种 PDF 操作, 如页面操作、转换操作、安全和权限、操作等.</li><li><strong>易于定制</strong>：可自定义应用程序名称、标语、图标等.</li><li><strong>支持多种语言</strong>：目前支持 37 种语言.</li><li><strong>可扩展性</strong>：支持扩展 OCR 和压缩功能.</li></ul><hr><h4 id="Draw-io"><a href="#Draw-io" class="headerlink" title="Draw.io"></a>Draw.io</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2pncmFwaA==">Draw.io</a> 是一款免费且开源的在线绘图工具, 现已更名为 <strong>diagrams.net</strong>. 它支持创建各种图表, 如流程图、网络拓扑图、UML 图、组织结构图等. Draw.io 提供直观的拖放式界面, 支持本地和云端存储（如 Google Drive、OneDrive、GitHub 等）, 适合团队协作和个人使用, 广泛应用于软件开发、项目管理和文档设计等领域.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_TVib1acn.webp" alt="20241229154732_TVib1acn.webp"></p><p>做开发的朋友应该经常用到, Draw.io 在 IDEA, Visual Studio Code 等常见开发平台上都有集成, 目前使用最多的是 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2pncmFwaC9kcmF3aW8tZGVza3RvcA==">桌面版</a>, 支持各大平台.</p><p><strong>相关资源</strong>:</p><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2pncmFwaC9kcmF3aW8tbGlicw==">drawio-libs</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0pGLUR1bW9udC9kcmF3aW8tbGlicw==">other drawio-libs</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cuZHJhd2lvLmNvbS9ibG9nL3B1YmxpYy1jdXN0b20tbGlicmFyaWVz">使用来自网络的自定义形状库</a></li></ul><hr><h4 id="Excalidraw"><a href="#Excalidraw" class="headerlink" title="Excalidraw"></a>Excalidraw</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2V4Y2FsaWRyYXcvZXhjYWxpZHJhdw==">Excalidraw</a> 是一个开源的虚拟手绘风格白板工具, 支持协作和端到端加密. 它可以帮助用户创建各种手绘风格的图表、线框图或其他图形, 适用于绘图、设计、会议记录等多种场景.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_WTC7w3BE.webp" alt="20241229154732_WTC7w3BE.webp"></p><p><strong>主要特点</strong>：</p><ul><li><strong>无限画布</strong>： 可以自由地拖动、缩放和移动画布, 不受限制.</li><li><strong>手绘风格</strong>： 支持各种绘图工具, 包括线条、矩形、、箭头等, 并提供丰富的样式选项.</li><li><strong>自定义</strong>： 可以自定义画布背景、工具栏、颜色等, 满足个性化需求.</li><li><strong>图片和形状库</strong>： 支持导入图片和形状库, 方便快速创建图形.</li><li><strong>国际化</strong>： 支持多种语言, 方便全球用户使用.</li><li><strong>导出功能</strong>： 支持将图形导出为 PNG、SVG 和可复制粘贴的格式, 方便分享和编辑.</li></ul><blockquote><p>目前依赖于 Draw.io 源文件可在 Markdown 查看且可直接编辑的特性, Excalidraw 还不具备, <code>.excalidraw</code> 格式文件虽然能二次编辑, 但是无法在 Markdown 中预览. 因此 Excalidraw 算备选方案偶尔使用.</p></blockquote><hr><h4 id="Portainer"><a href="#Portainer" class="headerlink" title="Portainer"></a>Portainer</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cucG9ydGFpbmVyLmlvLw==">Portainer</a> 一款用于管理和部署 Docker、Swarm 和 Kubernetes 集群的容器管理软件. 它提供集中式界面, 简化容器化进程, 并支持多云和边缘环境.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_GOnzu0wY.webp" alt="20241229154732_GOnzu0wY.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>跨平台管理</strong>：支持 Docker、Swarm 和 Kubernetes, 适用于多云和边缘环境.</li><li><strong>用户友好的界面</strong>：提供直观的 UI, 简化操作流程.</li><li><strong>安全访问</strong>：支持集中式验证和授权.</li><li><strong>多云和边缘支持</strong>：适用于不同环境, 包括数据中心、云和边缘设备.</li></ul><hr><h4 id="小雅-Alist"><a href="#小雅-Alist" class="headerlink" title="小雅 Alist"></a>小雅 Alist</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL21vbmxvci9kb2NrZXIteGlhb3lh">docker-xiaoya</a> 使用 Docker Compose 一键部署 Xiaoya 服务的全套解决方案, 支持 Alist + Emby + Jellyfin 的一键部署, 并兼容多种平台和架构.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_wCLUNTfT.webp" alt="20241229154732_wCLUNTfT.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>一键部署</strong>：简化了 Xiaoya 服务的部署流程, 无需人工干预.</li><li><strong>全平台支持</strong>：兼容 Linux、Windows、Mac、Synology 等平台, 以及 X 和 Arm 架构.</li><li><strong>集成脚本</strong>：所有脚本集成到 Docker 镜像, 避免污染系统环境.</li><li><strong>自动更新</strong>：支持自动更新镜像、云盘数据、服务配置和媒体数据.</li><li><strong>多种云盘支持</strong>：支持小雅 Alist、夸克网盘、PikPak 网盘和阿里云盘资源.</li></ul><hr><h4 id="RSSHub"><a href="#RSSHub" class="headerlink" title="RSSHub"></a>RSSHub</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0RJWWdvZC9SU1NIdWI=">RSSHub</a> 是一个可以将<strong>任何</strong>内容都可以抓取然后转换成 RSS 订阅的网站.</p><p>项目的 slogan <strong>万物皆可 RSS</strong>, 它不仅可以订阅各种博客、论坛、新媒体, 甚至社交媒体、推特等都不在话下, 很强, 详见<a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kb2NzLnJzc2h1Yi5hcHAvemgvZ3VpZGUv">食用指南</a>.</p><p>该项目已经持续发展 6 年了, 一直在持续更新, 甚至今年<a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kaXlnb2QuY2MvNi15ZWFyLW9mLXJzc2h1Yg==">进行了一次重构</a>, 不得不佩服大佬们的行动力.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_OObcuEZH.webp" alt="20241229154732_OObcuEZH.webp"></p><p>除此之外, 官方还提供了 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kb2NzLnJzc2h1Yi5hcHAvemgvZ3VpZGUvI3JhZGFy">Radar 功能</a>, 结合浏览器插件就可以发现你正在访问的站点 RSSHub 是否已经支持订阅了, 如果支持了可以一键转换成订阅的地址, 很方便. 不仅如此, 还支持移动端.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_HV9qq6Zt.webp" alt="20241229154732_HV9qq6Zt.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>功能</strong>: 将各种内容源转换为 RSS, 支持超过 5,000 个全球实例.</li><li><strong>特点</strong>: 易于使用、功能强大、支持丰富的插件和扩展.</li><li><strong>相关项目</strong>: RSSHub Radar、RSSBud、Aid 等.</li><li><strong>贡献者</strong>: 超过 1,100 位贡献者.</li><li><strong>部署</strong>: 支持 GitHub Pages、Vercel 等多种部署方式.</li></ul><hr><h4 id="Navidrome"><a href="#Navidrome" class="headerlink" title="Navidrome"></a>Navidrome</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL25hdmlkcm9tZS9uYXZpZHJvbWU=">Navidrome</a> 允许用户从任何浏览器或移动设备访问其音乐库, 并提供丰富的功能, 例如处理大型音乐库、支持多种音频格式、多用户支持、自动监控库等.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_ple0Nxse.webp" alt="20241229154732_ple0Nxse.webp"></p><p><strong>重要亮点</strong>:</p><ul><li>Navidrome 是一个开源音乐服务器项目.</li><li>支持从任何设备访问音乐库.</li><li>支持多种音频格式.</li><li>多用户支持, 每个用户拥有自己的播放等.</li><li>自动监控音乐库变化.</li><li>界面基于 Material UI.</li><li>兼容 Subsonic/Madsonic/Airsonic 客户端.</li></ul><hr><h4 id="Music-Tag-Web"><a href="#Music-Tag-Web" class="headerlink" title="Music Tag Web"></a>Music Tag Web</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3hob25nYy9tdXNpYy10YWctd2Vi">Music Tag Web</a> 是一款可以编辑歌曲的标题, 专辑, 艺术家, 歌词, 封面等信息的音乐标签编辑器程序, 支持 FLAC, APE, WAV, AIFF, WV, TTA, MP3, M4A, OGG, MPC, OPUS, WMA, DSF, DFF, MP4 等音频格式. 我主要使用自动刮削功能来批量修改音乐标签.</p><p>只有 V2 版本才具备高级功能, 需要付费使用.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_YQl8DLNI.webp" alt="20241229154732_YQl8DLNI.webp"></p><p><strong>特性</strong>:</p><ul><li>支持大部分音频格式元数据的查看、编辑和修改</li><li><strong>支持批量自动修改（刮削）音乐标签</strong></li><li>支持音乐指纹识别, 即使没有元数据也可以识别音乐</li><li>支持整理音乐文件, 按艺术家, 专辑分组, 或者自定义多级分组</li><li>支持文件排序, 按照文件名, 文件大小, 更新时间排序</li><li>支持批量转换音乐元数据繁体转简体, 或者简体转繁体</li><li>支持文件名称的拆分解包, 补充缺失元数据信息</li><li>支持文本替换, 批量替换音乐元数据中脏数据</li><li>支持音乐格式转换, 引入 ffmpeg 支持音乐格式转换</li><li>支持整轨音乐文件的切割</li><li>支持多种音乐标签来源</li><li>支持歌词翻译功能</li><li>支持显示操作记录</li><li>支持导出专辑封面文件, 支持自定义上传专辑封面</li><li>支持适配移动端 UI, 支持手机端访问</li><li>支持使用小爱同学播放本地音乐, 播放 NAS 本地音乐</li></ul><hr><h4 id="Roon"><a href="#Roon" class="headerlink" title="Roon"></a>Roon</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9yb29uLmFwcC9lbi8=">Roon</a> 是一款专业的音乐播放和音乐库管理软件，旨在为音乐爱好者提供更丰富、更深入的音乐体验。</p><p>DS923+ 安装 Roon 的 Core Server, 将无损音乐全部导入到 Roon, 在 macOS 和 iPhone 就可以方便的听音乐了.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_kR2q8gAJ.webp" alt="20241229154732_kR2q8gAJ.webp"></p><p><strong>主要功能</strong>：</p><ul><li><strong>音乐库管理</strong>： 将所有音乐文件整合到一个中央库中，方便管理和浏览。</li><li><strong>音乐信息丰富</strong>： 提供艺术家、专辑、歌曲的详细信息，包括传记、评论、照片、歌词、巡演日期等。</li><li><strong>无缝播放</strong>： 支持多种音乐播放设备和平台， AirPlay、Chromecast、Roon Ready、Squeezebox、智能电视、智能音箱、USB/HDMI 播放器、移动设备等。</li><li><strong>高保真音质</strong>： 采用专业音频引擎，提供高保真音质，让音乐更真实、更生动。</li><li><strong>Nucleus</strong>： Roon 的专用服务器，提供更强大的音乐处理能力和更灵活的配置选项。</li></ul><hr><h2 id="M920x"><a href="#M920x" class="headerlink" title="M920x"></a>M920x</h2><p>M920x 是 x86 平台, 作为 Docker 容器的核心宿主机, 已部署多项服务.</p><h3 id="雷池-Safeline"><a href="#雷池-Safeline" class="headerlink" title="雷池 Safeline"></a>雷池 Safeline</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_QTQjeMVr.webp" alt="20241229154732_QTQjeMVr.webp"></p><p>在 <a href="/posts/e537d446.html">网络篇</a> 中有 WAF 的详细介绍以及应用场景.</p><h3 id="Dify"><a href="#Dify" class="headerlink" title="Dify"></a>Dify</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2xhbmdnZW5pdXMvZGlmeQ==">Dify</a> 是一个开源的 LLM 应用开发平台. Dify 提供直观的用户界面, 结合 AI 工作流、RAG 管道、代理能力、模型管理、可观察性功能等, 帮助用户快速从原型开发到生产部署.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_2pK3lVHY.webp" alt="20241229154732_2pK3lVHY.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>功能丰富</strong>：支持 AI 工作流、RAG 管道、代理、模型管理、可观察性等功能.</li><li><strong>模型支持</strong>集成 GPT、Mistral、Llama3 等多种 LLM 模型.</li><li><strong>易于使用</strong>：提供云端服务、社区版和企业版, 方便用户使用.</li><li><strong>开源免费</strong>：遵循 Dify 开源许可证, 免费使用.</li></ul><h3 id="Netmaker"><a href="#Netmaker" class="headerlink" title="Netmaker"></a>Netmaker</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2dyYXZpdGwvbmV0bWFrZXI="><strong>Netmaker</strong></a> 是一个开源的高性能、基于 <strong>WireGuard</strong> 的 <strong>虚拟网络管理平台</strong>. 它允许用户轻松构建和管理跨地域的安全虚拟网络（VPN）, 适用于云环境、数据中心、物联网 (IoT) 设备等场景. Netmaker 通过自动化网络配置和管理, 大幅降低了运维成本, 并提供了与现有基础设施无缝集成的能力.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_iQxUFXbA.webp" alt="20241229154732_iQxUFXbA.webp"></p><p><strong>主要功能</strong></p><ol><li><p><strong>基于 WireGuard 的高性能网络</strong>: 提供加密、高速的点对点通信, 通过 WireGuard 协议实现低延迟和高安全性.</p></li><li><p><strong>自动化网络配置</strong>: 自动配置节点、子网和隧道, 大幅减少手动设置和管理步骤.</p></li><li><p><strong>多平台支持</strong>: 支持 Linux、Windows、macOS, 以及容器化环境（Docker/Kubernetes）.</p></li><li><p><strong>集中管理界面</strong>: 提供 Web UI 和 API 接口, 便于集中管理网络配置、监控和运维.</p></li><li><p><strong>动态节点管理</strong>: 支持动态 IP 分配、负载均衡, 以及节点的自动发现和连接.</p></li><li><p><strong>多云和混合环境支持</strong>: 兼容多种云平台（如 AWS、Azure、GCP）和本地数据中心, 适用于混合云环境.</p></li><li><p><strong>高可扩展性</strong>: 通过水平扩展支持大规模节点和复杂拓扑, 适用于企业级网络需求.</p></li><li><p><strong>ACL 和安全规则管理</strong>: 支持访问控制列表 (ACL) 和自定义防火墙规则, 确保网络安全.</p></li></ol><h3 id="Coolify"><a href="#Coolify" class="headerlink" title="Coolify"></a>Coolify</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9jb29saWZ5LmlvLw==">Coolify</a> 是一款开源且可自托管的平台, 旨在为开发者提供类似 Heroku、Netlify 和 Vercel 的服务. Coolify 支持多种编程语言和框架, 允许用户将应用程序部署到任何服务器, 包括个人服务器、VPS、Raspberry Pi、云服务器等. 该平台提供了丰富的功能, 如推送部署、免费 SSL 证书、自动数据库备份 Webhook 集成、强大的 API 和实时终端等, 旨在提供高效、灵活的开发环境.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_sRYeCMVK.webp" alt="20241229154732_sRYeCMVK.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>兼容性</strong>：Coolify 兼容多种编程语言和框架, 支持静态网站、API、后端、数据库、等多种类型的应用程序.</li><li><strong>部署灵活性</strong>：支持部署到任何服务器, 包括个人服务器、VPS、Raspberry Pi、云服务器等, 并支持 Docker 和 Docker Swarm.</li><li><strong>服务多样性</strong>：可以部署任何与 Docker 兼容的服务, 并提供许多一键式服务.</li><li><strong>集成与自动化</strong>：提供与 GitHub、GitLab、Bitbucket、Gitea 等平台的集成, 支持推送部署和自动数据库备份.</li><li><strong>安全性</strong>：提供 SSL 证书, 确保数据传输安全, 并允许用户完全控制自己的数据.</li><li><strong>控制性</strong>：提供强大的 API 和实时终端, 允许用户直接在浏览器中管理服务器, 并与 CI/CD 管道集成.</li><li><strong>社区和赞助</strong>：Coolify 拥有一个活跃的社区, 并提供赞助商支持.</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_XXA3r2Un.webp" alt="20241229154732_XXA3r2Un.webp"></p><blockquote><p>目前只安装部署了, 还没完全用起来</p></blockquote><hr><h3 id="n8n"><a href="#n8n" class="headerlink" title="n8n"></a>n8n</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL244bi1pby9uOG4=">n8n</a> 是一款开源的流程自动化工具, 允许用户通过连接各种服务和应用程序来构建自动化流程. 它采用基于节点的编程方式, 易于使用且功能强大.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_5h6yU0pd.webp" alt="20241229154732_5h6yU0pd.webp"></p><p><strong>主要特点</strong>：</p><ul><li><strong>易于使用</strong>： n8n 采用拖放式的节点编辑器, 用户可以轻松地将节点连接起来, 创建复杂的自动化流程.</li><li><strong>可扩展性</strong>： n8n 支持用户添加自定义节点, 以扩展其功能.</li><li><strong>丰富的</strong>： n8n 提供了 200 多个集成节点, 包括常用的社交媒体、邮件、数据库、云服务等.</li><li><strong>开源</strong>： n8n 是开源软件, 用户可以自由地使用、修改和分发它.</li></ul><p><strong>适用场景</strong>：</p><ul><li><strong>自动化日常任务</strong>： 例如, 自动化邮件发送、数据同步、文件处理等.</li><li><strong>构建复杂的业务流程</strong>： 例如, 自动化客户关系管理、供应链管理、数据分析等.</li></ul><p>相关资源:</p><ul><li><p><a href="#AI-starter-kit">n8n 的自托管 AI 入门套件</a></p></li><li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9ibG9nLm44bi5pby9sb2NhbC1sbG0v">在本地运行 LLM：5 种最佳方法（+ 自托管 AI 入门套件）</a></p></li><li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly8xcTQzLmJsb2cvcG9zdC81ODIxLw==">在群晖部署 n8n 的一些坑和经验</a></p></li></ul><h3 id="Smokeping"><a href="#Smokeping" class="headerlink" title="Smokeping"></a>Smokeping</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL29ldGlrZXIvU21va2VQaW5n">SmokePing</a> 是一个开源的网络延迟监控系统, 它通过定期测量目标主机的响应时间并生成图形化的结果, 帮助用户实时监控网络性能. 它基于 RRDtool 库进行数据存储和图形展示, 支持多种插件和定制化配置, 适用于各种网络环境和需求.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_zsOwYKR6.webp" alt="20241229154732_zsOwYKR6.webp"></p><p><strong>重点功能：</strong></p><ol><li><strong>网络延迟监控</strong>：定期测量目标主机的响应时间, 并生成直观的图形化结果.</li><li><strong>动态 IP 支持</strong>能够处理动态 IP 地址, 确保监控的连续性和准确性.</li><li><strong>插件扩展</strong>：支持多种插件, 扩展功能, 例如数据源集成、通知系统等.</li><li><strong>Web 模板定制</strong>：提供丰富的 Web 模板选项, 方便用户自定义图形界面.</li><li><strong>配置文件管理</strong>：提供详细的配置文件, 方便用户根据实际需求进行定制.</li><li><strong>跨平台支持</strong>：适用于各种 Unix 系统, 包括 Linux、MacOS 和.</li><li><strong>易于集成</strong>：与其他网络监控工具和系统无缝集成.</li></ol><hr><h3 id="IT-Tools"><a href="#IT-Tools" class="headerlink" title="IT Tools"></a>IT Tools</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0NvcmVudGluVGgvaXQtdG9vbHM=">IT Tools</a> 是一个集合了多种开发者常用在线工具的平台, 拥有简洁的界面和良好的用户体验. 它旨在帮助开发者提高工作效率, 轻松处理各种开发任务.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_Y1Y3jCOi.webp" alt="20241229154732_Y1Y3jCOi.webp"></p><p><strong>重点功能</strong>:</p><ul><li><strong>在线工具</strong>： 提供多种在线工具, 例如代码格式化、代码压缩、在线 API 测试等, 覆盖开发、测试、文档等多个方面.</li><li><strong>工具分类</strong>： 工具按照功能分类, 方便用户快速找到所需工具 <strong>自定义工具</strong>： 用户可以自定义添加工具, 满足个性化需求.</li><li><strong>集成</strong>： 部分工具支持与其他平台集成, 例如 GitHub、GitLab 等.</li><li><strong>代码示例</strong>： 每个工具都提供代码示例, 帮助用户快速上手.</li></ul><h3 id="Uptime-Kuma"><a href="#Uptime-Kuma" class="headerlink" title="Uptime Kuma"></a>Uptime Kuma</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2xvdWlzbGFtL3VwdGltZS1rdW1h">Uptime Kuma</a> 是一款易于使用的自托管监控工具, 可以监控各种服务的可用性, 例如 HTTP(s)、TCP、Ping、DNS 记录、游戏服务器等. 它具有友好的界面、丰富的通知选项和多种部署方式, 非常适合个人和企业使用.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_kNhdmHz5.webp" alt="20241229154732_kNhdmHz5.webp"></p><p><strong>重点功能</strong>:</p><ul><li><strong>多种监控类型</strong>：支持 HTTP(s)、TCP、Ping、DNS 记录、游戏服务器、Docker 容器等多种监控类型.</li><li><strong>丰富的通知选项</strong>：支持 Telegram、Discord、Gotify、Slack、Pushover、SMTP 邮件等多种通知方式, 并支持自定义通知模板.</li><li><strong>友好的界面</strong>：提供响应式、快速的用户界面, 方便用户查看和管理监控数据.</li><li><strong>多语言支持</strong>：支持多种语言, 方便全球用户使用.</li><li><strong>多种部署方式</strong>：支持 Docker、Node.js 等多种部署方式, 方便用户根据需求选择合适的部署方式.</li><li><strong>状态页面</strong>可以创建多个状态页面, 并将状态页面映射到特定的域名.</li><li><strong>Ping 图表</strong>：可以查看历史监控数据, 并生成 Ping 图表.</li><li><strong>证书信息</strong>：可以查看监控服务的 SSL/TLS 证书信息.</li><li><strong>代理支持</strong>：支持代理设置, 方便用户通过代理进行监控.</li><li><strong>双因素认证</strong>：支持双因素认证, 提高账户安全性.</li></ul><blockquote><p>目前主要的监控工具, 使用 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9iYXJrLmRheS5hcHAv">Bark</a> 进行消息通知.</p></blockquote><h3 id="Homepage"><a href="#Homepage" class="headerlink" title="Homepage"></a>Homepage</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2dldGhvbWVwYWdlL2hvbWVwYWdl">Homepage</a> 是一个高度可定制的个人主页项目, 支持 Docker 和服务 API 集成. 项目提供快速搜索、书签、天气支持等功能, 并集成了超过 100 个服务和第三方应用程序.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_2gDay2gg.webp" alt="20241229154732_2gDay2gg.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>高度可定制</strong>：支持自定义主题、CSS、JS、布局和本地化.</li><li><strong>快速</strong>：静态生成, 加载速度快.</li><li><strong>安全</strong>： API 请求都通过代理, 保护 API 密钥安全.</li><li><strong>服务集成</strong>：集成超过 100 个服务和应用程序, 例如 Radarr、Sonarr 等.</li><li><strong>信息小部件</strong>：提供天气、时间、搜索等信息小部件.</li><li><strong>Docker 集成</strong>：支持 Docker 集成和自动服务发现.</li></ul><p>相关资源:</p><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3dhbGt4Y29kZS9kYXNoYm9hcmQtaWNvbnM=">Dashboard Icons</a></li></ul><h3 id="Nezha-Monitoring"><a href="#Nezha-Monitoring" class="headerlink" title="Nezha Monitoring"></a>Nezha Monitoring</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL25lemhhaHEvbmV6aGE=">Nezha Monitoring</a> 是一款开源的、轻量级的监控工具, 旨在帮助用户轻松监控服务器和网站状态. 它支持多种监控指标, 包括系统状态、HTTP、TCP、Ping 等, 并提供推送警报、定时任务和 Web 终端等实用功能. 该工具采用 Go 语言开发, 并提供中文和英文文档, 方便用户使用.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_02qgJDlI.webp" alt="20241229154732_02qgJDlI.webp"></p><p><strong>主要功能：</strong></p><ul><li><strong>服务器监控</strong>： 监控服务器资源使用情况, 包括 CPU、内存、磁盘、网络等.</li><li><strong>服务监控</strong>： 监控服务器上的服务状态, 例如 Web 服务、数据库服务等.</li><li><strong>任务管理</strong>： 创建和管理自动化任务, 例如定时任务、脚本执行等.</li><li><strong>通知管理</strong>： 设置接收服务器状态异常通知, 例如邮件、短信等.</li><li><strong>DDNS</strong>： 自动更新 DNS 记录, 方便服务器.</li><li><strong>内网穿透</strong>： 将内网服务器映射到公网, 方便远程访问.</li><li><strong>设置</strong>： 配置监控项、数据展示等.</li><li><strong>分组</strong>： 将服务器分组管理.</li></ul><h3 id="APITable"><a href="#APITable" class="headerlink" title="APITable"></a>APITable</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2FwaXRhYmxlL2FwaXRhYmxl">APITable</a> 是一个面向 API 的低代码平台, 用于构建协作应用程序. 它提供了丰富的功能, 可以帮助用户轻松创建和管理各种应用程序, 例如项目管理、客户关系管理、业务智能等.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_7Ezss4Vw.webp" alt="20241229154732_7Ezss4Vw.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>实时协作</strong>： 支持多人实时协作编辑, 提高团队效率.</li><li><strong>自动表单</strong>： 自动生成表单, 无需手动编写代码.</li><li><strong>API 首面板</strong>： 提供直观的 API 面板, 用户使用 API.</li><li><strong>无限跨表链接</strong>： 支持无限跨表链接, 实现数据关联.</li><li><strong>强大的行/列权限</strong>： 支持行/列权限控制, 保障数据安全.</li><li><strong>嵌入式</strong>： 支持嵌入式, 方便用户将 APITable 应用程序集成到其他应用程序中.</li><li><strong>丰富的数据库-电子表格 UI</strong>： 提供多种视图类型, 例如网格视图、画廊视图、甘特图视图等.</li><li><strong>丰富的</strong>： 提供多种官方模板, 方便用户快速创建应用程序.</li><li><strong>机器人自动化</strong>： 支持机器人自动化, 提高工作效率.</li><li><strong>BI 仪表板</strong>： 提供 BI 仪表板, 方便用户进行数据分析和可视化.</li><li><strong>可扩展性</strong>： 支持自定义组件、图表、仪表板等, 满足用户个性化需求.</li></ul><hr><h3 id="CasaOS"><a href="#CasaOS" class="headerlink" title="CasaOS"></a>CasaOS</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9jYXNhb3MuaW8v">CasaOS</a> 是一款基于 Docker 的开源个人云操作系统, 旨在提供简单易用的个人云体验. 它支持丰富的应用程序, 并拥有友好的用户界面, 适合用于搭建媒体中心、私有云、智能家居等场景.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_JQAtbuPc.webp" alt="20241229154732_JQAtbuPc.webp"></p><p><strong>重点亮点</strong>：</p><ul><li><strong>简单易用</strong>：用户界面简洁直观, 易于上手.</li><li><strong>应用程序丰富</strong>：支持超过 20 个预安装应用程序和 50+ 个社区验证应用程序.</li><li><strong>兼容性强</strong>：支持 86 和 Raspberry Pi 设备.</li><li><strong>基于 Docker</strong>：易于扩展和定制.</li></ul><hr><h3 id="Open-WebUI"><a href="#Open-WebUI" class="headerlink" title="Open WebUI"></a>Open WebUI</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL29wZW4td2VidWkvb3Blbi13ZWJ1aQ==">Open WebUI </a>一个功能丰富、易于使用的自托管 WebUI, 旨在完全离线运行. 它支持各种 LLM 运行器, 包括 Ollama 和兼容 OpenAI 的 API.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_8PC1JmDq.webp" alt="20241229154732_8PC1JmDq.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>易于设置</strong>：使用 Docker 或 Kubernetes (kubectl, kustomize 或 helm) 轻松安装, 支持带 :ollama 和 :cuda 标签的镜像.</li><li><strong>Ollama/OpenAI API 集成</strong>：无缝集成 OpenAI 兼容的 API, 并支持 Ollama 模型.</li><li><strong>细粒度权限和用户组</strong>：管理员可以创建详细的角色和权限, 确保安全的环境并定制用户体验.</li><li><strong>免提语音/视频通话</strong>：集成免提语音和视频通话功能, 提供更动态的聊天环境.</li><li><strong>模型构建器</strong>：通过 Web UI 轻松创建 Ollama 模型, 并支持导入来自 Open WebUI 社区的模型.</li><li><strong>本地 Python 函数调用工具</strong>：支持在工具工作区中添加纯 Python 函数, 并实现 LLM 与自定义函数的无缝集成.</li><li><strong>RAG 集成</strong>：支持检索增强生成 (RAG), 将文档交互无缝集成到聊天体验中.</li><li><strong>Web 搜索功能</strong>：支持使用 SearXNG、Google PSE、Brave Search、serpstack、serper、Serply、DuckDuckGo、TavilySearch、SearchApi 和 Bing 等提供商进行 Web 搜索, 并将结果直接注入到聊天体验中.</li><li><strong>图像生成集成</strong>：支持使用 AUTOMATIC1111 API、ComfyUI (本地) 和 OpenAI 的 DALL-E (外部) 进行图像生成.</li><li><strong>多模型对话</strong>：可以轻松与各种模型同时进行对话, 利用它们的独特优势.</li><li><strong>管道和 Open WebUI 插件支持</strong>：支持将自定义逻辑和 Python 库集成到 Open WebUI 中.</li></ul><hr><h3 id="LobeChat"><a href="#LobeChat" class="headerlink" title="LobeChat"></a>LobeChat</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2xvYmVodWIvbG9iZS1jaGF0">LobeChat</a> 是一款功能强大的开源 AI 聊天框架, 致力于打造现代、高效的智能对话体验. 它支持多种 AI 服务提供商, 涵盖文本、图像、语音等多模态交互, 并提供知识库、插件系统、多用户管理等丰富功能, 让用户轻松构建个性化、可扩展的聊天机器人. Lobe Chat 旨在为开发者提供便捷、高效的工具, 推动 AI 聊天技术的发展.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_ff8ygTBy.webp" alt="20241229154732_ff8ygTBy.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>多模态支持</strong>： 支持文本、图像、语音等多种模态, 提供更丰富的交互体验.</li><li><strong>知识库</strong>： 支持文件上传、知识管理和检索, 方便用户管理信息.</li><li><strong>插件系统</strong>： 支持自定义插件, 扩展, 例如搜索、图像生成等.</li><li><strong>多用户管理</strong>： 支持多用户登录和权限管理, 适合团队协作.</li><li><strong>PWA 支持</strong>： 支持渐进式网页应用, 提供类似原生应用的流畅体验.</li><li><strong>自定义主题</strong>： 支持自定义主题, 满足个性化需求.</li></ul><hr><h3 id="MaxKB"><a href="#MaxKB" class="headerlink" title="MaxKB"></a>MaxKB</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tLzFQYW5lbC1kZXYvTWF4S0I=">MaxKB</a> 是一款基于大语言模型和 RAG 的开源知识库问答系统, 广泛应用于智能客服、企业内部知识库、学术研究与教育等场景.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_hOhYdKMO.webp" alt="20241229154732_hOhYdKMO.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>开箱即用</strong>：支持直接上传文档/自动爬取在线文档, 支持文本自动拆分、向量化和 RAG（检索增强生成）, 有效减少大模型幻觉, 智能问答交互体验好.</li><li><strong>模型中立</strong>：支持对接大模型, 包括本地私有大模型（Llama 3 / Qwen 2 等）、国内公共大模型（通义千问 / 腾讯混元 / 字节豆包 / 百度千帆 / 智谱 AI / Kimi 等）和国外公共大模型（OpenAI / Claude / Gemini 等）.</li><li><strong>灵活编排</strong>：内置强大的工作流引擎和函数库, 支持编排 AI 工作过程, 满足复杂业务场景下的需求 <strong>无缝嵌入</strong>：支持零编码快速嵌入到第三方业务系统, 让已有系统快速拥有智能问答能力, 提高用户满意度.</li></ul><h3 id="One-API"><a href="#One-API" class="headerlink" title="One API"></a>One API</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3NvbmdxdWFucGVuZy9vbmUtYXBp">One API</a> 是一个 OpenAI 接口管理 &amp; 分发系统, 支持多种大模型, 包括 Azure OpenAI API、Anthropic Claude、Google PaLM2/Gemini、智谱 ChatGLM、百度文心一言、阿里通义千问、讯飞星火认知、360 智脑以及腾讯混元等.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_vtlqwol5.webp" alt="20241229154732_vtlqwol5.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>支持多种大模型</strong>：无需切换 API, 即可通过统一的 API 格式访问所有大模型.</li><li><strong>支持 stream 模式</strong>：通过流式传输实现打字机效果, 提供更流畅的交互体验.</li><li><strong>支持多机部署</strong>：方便用户进行和升级.</li><li><strong>支持令牌管理</strong>：设置令牌的过期时间、额度、允许的 IP 范围以及允许的模型访问.</li><li><strong>支持兑换码管理</strong>：支持批量生成和导出兑换码, 方便用户进行充值.</li><li><strong>支持用户分组和渠道分组</strong>：支持为不同分组设置不同的倍率.</li><li><strong>支持模型映射</strong>：重定向用户的请求模型方便用户进行自定义.</li><li><strong>支持失败自动重试</strong>：提高系统的健壮性.</li><li><strong>支持绘图接口</strong>：方便用户进行绘图操作.</li><li><strong>支持丰富的自定义设置</strong>：包括系统名称、logo、页脚、首页、关于页面等.</li><li><strong>支持系统访问令牌调用管理 API</strong>：方便用户进行扩展和自定义.</li></ul><p>同类产品:</p><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL01hcnRpYWxCRS9vbmUtaHViP3RhYj1yZWFkbWUtb3YtZmlsZQ==">One Hub</a></li></ul><hr><h3 id="Gitea"><a href="#Gitea" class="headerlink" title="Gitea"></a>Gitea</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2dvLWdpdGVhL2dpdGVh">Gitea</a> 是一个开源的 Git 服务软件, 旨在提供易于使用且功能强大的自托管 Git 仓库托管平台. 它支持多种平台和架构, 并提供代码审查、团队协作等功能, 非常适合个人或团队进行软件开发. Gitea 的社区活跃, 文档完善, 易于扩展, 是构建自托管 Git 服务器的理想选择.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_epp5JO9j.webp" alt="20241229154732_epp5JO9j.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>跨平台支持</strong>：Gitea 支持 Linux、macOS、Windows 等平台, 并兼容多种架构.</li><li><strong>功能丰富</strong>：提供 Git 仓库托管、代码审查、团队协作、包管理等功能.</li><li><strong>易于使用</strong>：界面简洁易用, 新手也能快速上手.</li><li><strong>开源免费</strong>：Gitea 是开源软件, 免费使用.</li><li><strong>社区活跃</strong>：拥有庞大的社区和贡献者群体, 问题解决和功能迅速.</li></ul><h4 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h4><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">gitea:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">server:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">gitea/gitea:1.22.3</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">gitea</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">USER_UID=1002</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">USER_GID=1002</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GITEA__database__DB_TYPE=mysql</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GITEA__database__HOST=192.168.31.7:3306</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GITEA__database__NAME=gitea</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GITEA__database__USER={username}</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">GITEA__database__PASSWD={password}</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">gitea</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/mnt/4.860.ssd/docker/gitea:/data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/home/git/.ssh/:/data/git/.ssh</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/etc/timezone:/etc/timezone:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/etc/localtime:/etc/localtime:ro</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"3400:3000"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"2222:22"</span></span><br></pre></td></tr></tbody></table></figure><ol><li>USER_UID 和 USER_GID 使用 git 用户 id;</li><li>使用自建 MySQL;</li><li>自定义 gitea 存储目录: /mnt/4.860.ssd/docker/gitea (<a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kb2NzLmdpdGVhLmNuL2FkbWluaXN0cmF0aW9uL2JhY2t1cC1hbmQtcmVzdG9yZS8=">后期备份</a>);</li><li>添加 <code>/home/git/.ssh/</code> 用于 SSH 直通;</li></ol><h4 id="SSH-直通"><a href="#SSH-直通" class="headerlink" title="SSH 直通"></a>SSH 直通</h4><ol><li><p>主机上生成 key</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u git ssh-keygen -t rsa -b 4096 -C <span class="string">"Gitea Host Key"</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>主机上创建脚本: <code>/usr/local/bin/gitea</code>, 并赋予执行权限: <code>chmod +x /usr/local/bin/gitea</code></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p 2222 -o StrictHostKeyChecking=no git@127.0.0.1 <span class="string">"SSH_ORIGINAL_COMMAND=\"<span class="variable">$SSH_ORIGINAL_COMMAND</span>\" <span class="variable">$0</span> <span class="variable">$@</span>"</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>主机上添加 <code>authorized_key</code>:</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="subst">$(cat /home/git/.ssh/id_rsa.pub)</span>"</span> &gt;&gt; /home/git/.ssh/authorized_keys</span><br></pre></td></tr></tbody></table></figure></li><li><p>在 gitea 上添加 ssh 配置后进行下面的配置:</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim /mnt/4.860.ssd/docker/gitea/gitea/conf/app.ini</span><br><span class="line"></span><br><span class="line">[server]</span><br><span class="line">DOMAIN = gitea.lan</span><br><span class="line">SSH_DOMAIN = gitea.lan</span><br><span class="line">ROOT_URL = http://gitea.lan:3400/</span><br></pre></td></tr></tbody></table></figure></li></ol><p>主要是将 ip 修改为域名:</p><p>客户机配置 1. 添加 hosts: <code>192.168.31.7 gitea.lan</code></p><ol start="5"><li><p>添加 .ssh/config 配置:</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Host gitea.lan</span><br><span class="line">    HostName gitea.lan</span><br><span class="line">    User git</span><br><span class="line">    Port 2222</span><br><span class="line">    IdentityFile ~/.ssh/server</span><br></pre></td></tr></tbody></table></figure></li></ol><p>测试: <code>ssh -T git@gitea.lan</code>:</p><figure class="highlight txt"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hi there, xxx! You've successfully authenticated with the key named xxx.yyy, but Gitea does not provide shell access.</span><br><span class="line">If this is unexpected, please log in with password and setup Gitea under another user.</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="Jellyfin-代理配置"><a href="#Jellyfin-代理配置" class="headerlink" title="Jellyfin 代理配置"></a>Jellyfin 代理配置</h3><p>新建 <code>/etc/default/jellyfin_proxy.env</code> 并添加:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http_proxy=192.168.1.88:7890</span><br><span class="line">https_proxy=192.168.1.88:7890</span><br><span class="line">all_proxy=socks5://192.168.1.88:8080</span><br></pre></td></tr></tbody></table></figure><p>修改 <code>/etc/systemd/system/jellyfin.service.d/override.conf</code>:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">EnvironmentFile = /etc/default/jellyfin_proxy.env</span><br></pre></td></tr></tbody></table></figure><p>重启:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload &amp;&amp; sudo systemctl restart jellyfin.service</span><br></pre></td></tr></tbody></table></figure><p>Jellyfin 有个坑点, 至少对于我测试的两个地址: 一个是环回地址 (127.0.0.1), 一个是局域网地址 (192.168.31.88, 使用局域网的另一台设备做代理服务器) 来说, 设置环境变量时不能加上协议头 (<code>http://</code> 或 <code>https://</code>), 否则就算设置成功也不会生效, 不清楚是不是 Jellyfin 的玄学 bug, 亦或者说是神奇 feature 😑. 所以上文写的都是没有加协议头的配置, 可以走代理并正常工作, 加了即使设置成功, 在 Jellyfin 里也无效 <del>(然而在其他环境这两个环境变量的协议头是可加可不加的, 不影响)</del>.</p><h3 id="Nginx-Proxy-Manager"><a href="#Nginx-Proxy-Manager" class="headerlink" title="Nginx Proxy Manager"></a>Nginx Proxy Manager</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9uZ2lueHByb3h5bWFuYWdlci5jb20v">Nginx Proxy Manager</a> 是一个基于 Docker 的 Nginx 反向代理管理工具, 它提供了简单易用的界面来管理 Nginx 代理主机.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_VO44KEDv.webp" alt="20241229154732_VO44KEDv.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>简单易用</strong>：无需深入了解 Nginx 或 Let’s Encrypt, 即可轻松创建转发域名、重定向、流和 404 主机.</li><li><strong>免费 SSL</strong>：支持 Let’s Encrypt 自动续订 SSL 证书, 或提供自定义 SSL 证书.</li><li><strong>功能丰富</strong>：提供访问列表、基本 HTTP 认证、高级 Nginx 配置、用户管理、权限控制和审计日志等功能.</li><li><strong>适用于家庭网络</strong>：可以轻松将家庭网络中的网站托管在公网上, 并支持端口转发和域名指向设置.</li></ul><p>使用 DNSPOD 时报错:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ModuleNotFoundError: No module named 'zope' #2440</span><br></pre></td></tr></tbody></table></figure><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL05naW54UHJveHlNYW5hZ2VyL25naW54LXByb3h5LW1hbmFnZXIvaXNzdWVzLzI0NDA=">Fetching Title#rlbf</a></p><p>解决方法:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入 docker 容器</span></span><br><span class="line">docker exec -it /bin/bash xxxx</span><br><span class="line">pip install certbot-dns-dnspod</span><br><span class="line">pip install zope -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></tbody></table></figure><p>申请证书时报错:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Another instance of Certbot is already running</span><br></pre></td></tr></tbody></table></figure><p>解决方法:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -type f -name '.certbot.lock' -exec rm {} \;</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="1Panel-1"><a href="#1Panel-1" class="headerlink" title="1Panel"></a>1Panel</h3><p>使用 1Panel 安装了 <code>OpenResty</code>, 并创建了静态站点, 用于生成 Surge 的规则. 为了方便文件共享编辑, 将<code>/mnt/lankxin.u/docker/docker-compose/sub/data/subconverter/rules/ACL4SSR</code> 通过软链接的方式添加到了 <code>/opt/1panel/apps/openresty/openresty/www/sites/ACLSSR/index</code> 目录下, 配置后报 <strong>404 问题</strong>.</p><p>官方给的解决版本是设置 <code>disable_symlinks off</code>, 但是并不能解决上述问题, 因为默认就是 off:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_aZ8ulzeH.webp" alt="20241229154732_aZ8ulzeH.webp"></p><p>问题的原因是 OpenResty 使用 docker 容器启动, 进入容器查看发现识别不了 <code>/mnt/lankxin.u/docker/docker-compose/sub/data/subconverter/rules/ACL4SSR</code> 目录, 因此需要将此目录映射到容器中:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_CHLTtY12.webp" alt="20241229154732_CHLTtY12.webp"></p><hr><h3 id="Hishtory"><a href="#Hishtory" class="headerlink" title="Hishtory"></a>Hishtory</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2Rkd29ya2VuL2hpc2h0b3J5">Hishtory</a> 是一个更好的 shell 历史记录. 它将您的 shell 历史记录存储在上下文中（哪个目录中运行命令、命令是否成功或失败、花费了多长时间等）. 所有这些都存储在本地并进行端到端加密, 以便同步到其他计算机. 所有这些都可以通过<code>hishtory</code>CLI 轻松查询. 意思是能够在多台设备之间同步命令行记录.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_bPhPdPuS.webp" alt="20241229154732_bPhPdPuS.webp"></p><p>安装方式非常简单:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://hishtory.dev/install.py | python3 -</span><br></pre></td></tr></tbody></table></figure><p>然后重新打开一个 shell(如果你使用 zsh, 直接 source .zshrc 也行), 使用 <code>Control+R</code> 即可查看历史记录. 使用 <code>hishtory status</code> 查看状态与密钥, 然后在另一台主机上通过上述命令安装, 并使用 <code>hishtory init {密钥}</code> 来同步历史记录.</p><h4 id="hishtory-server"><a href="#hishtory-server" class="headerlink" title="hishtory-server"></a>hishtory-server</h4><p>当然也可以执行部署 <code>hoshtory-server</code> 来作为多台主机历史记录的同步服务器:</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">hishtory-server:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">lscr.io/linuxserver/hishtory-server:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">hishtory-server</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PUID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PGID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">HISHTORY_SQLITE_DB=/config/hishtory.db</span> <span class="comment">#optional</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">4000</span><span class="string">:8080</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br></pre></td></tr></tbody></table></figure><p>然后修改各个主机中的 <code>hishtory</code> 配置(我使用 <code>oh-my-zsh</code>, 所以直接修改 .zshrc 即可):</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export PATH="$PATH:/Users/dong4j/.hishtory"</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加这一行</span></span><br><span class="line">export HISHTORY_SERVER="http://{hoshtory-server 的 IP}:4000"</span><br><span class="line">source /Users/dong4j/.hishtory/config.zsh</span><br></pre></td></tr></tbody></table></figure><p>最后重新加载配置:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source .zshrc</span><br></pre></td></tr></tbody></table></figure><p>这样就能使用自托管的 <code>hoshtory-server</code> 在多个主机之间同步命令行历史记录了.</p><hr><h3 id="常用中间件"><a href="#常用中间件" class="headerlink" title="常用中间件"></a>常用中间件</h3><h4 id="MediaMTX"><a href="#MediaMTX" class="headerlink" title="MediaMTX"></a>MediaMTX</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2JsdWVudmlyb24vbWVkaWFtdHg=">MediaMTX</a> 是一款功能强大的实时媒体服务器和媒体代理, 支持视频和音频流的发布、读取、代理、录制和播放. 它可以将不同协议的媒体流进行路由, 实现多种媒体流的互联互通.</p><p>我目前主要用来播放树莓派摄像头上的视频:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_cwXHOY7g.webp" alt="20241229154732_cwXHOY7g.webp"></p><blockquote><p>[[raspberry-pi-stream|树莓派结合 MediaMTX/WVP + ZLMediaKit 实现视频流播放的教程]]</p></blockquote><p><strong>主要功能</strong>：</p><ul><li><strong>支持多种协议</strong>： 支持 SRT、WebRTC、RTSP、RTMP、HLS 等多种主流媒体协议, 兼容性良好.</li><li><strong>实时处理</strong>： 可实时处理媒体流, 包括转换、解码、编码、压缩等操作.</li><li><strong>多路复用</strong>： 可同时处理多个媒体流, 并提供不同的访问路径.</li><li><strong>录制和回放</strong>： 可将媒体流录制到磁盘, 并支持回放.</li><li><strong>安全认证</strong>： 支持用户认证和访问控制, 保障媒体流的安全.</li><li><strong>灵活配置</strong>： 提供丰富的配置选项, 可满足不同场景的需求.</li></ul><h4 id="WVP-PRO-ZLMediaKit"><a href="#WVP-PRO-ZLMediaKit" class="headerlink" title="WVP PRO + ZLMediaKit"></a>WVP PRO + ZLMediaKit</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tLzY0ODU0MDg1OC93dnAtR0IyODE4MS1wcm8=">WVP PRO</a> 是一个基于 GB28181-2016 标准实现的开箱即用的网络视频平台, 负责实现核心信令与设备管理后台部分, 支持 NAT 穿透, 支持海康、大华、宇视等品牌的 IPC、NVR 接入. 支持国标级联, 支持将不带国标功能的摄像机/直播流/直播推流转发到其他国标平台, 流媒体服务基于 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL1pMTWVkaWFLaXQvWkxNZWRpYUtpdA==">ZLMediaKit</a>.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_u8EjJ7jh.webp" alt="20241229154732_u8EjJ7jh.webp"></p><p><strong>特性</strong>:</p><ul><li>实现标准的 28181 信令, 兼容常见的品牌设备, 比如海康、大华、宇视等品牌的 IPC、NVR 以及平台.</li><li>支持将国标设备级联到其他国标平台, 也支持将不支持国标的设备的图像或者直播推送到其他国标平台</li><li>前端完善, 自带完整前端页面, 无需二次开发可直接部署使用.</li><li>完全开源, 且使用 MIT 许可协议. 保留版权的情况下可以用于商业项目.</li><li>支持多流媒体节点负载均衡.</li></ul><h4 id="JSON-Crack"><a href="#JSON-Crack" class="headerlink" title="JSON Crack"></a>JSON Crack</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0F5a3V0U2FyYWMvanNvbmNyYWNrLmNvbQ==">JSON Crack</a> 专注于简化 JSON 数据的处理和可视化. 它通过将 JSON 数据转换为交互式图表, 帮助用户更直观地理解数据结构和关系. 此外, 它还提供格式化、验证、代码生成等功能, 支持多种数据格式, 是处理 JSON 数据的理想选择.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_IxKLtILH.webp" alt="20241229154732_IxKLtILH.webp"></p><p><strong>重点</strong>：</p><ul><li><strong>可视化 JSON 数据</strong>： 将复杂的 JSON 结构以图表形式展现, 方便用户快速理解和分析数据.</li><li><strong>格式化与验证</strong>： 自动格式化 JSON 数据, 并提供验证功能, 确保数据格式正确.</li><li><strong>多种格式支持</strong>： 支持多种数据格式, 包括 JSON、YAML、CSV、XML 和 TOML, 满足不同需求.</li></ul><p><strong>亮点</strong>：</p><ul><li><strong>交互式体验</strong>： 通过交互式图表, 用户可以展开和折叠数据结构, 探索数据细节.</li><li><strong>易于使用</strong>： 界面简洁直观, 操作简单, 即使是非技术用户也能轻松上手.</li><li><strong>安全可靠</strong>： 数据处理完全在本地进行, 无需上传或存储数据, 确保用户隐私安全.</li><li><strong>多功能性</strong>： 除了可视化, 还提供格式化、验证、代码生成等功能, 满足 JSON 数据处理的全面需求.</li></ul><p>相关资源:</p><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9tYXJrZXRwbGFjZS52aXN1YWxzdHVkaW8uY29tL2l0ZW1zP2l0ZW1OYW1lPUF5a3V0U2FyYWMuanNvbmNyYWNrLXZzY29kZQ==">JSON Crack VS Code 插件</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9wbHVnaW5zLmpldGJyYWlucy5jb20vcGx1Z2luLzIyMzA4LWpzb25jcmFjaw==">IDEA 中的插件</a></li></ul><h5 id="部署-1"><a href="#部署-1" class="headerlink" title="部署"></a>部署</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:AykutSarac/jsoncrack.com.git</span><br><span class="line"><span class="built_in">cd</span> jsoncrack.com</span><br><span class="line">docker build -t jsoncrack .</span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></tbody></table></figure><p>其他一些常用的开发中间件全部使用 1Panel 部署:</p><ul><li>mongodb</li><li>nacos</li><li>kafka</li><li>mysql</li><li>postgresql</li><li>emqx</li><li>redis</li></ul><h2 id="AI-Station"><a href="#AI-Station" class="headerlink" title="AI.Station"></a>AI.Station</h2><p>这台主机因为耗电量有点高, 只会在使用时开一下, 目前主要用作 AI 相关的测试环境, 后期打算换成 22G 版本的 2080Ti 玩一玩.</p><h3 id="Stable-Diffusion"><a href="#Stable-Diffusion" class="headerlink" title="Stable Diffusion"></a>Stable Diffusion</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0FVVE9NQVRJQzExMTEvc3RhYmxlLWRpZmZ1c2lvbi13ZWJ1aQ==">Stable Diffusion web UI</a> 是一个基于 Gradio 库实现的 Stable Diffusion 模型的网页界面. 它提供了一系列功能, 方便用户使用 Stable Diffusion 模型进行图像生成和编辑.</p><p>就是看了 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9tZWRpdW0uY29tL0Bjcm9hdGgvJUU0JUJEJThFJUU2JTg4JTkwJUU2JTlDJUFDJUU0JUJEJTkzJUU5JUFBJThDJUU3JTk0JTlGJUU2JTg4JTkwLWFpLSVFNSVCMCU4RiVFNSVBNyU5MCVFNSVBNyU5MCVFNyU4NSVBNyVFNyU4OSU4Ny04NWZmYTdjMTNjZDc=">这篇文章</a>开始入坑的, 可以说是因为 <strong>Stable Diffusion</strong> 组装了 <strong>AI.Station</strong> 这台主机, 也是我尝试的第一款 AI 工具, 目前博客的 cover 图片也是通过它来生成的.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_tkgmSIsV.webp" alt="20241229154732_tkgmSIsV.webp"></p><p><strong>主要功能</strong>：</p><ul><li><strong>图像生成</strong>：支持 txt2img 和 img2img 模式, 可以输入文字描述生成图像, 或将图像作为输入进行风格迁移或内容编辑.</li><li><strong>图像编辑</strong>：支持 outpainting、inpainting、color 等功能, 可以扩展图像内容、修复图像缺陷或改变图像颜色.</li><li><strong>模型扩展</strong>：集成了 GFPGAN、CodeFormer、RealESRGAN、ESRGAN、SwinIR、Swin2SR、LDSR 等模型, 可以修复人脸、修复图像、提升图像分辨率等.</li><li><strong>参数控制</strong>：提供丰富的参数设置选项, 包括采样方法、注意力机制、生成参数等, 可以控制图像生成的风格和质量 <strong>批量处理</strong>：支持批量处理图像, 可以同时生成多张图像.</li><li><strong>自定义脚本</strong>：支持自定义脚本, 可以扩展功能或实现特定需求.</li></ul><p><strong>其他特点</strong>：</p><ul><li><strong>易于使用</strong>：网页界面简洁易用, 操作方便.</li><li><strong>跨平台</strong>：支持 Windows、Linux、macOS 等操作系统.</li><li><strong>开源</strong>：开源代码, 方便用户学习和改进.</li></ul><h4 id="相关资源"><a href="#相关资源" class="headerlink" title="相关资源"></a>相关资源</h4><h5 id="模型资源"><a href="#模型资源" class="headerlink" title="模型资源"></a>模型资源</h5><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cubWRuaWNlLmNvbS93cml0aW5nL2E2YzA0NDYyMDEzZTQ2OTc5M2IzZmY0MTgzMGE3YjA4">9 个 Stable Diffusion 模型网站</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpYmFpdXAvYXJ0aWNsZS9kZXRhaWxzLzEzOTE2Nzk3Mg==">Stable Diffusion 常用模型下载与说明</a></li></ul><h5 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h5><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2FpLXZpcC9zdGFibGUtZGlmZnVzaW9uLXR1dG9yaWFs">Stable Diffusion 教程</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cudWlzZGMuY29tL3N0YWJsZS1kaWZmdXNpb24tMw==">外婆都能看懂的 Stable Diffusion 入门教程</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2phcm9keXYvYXJ0aWNsZS9kZXRhaWxzLzEyOTM4Nzk0NQ==">万字长文：Stable Diffusion 保姆级教程</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvZUZpLXhvVkRRb216Q0JyNWtPOW5IQQ==">超详细的胎教级 Stable Diffusion 使用教程</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cueW91dHViZS5jb20vcGxheWxpc3Q/bGlzdD1QTDRMNXlYY0FlZ2R4d2NEMlJSZmZRbnRtWHlndjI2YXVU">视频教程-Stable Diffusion 教程 从入门到精通</a></li></ul><h4 id="相关问题"><a href="#相关问题" class="headerlink" title="相关问题"></a>相关问题</h4><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: Using SOCKS proxy, but the 'socksio' package is not installed. Make sure to install httpx using `pip install httpx[socks]`.</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install 'httpx[socks]'</span><br></pre></td></tr></tbody></table></figure><blockquote><p>zsh 环境不能直接使用 <code>pip install httpx[socks]</code>, 这是 Zsh 的路径扩展机制导致的问题, 它会尝试将方括号 [] 视为通配符</p></blockquote><p>验证:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c "import httpx; print(httpx.__version__)"</span><br></pre></td></tr></tbody></table></figure><p>然而上述操作并无法解决, 下面才是正确的方法:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset all_proxy &amp;&amp; unset ALL_PROXY</span><br></pre></td></tr></tbody></table></figure><p>因为我开启了终端代理, 需要先关闭代理.</p><h3 id="ComfyUI"><a href="#ComfyUI" class="headerlink" title="ComfyUI"></a>ComfyUI</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2NvbWZ5YW5vbnltb3VzL0NvbWZ5VUk=">ComfyUI</a> 是一个功能强大的扩散模型图形界面、API 和后端工具, 提供基于图//流程图的界面, 让您无需编写代码即可设计和执行复杂的稳定扩散工作流程.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_rUrd5dZq.webp" alt="20241229154732_rUrd5dZq.webp"></p><p><strong>主要特点</strong>：</p><ul><li><strong>图形界面</strong>： 使用节点/图/流程图界面, 无需代码即可设计和执行工作流程.</li><li><strong>兼容多种模型</strong>： 支持 SD1.x、SD2.x、SDXL、Stable Video Diffusion、Stable、SD3 和 Stable Audio 等多种扩散模型.</li><li><strong>高效管理</strong>： 异步队列系统、智能内存管理、仅重执行更改部分等优化功能.</li><li><strong>模型兼容</strong>： 支持加载 ckpt、safetensors 和 diffusers 模型/检查点, 以及独立的 VAE 和 CLIP 模型.</li><li><strong>文本处理</strong>： 支持嵌入/文本反转、Loras (regular, locon 和 loha)、超网络等文本功能.</li><li><strong>工作流程管理</strong>： 可以从 PNG、WebP 和 FLAC 文件加载包含种子的工作流程, 并保存/加载工作流程为 JSON 文件.</li><li><strong>多种工具</strong>： 支持区域合成、修复、ControlNet 和 T2I-Adapter、升采样模型 (ESRGAN、SwinIR、Swin2SR 等)、unCLIP 模型、GLIGEN、模型合并、LCM 模型和 Loras、XL Turbo、AuraFlow、HunyuanDiT、TAESD 隐式预览等功能.</li><li><strong>离线工作</strong>： 完全离线工作, 无需下载任何内容.</li><li><strong>配置文件</strong>： 可以通过配置文件设置模型搜索路径.</li></ul><blockquote><p>ConfyUI 官网的 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0NvbWZ5LU9yZy9kZXNrdG9w">桌面版</a> 最近开始公测了, 下载地址:<br>Windows (NVIDIA) NSIS x64: <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kb3dubG9hZC5jb21meS5vcmcvd2luZG93cy9uc2lzL3g2NA==">Download</a><br>macOS ARM: <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kb3dubG9hZC5jb21meS5vcmcvbWFjL2RtZy9hcm02NA==">Download</a></p></blockquote><h4 id="相关资源-1"><a href="#相关资源-1" class="headerlink" title="相关资源"></a>相关资源</h4><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cudWlzZGMuY29tL3p0L2NvbWZ5dWk=">ComfyUI 入门和进阶指南</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9jb21meXVpLXdpa2kuY29tL3poL3R1dG9yaWFs">系列教程</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cucnVuY29tZnkuY29tL3poLUNOL3R1dG9yaWFscw==">RunComfy 的教程</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cueW91dHViZS5jb20vcGxheWxpc3Q/bGlzdD1QTDRMNXlYY0FlZ2R5NmFaR3R0eHUybFZoalNhWVZBcXVY">视频教程-ComfyUI 入门到精通</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cueW91dHViZS5jb20vcGxheWxpc3Q/bGlzdD1QTFByMmJKNVprRnJ4NE1tQ0xIZW1vSEMzcVdFR2s2WE4x">视频教程-ComfyUI 系统教程</a></li></ul><h3 id="AI-starter-kit"><a href="#AI-starter-kit" class="headerlink" title="AI starter kit"></a>AI starter kit</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL244bi1pby9zZWxmLWhvc3RlZC1haS1zdGFydGVyLWtpdA==">Self-hosted AI starter kit</a> 是一个开源的 Docker Compose 模板, 旨在快速搭建本地 AI 和低代码开发环境. 它由 <strong><a href="#n8n">n8n</a></strong> 精心打造, 集成了自托管 n8n 平台和一系列兼容的 AI 产品和组件, 让您可以轻松开始构建自托管的 AI 工作流程.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_38N0rSw2.webp" alt="20241229154732_38N0rSw2.webp"></p><p><strong>主要功能</strong>：</p><ul><li><strong>自托管 n8n 平台</strong>：低代码平台, 拥有超过 400 个集成和高级 组件.</li><li><strong>Ollama</strong>：跨平台 LLM 平台, 可安装和运行最新的本地 LLM.</li><li><strong>Qdrant</strong>：开源、高性能向量存储, 拥有全面的 API.</li><li><strong>PostgreSQL</strong>：数据工程领域的“工作马”, 安全处理大量数据.</li></ul><blockquote><p>我还是用 ChatGLM4 把, 至少上面的问题它能回答出来:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_AlTfxeF4.webp" alt="20241229154732_AlTfxeF4.webp"></p></blockquote><h4 id="安装-Nvidia-容器工具包"><a href="#安装-Nvidia-容器工具包" class="headerlink" title="安装 Nvidia 容器工具包"></a>安装 Nvidia 容器工具包</h4><ol><li><p>配置存储库</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey \</span><br><span class="line">    | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg</span><br><span class="line">curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list \</span><br><span class="line">    | sed <span class="string">'s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g'</span> \</span><br><span class="line">    | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/nvidia-container-toolkit.list</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></tbody></table></figure></li><li><p>安装工具包</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y nvidia-container-toolkit</span><br></pre></td></tr></tbody></table></figure></li></ol><h4 id="配置-Docker-以使用-Nvidia-驱动程序"><a href="#配置-Docker-以使用-Nvidia-驱动程序" class="headerlink" title="配置 Docker 以使用 Nvidia 驱动程序"></a>配置 Docker 以使用 Nvidia 驱动程序</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo nvidia-ctk runtime configure --runtime=docker</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></tbody></table></figure><p>上述命令在 <code>/etc/docker/daemon.json</code> 添加如下内容:</p><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">"runtimes"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line">      <span class="attr">"nvidia"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line">          <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">"path"</span><span class="punctuation">:</span> <span class="string">"nvidia-container-runtime"</span></span><br><span class="line">      <span class="punctuation">}</span></span><br><span class="line">  <span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure><h4 id="部署-2"><a href="#部署-2" class="headerlink" title="部署"></a>部署</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/n8n-io/self-hosted-ai-starter-kit.git</span><br><span class="line"><span class="built_in">cd</span> self-hosted-ai-starter-kit</span><br><span class="line">docker compose --profile gpu-nvidia up -d</span><br></pre></td></tr></tbody></table></figure><blockquote><p>如果需要在非本机上访问 WebUI, environment 需要添加 <code>N8N_SECURE_COOKIE=false</code>.</p></blockquote><p>启动后需要耐心等待 <code>llama3.2:latest</code> 模型下载完成后才能执行聊天. 下载模型花了大概 10 分钟:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_xut64rTN.webp" alt="20241229154732_xut64rTN.webp"></p><hr><h2 id="MBP"><a href="#MBP" class="headerlink" title="MBP"></a>MBP</h2><p>macOS 下推荐使用 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9vcmJzdGFjay5kZXYv">OrbStack</a> , 它是一款替代 Docker Desktop 的轻量级 Docker 和 Linux 运行环境. 它具有启动快、占用资源少、易于集成等特点, 并提供容器、Kubernetes 和 Linux 发行版等功能.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_jbwSIPKq.webp" alt="20241229154732_jbwSIPKq.webp"></p><p><strong>重要亮点</strong>:</p><ul><li><strong>轻量级</strong>：占用资源少, 对电池续航影响小.</li><li><strong>速度快</strong>：启动速度快, 网络性能优异.</li><li><strong>易于集成</strong>：与 Docker Desktop 兼容, 支持远程 SSH 和文件共享.</li><li><strong>功能丰富</strong>：支持容器、Kubernetes 和 Linux 发行版等功能.</li><li><strong>性能优异</strong>：在性能测试中优于 Docker Desktop.</li></ul><h3 id="LM-Studio"><a href="#LM-Studio" class="headerlink" title="LM Studio"></a>LM Studio</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9sbXN0dWRpby5haS8=">LM Studio</a> 是一个可以本地运行大型语言模型（LLM）的工具, 用户无需连接互联网即可在电脑上运行各种 LLM, 包括 Llama、Mistral、Phi 等</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_ziXFTeHa.webp" alt="20241229154732_ziXFTeHa.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>本地运行</strong>：无需连接互联网, 在本地电脑上运行 LLM.</li><li><strong>模型库丰富</strong>：支持多种 LLM 模型, 包括 Llama、Mistral、Phi、Gemma、DeepSeek、Qwen2.5 等.</li><li><strong>文档对话</strong>：可以与本地文档进行对话, 获取信息或生成内容.</li><li><strong>多种接口</strong>：支持通过 Chat UI 或 OpenAI 兼容的本地服务器使用模型.</li><li><strong>模型下载</strong>：可以下载 Hugging Face 上的任何兼容模型文件.</li><li><strong>隐私保护</strong>：不收集用户数据, 保护用户隐私.</li></ul><p><strong>优势</strong>:</p><ul><li><strong>无需互联网</strong>：随时随地使用 LLM, 不受网络限制.</li><li><strong>隐私保护</strong>：保护用户数据安全, 避免数据泄露风险.</li><li><strong>功能丰富</strong>：满足多种 LLM 应用需求.</li><li><strong>易于使用</strong>：简洁的界面, 易于上手.</li></ul><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_ehBTUUoX.webp" alt="20241229154732_ehBTUUoX.webp"></p><p>目前是我主要使用的本地 LLM 工具, 且兼容 OpenAI API, 这样我就可以在其他需要 LLM 的应用中使用.</p><h3 id="Ollama-相关问题"><a href="#Ollama-相关问题" class="headerlink" title="Ollama 相关问题"></a>Ollama 相关问题</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许跨域</span></span><br><span class="line">launchctl setenv OLLAMA_ORIGINS "*"</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更改模型位置</span></span><br><span class="line">launchctl setenv OLLAMA_MODELS "/Users/dong4j/Library/CloudStorage/SynologyDrive-AI/models/ollama"</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改 <span class="built_in">bind</span></span></span><br><span class="line">launchctl setenv OLLAMA_HOST "0.0.0.0"</span><br></pre></td></tr></tbody></table></figure><p>这里补充一下如果是在 Docker 中安装, 有可能会遇到 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL29sbGFtYS9vbGxhbWEvaXNzdWVzLzMzNjU=">Unable to make cors work in docker container</a> 问题, 不过最新版本已经修复了.</p><h2 id="Mac-mini-2018"><a href="#Mac-mini-2018" class="headerlink" title="Mac mini 2018"></a>Mac mini 2018</h2><p>作为最后一代支持 Intel 芯片的 macOS 主机, 二手已经卖不起价了, 所以留着当台服务器用. 最大的问题就是发热严重, 现在散热风扇 24 小时开着, 一点不敢怠慢, 希望还能多用几年.</p><h3 id="Rsync-Server"><a href="#Rsync-Server" class="headerlink" title="Rsync Server"></a>Rsync Server</h3><p>Mac mini 2018 通过雷雳 3 连接着一个 8T 的 LaCie d2 Professional, 用作重要数据的冗余备份.</p><p>目前通过 Rsync 将 DS923+ 上的重要数据同步到 LaCie d2 上. 具体的配置方式将在 <a href="/posts/b808f350.html">数据篇</a> 详细说明, 主要涉及到 Rsync 的 Server 启动模式以及 macOS 上的自启动配置.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_9bWUOu7s.webp" alt="20241229154732_9bWUOu7s.webp"></p><h3 id="V2ray"><a href="#V2ray" class="headerlink" title="V2ray"></a>V2ray</h3><p>另一种 VPN 方案, 使用 Surge 作为客户端连接家中的设备和服务:</p><blockquote><p>使用 V2ray 只作为连接家中网络, 不作其他用途.</p></blockquote><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">v2ray:</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">"v2ray -config /srv/docker/v2ray/config.json"</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">"v2ray/official:latest"</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"54321:54321"</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"/path/to/data:/srv/docker/v2ray"</span></span><br></pre></td></tr></tbody></table></figure><p><code>config.json</code> 配置如下:</p><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">  <span class="attr">"inbounds"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">{</span></span><br><span class="line">      <span class="attr">"port"</span><span class="punctuation">:</span> <span class="number">54321</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">"protocol"</span><span class="punctuation">:</span> <span class="string">"vmess"</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">"settings"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line">        <span class="attr">"clients"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"id"</span><span class="punctuation">:</span> <span class="string">"ac2a5d46-a3c4-4c35-9db1-614f403dedff"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"alterId"</span><span class="punctuation">:</span> <span class="number">64</span></span><br><span class="line">          <span class="punctuation">}</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">}</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"outbounds"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">{</span></span><br><span class="line">      <span class="attr">"protocol"</span><span class="punctuation">:</span> <span class="string">"freedom"</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">"settings"</span><span class="punctuation">:</span> <span class="punctuation">{</span><span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">}</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure><p>Surge 配置如下:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">💻 V.Intel = vmess, your.domain.name, 54321, username=ac2a5d46-a3c4-4c35-9db1-614f403dedff</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="NextChat"><a href="#NextChat" class="headerlink" title="NextChat"></a>NextChat</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0NoYXRHUFROZXh0V2ViL0NoYXRHUFQtTmV4dC1XZWI=">NextChat</a> 是一个基于 ChatGPT 和 Gemini 的跨平台应用, 支持 Web、PWA、Linux、Windows、MacOS 等多种平台. 它可以帮助用户一键部署自己的 ChatGPT 应用, 并提供 GPT3、GPT4 和 Gemini Pro 等多种 AI 模型支持.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_TdYndv4v.webp" alt="20241229154732_TdYndv4v.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>一键部署</strong>：只需在 Vercel 上进行简单操作, 即可在 1 分钟内完成部署.</li><li><strong>轻量级</strong>：Linux/Windows/MacOS 版本的客户端体积小巧（约 5MB）, 易于安装和使用.</li><li><strong>兼容自部署模型</strong>：支持与自部署的 LLM 模型（如 RWKV-Runner 和 LocalAI）无缝配合.</li><li><strong>隐私保护</strong>：所有数据都保存在本地浏览器中, 确保用户隐私安全.</li><li><strong>丰富的功能</strong>：支持 Markdown、响应式设计、深色模式、PWA 等功能, 并提供预制角色海量内置 prompt 列表.</li><li><strong>多语言支持</strong>：支持英语、简体中文、繁体中文、日语、西班牙语等多种语言.</li></ul><h3 id="ChatGPT-on-WeChat"><a href="#ChatGPT-on-WeChat" class="headerlink" title="ChatGPT on WeChat"></a>ChatGPT on WeChat</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3poYXl1amllL2NoYXRncHQtb24td2VjaGF0">ChatGPT on WeChat</a> 是基于大模型搭建的聊天机器人, 同时支持 微信公众号、企业微信应用、飞书、钉钉 等接入, 可选择 GPT3.5/GPT-4o/GPT-o1/ Claude/文心一言/讯飞星火/通义千问/ Gemini/GLM-4/Claude/Kimi/LinkAI, 能处理文本、语音和图片, 访问操作系统和互联网, 支持基于自有知识库进行定制企业智能客服.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_G3FSok7x.webp" alt="20241229154732_G3FSok7x.webp"></p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9jZG4ubGluay1haS50ZWNoL2RvYy9jb3dfZGVtby5tcDQ=">效果演示</a></p><h3 id="Dify-on-WeChat"><a href="#Dify-on-WeChat" class="headerlink" title="Dify on WeChat"></a>Dify on WeChat</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2hhbmZhbmd5dWFuNDM5Ni9kaWZ5LW9uLXdlY2hhdA==">Dify on WeChat</a> 项目为 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3poYXl1amllL2NoYXRncHQtb24td2VjaGF0">chatgpt-on-wechat</a> 下游分支, 额外对接了 LLMOps 平台 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2xhbmdnZW5pdXMvZGlmeQ==">Dify</a>, 支持 Dify 智能助手模型, 调用工具和知识库, 支持 Dify 工作流.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_s934kJDk.webp" alt="20241229154732_s934kJDk.webp"></p><p>Dify 接入微信生态的详细教程请查看文章 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9kb2NzLmRpZnkuYWkvdi96aC1oYW5zL2xlYXJuLW1vcmUvdXNlLWNhc2VzL2RpZnktb24td2VjaGF0"><strong>手摸手教你把 Dify 接入微信生态</strong></a>.</p><h2 id="Mac-mini-M2"><a href="#Mac-mini-M2" class="headerlink" title="Mac mini M2"></a>Mac mini M2</h2><p>Mac mini M2 主要作为 AI 辅佐主机, 部署了一些小模型来辅佐 RAG 的建设, 比如:</p><ul><li>reranker</li><li>m3e-large</li></ul><h2 id="软路由"><a href="#软路由" class="headerlink" title="软路由"></a>软路由</h2><h3 id="R2S"><a href="#R2S" class="headerlink" title="R2S"></a>R2S</h3><h4 id="AdGuard-Home"><a href="#AdGuard-Home" class="headerlink" title="AdGuard Home"></a>AdGuard Home</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0FkZ3VhcmRUZWFtL0FkR3VhcmRIb21l">AdGuard Home</a> 是一款免费开源的网络广告和跟踪器屏蔽软件, 它通过充当 DNS 服务器来阻止跟踪域, 从而防止您的设备连接到这些服务器.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_wJLNXSok.webp" alt="20241229154732_wJLNXSok.webp"></p><p><strong>特性</strong>:</p><ul><li><strong>网络级保护</strong>： AdGuard Home 可以覆盖您家中所有设备的网络, 无需在设备上安装任何客户端软件.</li><li><strong>强大的功能</strong>： 它不仅能够屏蔽广告和跟踪器, 还可以阻止恶意软件、钓鱼网站、成人内容, 并强制进行安全搜索.</li><li><strong>自定义规则</strong>： 您可以添加自定义规则来屏蔽特定网站或广告.</li><li><strong>易于使用</strong>： AdGuard Home 非常易于设置和使用, 即使是非技术用户也可以轻松上手.</li><li><strong>开源</strong>： AdGuard Home 是开源软件, 这意味着您可以查看其源代码, 并根据自己的需求进行修改和扩展.</li></ul><p>R2S 的 OpenWrt 固件自带 <strong>AdGuard Home</strong> 服务, 目前主要用来拦截广告.</p><hr><h4 id="OpenClash"><a href="#OpenClash" class="headerlink" title="OpenClash"></a>OpenClash</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3Zlcm5lc29uZy9PcGVuQ2xhc2g=">OpenClash</a> 是一个基于 OpenWrt 的 <strong>Clash</strong> 客户端插件, 旨在为 OpenWrt 路由器用户提供强大的网络代理管理功能. OpenClash 支持多种代理协议（如 VMess、Shadowsocks、Trojan 等）, 并允许用户灵活配置规则进行流量分流.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_tsSGCxrN.webp" alt="20241229154732_tsSGCxrN.webp"></p><p><strong>特性</strong>:</p><ul><li><p><strong>图形化管理界面</strong>：通过 OpenWrt 的 Luci 界面, 用户可以轻松配置和管理 Clash.</p></li><li><p><strong>多配置文件支持</strong>：允许用户切换和管理多个代理配置文件.</p></li><li><p><strong>实时日志与调试工具</strong>：便于用户查看代理运行状态并快速排查问题.</p></li><li><p><strong>自动化更新</strong>：支持订阅配置文件和规则的自动更新, 保持最新网络环境.</p></li></ul><h4 id="SmartDNS"><a href="#SmartDNS" class="headerlink" title="SmartDNS"></a>SmartDNS</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3B5bXVtdS9zbWFydGRucw==">SmartDNS</a> 一个运行在本地的 DNS 服务器, 旨在通过获取最快的网站 IP 地址来提高网络访问速度. 它支持 DoH 和 DoT 协议, 并兼容多种操作系统, 如树莓派、OpenWrt 和 Windows.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_PmqxAXjC.webp" alt="20241229154732_PmqxAXjC.webp"></p><p><strong>特性</strong>:</p><ul><li><strong>多虚拟 DNS 服务器</strong>： 支持多个虚拟 DNS 服务器, 每个服务器拥有不同的端口、规则和客户端, 实现不同场景下的需求.</li><li><strong>多 DNS 上游服务器</strong>： 支持配置多个上游 DNS 服务器, 并行查询并返回访问速度最快的解析结果, 提高查询效率和可靠性.</li><li><strong>客户端独立控制</strong>： 支持基于 MAC 或 IP 地址控制客户端使用不同的查询规则, 实现家长控制等功能.</li><li><strong>返回最快 IP 地址</strong>：域名所属 IP 地址列表中查找访问速度最快的 IP 地址, 并返回给客户端, 提高网络访问速度.</li><li><strong>多种查询协议</strong>： 支持 UDP、TCP、DOT 和 DOH 查询及服务, 以及非 53 端口查询；支持通过 socks5, HTTP 代理查询.</li><li><strong>特定域名 IP 地址指定</strong>： 支持指定域名的 IP 地址, 实现广告过滤、避免恶意网站等功能.</li><li><strong>域名高性能后缀匹配</strong>：持域名后缀匹配模式, 简化过滤配置, 过滤效率高.</li><li><strong>域名分流</strong>： 支持域名分流, 不同类型的域名向不同的 DNS 服务器查询, 支持 iptable 和 nftable 更好的分流；支持测速失败的情况下设置域名结果到对应 ipset 和 nftset 集合.</li><li><strong>多平台支持</strong>： 支持标准 Linux 系统（树莓派）、OpenWrt 系统各种固件和华硕路由器原生固件. 支持 WSL（Windows Subsystem for Linux, 适用于 Linux 的 Windows 子系统）.</li><li><strong>IPv4、IPv6 双栈</strong>： 支持 IPv4 和 IPV 6 网络, 支持查询 A 和 AAAA 记录, 支持双栈 IP 速度优化, 并支持完全禁用 IPv6 AAAA 解析.</li></ul><hr><h4 id="PushBot"><a href="#PushBot" class="headerlink" title="PushBot"></a>PushBot</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3p6c2owOTI4L2x1Y2ktYXBwLXB1c2hib3Q=">PushBot</a> 支持多种推送服务, 包括钉钉、企业微信、微信、飞书等, 并提供设备状态监控、流量统计等功能.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_vrU8TQzI.webp" alt="20241229154732_vrU8TQzI.webp"></p><p><strong>重要亮点</strong>:</p><ul><li>支持多种推送服务, 包括钉钉、企业微信、微信、飞书等.</li><li>提供设备状态监控、流量统计等功能.</li><li>支持设备别名、白名单、名单等设置.</li><li>代码基于 serverchan 提供的接口进行发送信息.</li></ul><h3 id="R5S"><a href="#R5S" class="headerlink" title="R5S"></a>R5S</h3><h4 id="WireGuard-Easy"><a href="#WireGuard-Easy" class="headerlink" title="WireGuard Easy"></a>WireGuard Easy</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3dnLWVhc3kvd2ctZWFzeQ==">WireGuard Easy</a> 是一个基于 Web 界面的 <strong>WireGuard</strong> VPN 管理工具, 旨在简化 WireGuard 服务器的设置和管理. 它提供了一个用户友好的界面, 使用户能够轻松创建、管理和监控 WireGuard 配置, 而无需手动编辑配置文件.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_AyoFVrAx.webp" alt="20241229154732_AyoFVrAx.webp"></p><p><strong>特性</strong>:</p><ul><li><p><strong>简化的 WireGuard 配置管理</strong>：通过 Web UI, 用户可以轻松地添加和管理 WireGuard 客户端和服务器配置.</p></li><li><p><strong>支持多用户管理</strong>：可以为多个客户端生成和管理 WireGuard 密钥对, 方便分配和控制访问权限.</p></li><li><p><strong>实时状态监控</strong>：提供 WireGuard 连接状态的实时更新和日志记录, 帮助用户监控 VPN 服务的运行状况.</p></li><li><p><strong>Docker 支持</strong>：wg-easy 可以通过 Docker 容器部署, 便于跨平台使用.</p></li></ul><hr><h4 id="Bark"><a href="#Bark" class="headerlink" title="Bark"></a>Bark</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0ZpbmIvQmFyaw==">Bark</a> 允许用户将自定义通知推送到他们的 iPhone. 它可以将各种信息, 如短信、邮件、社交媒体更新等, 转换为语音或文字通知, 方便用户在无法查看手机时接收重要信息.</p><p>Bark 支持多种通知方式, 包括 Pushover、IFTTT、HTTP API 等, 并可以与各种应用程序和服务进行集成. 用户可以通过 bark-server 搭建自己的 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0ZpbmIvYmFyay1zZXJ2ZXI=">Bark 服务器</a>, 实现完全自托管的解决方案.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_nKrY4HMo.webp" alt="20241229154732_nKrY4HMo.webp"></p><p>目前使用 Bark 作为推送服务的有:</p><ul><li>Uptime Kuma</li><li>OpenWrt 的 PushBot</li><li>脚本执行结果推送</li><li>浏览器插件推送</li><li>Synology NAS 的 Webhook</li></ul><p><strong>相关资源:</strong></p><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2FkYW1zNTQ5NjU5NTg0L2Jhcmstc2VydmVy">Bar Server Markdown</a></li></ul><hr><h3 id="H28K"><a href="#H28K" class="headerlink" title="H28K"></a>H28K</h3><h4 id="Linux-Command"><a href="#Linux-Command" class="headerlink" title="Linux Command"></a>Linux Command</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL2pheXdjamxvdmUvbGludXgtY29tbWFuZA==">Linux Command</a> 是一个开源项目, 旨在收集整理 Linux 命令手册、详解、学习资源等内容, 并提供方便快捷的搜索工具. 该项目由 GitHub 用户 jaywcjlove 维护, 并生成了一个 Web 网站方便用户使用.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_etdTnBBP.webp" alt="20241229154732_etdTnBBP.webp"></p><p><strong>主要特点</strong>：</p><ul><li><strong>内容全面</strong>： 搜集了 580 多个 Linux 命令, 涵盖文件管理、文件传输、备份压缩、磁盘管理、系统设置、系统管理、文本处理网络通讯、设备管理、电子邮件与新闻组等多个方面.</li><li><strong>方便搜索</strong>： 提供强大的搜索功能, 用户可以快速找到所需的命令及其相关信息.</li><li><strong>多种版本</strong>： 提供多种版本, 包括 Web 版本、微信小程序、Chrome 插件、Raycast 版本、Alfred 版本、Android 版本、Mac/Win/Linux 版本等, 方便用户在不同平台上使用.</li><li><strong>易于部署</strong>： 提供多种部署方式, Docker、Vercel、宝塔面板等, 方便用户自行部署.</li></ul><h2 id="HK1-Box"><a href="#HK1-Box" class="headerlink" title="HK1 Box"></a>HK1 Box</h2><h3 id="Home-Assistant"><a href="#Home-Assistant" class="headerlink" title="Home Assistant"></a>Home Assistant</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cuaG9tZS1hc3Npc3RhbnQuaW8v">Home Assistant</a> 一款开源的智能家居自动化平台. 它支持多种设备和服务的集成, 提供强大的自动化功能, 并强调本地控制和隐私保护.</p><p>目前还没有花太多心思去做配置:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_gdpIiGkb.webp" alt="20241229154732_gdpIiGkb.webp"></p><p><strong>重要亮点</strong></p><ul><li><strong>开源社区</strong>: 由全球爱好者和开发者共同维护.</li><li><strong>设备兼容性</strong>: 支持超过 1000 种设备和服务的集成.</li><li><strong>自动化功能</strong>: 可以根据时间、事件和条件自动控制智能家居设备.</li><li><strong>本地控制</strong>: 数据存储和处理均在本地, 确保隐私安全.</li><li><strong>移动应用</strong>: 提供官方移动应用, 方便远程控制和监控.</li></ul><h3 id="Node-RED"><a href="#Node-RED" class="headerlink" title="Node-RED"></a>Node-RED</h3><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9ub2RlcmVkLm9yZy8=">Node-RED</a> 是一个基于 Node.js 的低代码编程平台, 旨在简化事件驱动应用程序的开发. 它提供直观的浏览器编辑器, 允许用户通过拖放节点的方式连接硬件、API 和在线服务, 构建复杂的流程. Node-RED 适用于各种场景, 包括物联网、数据集成和自动化等.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_fGEzcSLj.webp" alt="20241229154732_fGEzcSLj.webp"></p><p><strong>重点亮点</strong>:</p><ul><li><strong>低代码编程平台</strong>： Node-RED 是一个用于事件驱动的应用程序的低代码编程平台, 它允许用户通过图形界面连接各种硬件设备、API 和数据源.</li><li><strong>可视化编程</strong>： 用户可以通过拖放节点来构建应用程序, 无需编写代码, 这降低了开发难度, 并提高了开发效率.</li><li><strong>广泛的应用场景</strong>： Node-RED 可用于各种场景, 例如物联网、自动化、数据分析等.</li><li><strong>开源项目</strong> Node-RED 是一个开源项目, 由 OpenJS Foundation 维护.</li><li><strong>活跃社区</strong>： Node-RED 拥有一个活跃的社区, 用户可以在这里获取帮助、分享经验和贡献代码.</li><li><strong>丰富的节点库</strong>： Node-RED 提供了丰富的节点库, 用户可以从中选择所需的节点来构建应用程序.</li><li><strong>跨平台</strong>： Node-RED 支持多种操作系统, 包括 Windows、Linux 和 macOS.</li></ul><hr><h2 id="其他服务"><a href="#其他服务" class="headerlink" title="其他服务"></a>其他服务</h2><h3 id="Captive-Portal-检测服务"><a href="#Captive-Portal-检测服务" class="headerlink" title="Captive Portal 检测服务"></a>Captive Portal 检测服务</h3><p>大家肯定都连过公共场所的 wifi 热点, 比如麦当劳等地方的. 他们的 wifi 往往一连上去就会弹出一个要求登录或者微信关注之类的页面, 只有在这个页面完成操作了才能正常访问网络的. 之前看到这个很神奇, 为什么一连 wifi, 手机就会自动打开这个网页的, 就知道 android 系统应该是提供了一些接口的. 最近接触到这个, 查了一下才知道这个东西叫做 <code>captive portal</code>, 就是专门用来给后端的网关提供鉴权计费之类的服务的. 很多公共场合的 wifi 热点应该都用了这么一个技术, 比如酒店, 商场, 银行等等.</p><p><code>Captive Portal</code> 的作用就是检测网络的连通性, 这个在分流规则中非常常见, 下面是一些常用的 <code>Captive Portal</code> 站点:</p><table><thead><tr><th>服务提供者</th><th>链接</th><th>大陆体验</th><th>境外体验</th><th>http/https</th><th>IP Version</th></tr></thead><tbody><tr><td>Google</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL3d3dy5nc3RhdGljLmNvbS9nZW5lcmF0ZV8yMDQ=">http://www.gstatic.com/generate_204</a></td><td>5</td><td>10</td><td>204/204</td><td>4+6</td></tr><tr><td>Google</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9nZW5lcmF0ZV8yMDQ=">http://www.google-analytics.com/generate_204</a></td><td>6</td><td>10</td><td>204/204</td><td>4+6</td></tr><tr><td>Google</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL3d3dy5nb29nbGUuY29tL2dlbmVyYXRlXzIwNA==">http://www.google.com/generate_204</a></td><td>0</td><td>10</td><td>204/204</td><td>4+6</td></tr><tr><td>Google</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL2Nvbm5lY3Rpdml0eWNoZWNrLmdzdGF0aWMuY29tL2dlbmVyYXRlXzIwNA==">http://connectivitycheck.gstatic.com/generate_204</a></td><td>4</td><td>10</td><td>204/204</td><td>4+6</td></tr><tr><td>Apple</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL2NhcHRpdmUuYXBwbGUuY29tLw==">http://captive.apple.com</a></td><td>3</td><td>10</td><td>200/200</td><td>4+6</td></tr><tr><td>Apple</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL3d3dy5hcHBsZS5jb20vbGlicmFyeS90ZXN0L3N1Y2Nlc3MuaHRtbA==">http://www.apple.com/library/test/success.html</a></td><td>7</td><td>10</td><td>200/200</td><td>4+6</td></tr><tr><td>MicroSoft</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL3d3dy5tc2Z0Y29ubmVjdHRlc3QuY29tL2Nvbm5lY3R0ZXN0LnR4dA==">http://www.msftconnecttest.com/connecttest.txt</a></td><td>5</td><td>10</td><td>200/error</td><td>4</td></tr><tr><td>Cloudflare</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL2NwLmNsb3VkZmxhcmUuY29tLw==">http://cp.cloudflare.com/</a></td><td>4</td><td>10</td><td>204/204</td><td>4+6</td></tr><tr><td>Firefox</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL2RldGVjdHBvcnRhbC5maXJlZm94LmNvbS9zdWNjZXNzLnR4dA==">http://detectportal.firefox.com/success.txt</a></td><td>5</td><td>10</td><td>200/200</td><td>4+6</td></tr><tr><td>V2ex</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL3d3dy52MmV4LmNvbS9nZW5lcmF0ZV8yMDQ=">http://www.v2ex.com/generate_204</a></td><td>0</td><td>10</td><td>204/301</td><td>4+6</td></tr><tr><td>小米</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL2Nvbm5lY3Qucm9tLm1pdWkuY29tL2dlbmVyYXRlXzIwNA==">http://connect.rom.miui.com/generate_204</a></td><td>10</td><td>4</td><td>204/204</td><td>4</td></tr><tr><td>华为</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL2Nvbm5lY3Rpdml0eWNoZWNrLnBsYXRmb3JtLmhpY2xvdWQuY29tL2dlbmVyYXRlXzIwNA==">http://connectivitycheck.platform.hicloud.com/generate_204</a></td><td>10</td><td>5</td><td>204/204</td><td>4</td></tr><tr><td>Vivo</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cDovL3dpZmkudml2by5jb20uY24vZ2VuZXJhdGVfMjA0">http://wifi.vivo.com.cn/generate_204</a></td><td>10</td><td>5</td><td>204/204</td><td>4</td></tr></tbody></table><p>我的目的是检测 WireGuard 是否能连接家中的网络, 所以准备在家中的某台服务器上自建一个 <code>Captive Portal</code> 服务, 减少外部网络的依赖.</p><p>直接在 Nginx 配置中添加如下内容即可:</p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server {</span><br><span class="line">    listen   80<span class="comment">;</span></span><br><span class="line">    listen   443 ssl http2<span class="comment">;</span></span><br><span class="line">    server_name  your.domain.name<span class="comment">;</span></span><br><span class="line">    <span class="attr">location</span> = /generate_204 {</span><br><span class="line">    return   204<span class="comment">;</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>比如 <code>Captive Portal</code> 服务部署在家中的 <code>192.168.10.33</code> 服务器上, 测试为:</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i 192.168.10.33/generate_204</span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Server: openresty</span><br><span class="line">Date: Tue, 03 Dec 2024 14:17:49 GMT</span><br><span class="line">Connection: keep-alive</span><br></pre></td></tr></tbody></table></figure><p>然后就可以在 <strong>Surge</strong> 的 <code>proxy</code> 配置中使用, 比如:</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">🌤️ H28K = wireguard, section-name=H28K, test-url=http://192.168.10.33/generate_204, ip-version=v4-only</span><br></pre></td></tr></tbody></table></figure><p><code>test-url</code> 表示 <strong>Surge</strong> 会通过此地址去测试 <strong>WireGuard</strong> 隧道是否正常(因为 <strong>WireGuard</strong> 也部署在内网, <strong>Surge</strong> 会将流量通过 <strong>WireGuard</strong> 发送到 <code>192.168.10.33/generate_204</code>, 所以只要能够测试通过就代表隧道是通畅的.</p><p>在没有自建 <code>Captive Portal</code> 服务之前, 我都是通过访问小米路由器的 WebUI 来检测网络是否正常, 但是较多的响应内容会增加测试的延迟, 所以就使用了上述方式来优化.</p><hr><h3 id="公网-IP-获取服务"><a href="#公网-IP-获取服务" class="headerlink" title="公网 IP 获取服务"></a>公网 IP 获取服务</h3><p>因为使用别家的服务来给 DDNS-GO 会出现限流的情况, 所以在 ECS 上自行部署了一个这样的服务.</p><h4 id="获取-JSON-格式"><a href="#获取-JSON-格式" class="headerlink" title="获取 JSON 格式"></a>获取 JSON 格式</h4><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">server {</span><br><span class="line">   listen 80<span class="comment">;</span></span><br><span class="line">   listen <span class="section">[::]</span>:80<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">   listen 443 ssl http2<span class="comment">;</span></span><br><span class="line">   listen <span class="section">[::]</span>:443 ssl http2<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 用以支持 HTTP/3, 若所用 Nginx 版本支持 HTTP/3, 可去掉注释</span></span><br><span class="line">   <span class="comment"># listen 443 http3;</span></span><br><span class="line">   <span class="comment"># listen [::]:443 http3;</span></span><br><span class="line"></span><br><span class="line">   server_name ipv4.ddnsip.cn ipv6.ddnsip.cn ddnsip.cn<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 用以支持 HTTP/3, 若所用 Nginx 版本支持 HTTP/3, 可去掉注释</span></span><br><span class="line">   <span class="comment"># add_header Alt-Svc 'h3=":443"; ma=86400';</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># HSTS</span></span><br><span class="line">   add_header Strict-Transport-Security "<span class="attr">max-age</span>=<span class="number">63072000</span><span class="comment">; includeSubdomains; preload";</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 允许跨域（在其他站点调用接口会用到）</span></span><br><span class="line">   add_header Access-Control-Allow-Origin *<span class="comment">;</span></span><br><span class="line">   add_header Access-Control-Allow-Headers "Origin, X-Requested-With, Content-Type, Accept"<span class="comment">;</span></span><br><span class="line">   add_header Access-Control-Allow-Methods "GET, POST, OPTIONS"<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 获取 IP 地址</span></span><br><span class="line">   location / {</span><br><span class="line">       default_type application/json<span class="comment">;</span></span><br><span class="line">       return 200 '{"ip":"$remote_addr"}'<span class="comment">;</span></span><br><span class="line">       <span class="comment"># 若使用 CDN 请将$remote_addr改为$http_x_forwarded_for</span></span><br><span class="line">     }</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 证书配置</span></span><br><span class="line">   ssl_certificate /root/.acme.sh/*.ddnsip.cn/fullchain.cer<span class="comment">;</span></span><br><span class="line">   ssl_certificate_key /root/.acme.sh/*.ddnsip.cn/*.ddnsip.cn.key<span class="comment">;</span></span><br><span class="line">   ssl_session_timeout 5m<span class="comment">;</span></span><br><span class="line">   ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3<span class="comment">;</span></span><br><span class="line">   ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE<span class="comment">;</span></span><br><span class="line">   ssl_prefer_server_ciphers on<span class="comment">;</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="获取纯文本"><a href="#获取纯文本" class="headerlink" title="获取纯文本"></a>获取纯文本</h4><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">server {</span><br><span class="line">   listen 80<span class="comment">;</span></span><br><span class="line">   listen <span class="section">[::]</span>:80<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">   listen 443 ssl http2<span class="comment">;</span></span><br><span class="line">   listen <span class="section">[::]</span>:443 ssl http2<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 用以支持 HTTP/3, 若所用 Nginx 版本支持 HTTP/3, 可去掉注释</span></span><br><span class="line">   <span class="comment"># listen 443 http3;</span></span><br><span class="line">   <span class="comment"># listen [::]:443 http3;</span></span><br><span class="line"></span><br><span class="line">   server_name ipv4.ddnsip.cn ipv6.ddnsip.cn ddnsip.cn<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 用以支持 HTTP/3, 若所用 Nginx 版本支持 HTTP/3, 可去掉注释</span></span><br><span class="line">   <span class="comment"># add_header Alt-Svc 'h3=":443"; ma=86400';</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># HSTS</span></span><br><span class="line">   add_header Strict-Transport-Security "<span class="attr">max-age</span>=<span class="number">63072000</span><span class="comment">; includeSubdomains; preload";</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 获取 IP 地址</span></span><br><span class="line">   location / {</span><br><span class="line">       default_type text/plain<span class="comment">;</span></span><br><span class="line">       return 200 $remote_addr<span class="comment">;</span></span><br><span class="line">       <span class="comment"># 若使用 CDN 请将$remote_addr改为$http_x_forwarded_for</span></span><br><span class="line">     }</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 证书配置</span></span><br><span class="line">   ssl_certificate /root/.acme.sh/*.ddnsip.cn/fullchain.cer<span class="comment">;</span></span><br><span class="line">   ssl_certificate_key /root/.acme.sh/*.ddnsip.cn/*.ddnsip.cn.key<span class="comment">;</span></span><br><span class="line">   ssl_session_timeout 5m<span class="comment">;</span></span><br><span class="line">   ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3<span class="comment">;</span></span><br><span class="line">   ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE<span class="comment">;</span></span><br><span class="line">   ssl_prefer_server_ciphers on<span class="comment">;</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>这有现成的:</p><ul><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cuZGRuc2lwLmNuLw==">https://www.ddnsip.cn/</a></li><li><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9pcC5kZG5zaXAuY24v">https://ip.ddnsip.cn/</a></li></ul><hr><h3 id="分流规则服务"><a href="#分流规则服务" class="headerlink" title="分流规则服务"></a>分流规则服务</h3><p>我有多种客户端且在多个地方需要用到分流规则:</p><ul><li><p>Surge</p></li><li><p>OpenClash</p></li><li><p>其他终端上的 Clash</p></li></ul><p>为了简化规则的管理, 需要一个集中管理分流规则和规则转换的服务, 目前选择 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL0NhcmV5V2FuZy9zdWItd2Vi">Subconverter Web</a> + <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3N1Yi1zdG9yZS1vcmcvU3ViLVN0b3Jl">Sub-Store</a> 结合的方式来完成规则统一管理与规则转换.</p><h4 id="逻辑图"><a href="#逻辑图" class="headerlink" title="逻辑图"></a>逻辑图</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/sub.drawio.svg" alt="sub.drawio.svg"></p><ol><li><p><code>Subconverter Server</code> 作为规则转换服务, 可以根据配置生成配置文件, 可选择客户端类型以及远程配置:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_VfhO8Aar.webp" alt="20241229154732_VfhO8Aar.webp"></p><ul><li>可以预先设置几个常用的配置, 而 <strong>自定义远程配置地址</strong> 可以直接使用 Nginx 搭建一个静态网站, 随时修改规则;</li><li>转换后可以使用 <strong>MyUrls</strong> 短链服务自动生成短链接, 方便分享与使用;</li></ul></li><li><p>参数中可设置: Emoji, 是否开启 UDP, 排序节点, <strong>关闭证书检查</strong> 以及是否只返回节点列表.<br>因为有些订阅地址如果证书过期, sub-store 会无法解析, 所以需要先使用 <code>Subconverter Server</code> 处理一次(关闭证书检查), 然后将短链接给到 <code>sub-store</code> 使用.</p></li><li><p>转换后的短链接会直接配置到 Clash 和 OpenClash 中, 保证多端规划一致;</p></li><li><p>sub-store 主要作用是收集整理订阅地址返回的节点列表, 虽然 <code>Subconverter Server</code> 也支持这个功能, 但是<code>sub-store</code> 拥有更多的节点配置功能, 比如 正则过滤, 区域过滤, 正则删除, 节点去重等等功能:<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_wQmAUaFA.webp" alt="20241229154732_wQmAUaFA.webp"></p></li><li><p><code>sub-store</code> 处理后的节点会给 Surge 使用(Surge 目前是单独的规则与配置, 主要是主力机在使用, 所以特殊的配置要多一些, 而 Clash 和 OpenClash 则是给内网的设备使用, 规则相对简单一些, 所以需要 <code>Subconverter Server</code> 去统一管理规则, 避免重复操作), <code>policy-path</code> 中配置 <code>sub-store</code> 的节点地址即可:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_e22kWb9J.webp" alt="20241229154732_e22kWb9J.webp"></p></li><li><p><code>sub-store</code> 会在多台服务器上部署, 然后使用 Nginx 来进行负载, 而 <code>sub-store</code> 的数据文件则通过 <strong>Syncthing</strong> 在动态服务器之间同步;</p></li><li><p><code>sub-store</code> 还有一个 Surge 版本, 需要在 Surge 客户端上安装相应的模块, 目前用的比较少, 主要是因为会存在循环依赖问题: 更新配置需要开启代理, 而开代理又必须先得更新配置…..</p></li></ol><h4 id="部署-3"><a href="#部署-3" class="headerlink" title="部署"></a>部署</h4><p><code>Subconverter Web</code>, <code>Subconverter Server</code> 和 <code>MyUrls</code> 可通过 <a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9naXRodWIuY29tL3N0aWxsZXNoYW4vZG9ja2VyZmlsZXMvdHJlZS9tYWluL3N1Yg==">docker-compose 一键部署</a>.</p><p>如果只需要在内网使用, 记得修改一下 <code>config.js</code> 中的 <code>apiUrl</code> 和 <code>shortUrl</code>, docker-compose.yml 中的 <code>myurls.environment.MYURLS_DOMAIN</code> 也要做相应修改.</p><p>可以挂载下面的目录, 方便修改规则与其他配置:</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">subconverter:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">stilleshan/sub</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">sub</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./conf:/usr/share/nginx/html/conf</span></span><br><span class="line">      <span class="comment"># 规则所在目录</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/subconverter:/base</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/subweb:/usr/share/nginx/html</span></span><br><span class="line">    <span class="string">...</span></span><br></pre></td></tr></tbody></table></figure><p><code>Sub-Store</code> docker-compose 部署:</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">"3"</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">sub-store:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">instartlove/sub-store</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">sub-store</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"8080:80"</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/root.json:/app/root.json</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/sub-store.json:/app/sub-store.json</span></span><br></pre></td></tr></tbody></table></figure><h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><p><code>Subconverter</code> 和 <code>Sub-Store</code> 的功能侧重点不一样, 可以说是相辅相成的, 可以总结为:</p><ol><li>非 Surege 客户端使用 <code>Subconverter</code> 统一规则;</li><li>Surege 客户端只使用 <code>Sub-Store</code> 节点处理功能;</li><li><code>Subconverter</code> 处理 <code>Sub-Store</code> 无法解析的 HTTPS 证书失效的订阅地址;</li></ol><p>所以会结合两者的优点与侧重点按场景使用:</p><ol><li><code>Sub-Store</code> 使用原始订阅地址处理节点列表, 提供给 Surge 客户端使用;</li><li>如果 HTTPS 证书失效, 会将原始订阅地址先使用 <code>Subconverter</code> 处理一次, 参数使用 <strong>关闭证书检查</strong> 并只返回节点列表, 然后将短链接给到 <code>Sub-Store</code> 使用;</li><li><code>Subconverter</code> 使用 <code>Sub-Store</code> 处理后的节点列表, 配合自定义规则生成 <code>Clash</code> 和 <code>OpenClash</code> 的通用配置, 保证两端规则一致;</li></ol><p><code>Sub-Store</code> 和 <code>Subconverter</code> 同时具备将多个订阅地址合并为同一个配置的功能(组合订阅), 我的方式是在 <code>Sub-Store</code> 中将节点合并, 然后将合并后的节点列表给到 <code>Subconverter</code> , 根据客户端类型选择不同的规则生成配置文件:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_7f0XSl03.webp" alt="20241229154732_7f0XSl03.webp"></p><h4 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h4><p>比如我有 3 个订阅地址, 分别是 A, B, C, 其中 C 的 HTTPS 证书过期, 以及一个自定义的 home 节点列表:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_OFztI62Y.webp" alt="20241229154732_OFztI62Y.webp"></p><p>分别在不同场景下使用 <code>Sub-Store</code> 和 <code>Subconverter</code>.</p><h5 id="在公司的设备上使用"><a href="#在公司的设备上使用" class="headerlink" title="在公司的设备上使用"></a>在公司的设备上使用</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/sub-company.drawio.svg" alt="sub-company.drawio.svg"></p><p>公司的设备(R2S) 需要访问家中的网络与外网, 所以使用了 AIO + 自定义 Home 节点列表, 然后使用 <code>Subconverter</code> 的组合订阅功能生成最终配置.</p><h5 id="在家中的设备上使用"><a href="#在家中的设备上使用" class="headerlink" title="在家中的设备上使用"></a>在家中的设备上使用</h5><p>家中的设备不需要 Home 节点, 所以直接是用 AIO 节点列表, 然后使用 <code>Subconverter</code> 生成最终配置.</p><h5 id="在-Surge-客户端上使用"><a href="#在-Surge-客户端上使用" class="headerlink" title="在 Surge 客户端上使用"></a>在 Surge 客户端上使用</h5><p>Surge 只需要 AIO 节点列表, 不需要 <code>Subconverter</code> 生成配置.</p><h4 id="配置同步"><a href="#配置同步" class="headerlink" title="配置同步"></a>配置同步</h4><p>配置同步只会涉及到 <code>Sub-Store</code>, 它自带通过 <code>Gist</code> 同步, 但是需要手动点击下载才能同步, 因为我在多个服务器上都部署了 <code>Sub-Store</code> , 所以这种同步方式不太优雅.</p><p><code>Sub-Store</code> 容器暴露出来文件只有 2 个, <code>root.json</code>是节点配置, <code>sub-store.json</code> 是服务配置, 所以我只需要将这 2 个文件同步到其他服务器即可, 最方便的就是是用 <strong>Syncthing</strong>.</p><blockquote><p><strong>Syncthing</strong> 相关的数据同步方案将在 <a href="/posts/b808f350.html">数据篇</a> 详细介绍.</p></blockquote><hr><h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><h4 id="连通性检查"><a href="#连通性检查" class="headerlink" title="连通性检查"></a>连通性检查</h4><p>通过 Ping 去检测网络是否正常, 如果不正常就要通知 Uptime Kuma</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 检测网络是否畅通</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">ping_domain</span></span>() {</span><br><span class="line">    <span class="comment"># ping的域名或者DNS(阿里云的)</span></span><br><span class="line">    <span class="built_in">local</span> domain=223.5.5.5</span><br><span class="line">    <span class="comment"># ping的次数</span></span><br><span class="line">    <span class="built_in">local</span> tries=6</span><br><span class="line">    <span class="comment"># 请求成功次数</span></span><br><span class="line">    <span class="built_in">local</span> packets_responded=0</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> $(<span class="built_in">seq</span> 1 <span class="variable">$tries</span>); <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">if</span> ping -c 1 <span class="variable">$domain</span> &gt;/dev/null; <span class="keyword">then</span></span><br><span class="line">            ((packets_responded++))</span><br><span class="line">            <span class="built_in">sleep</span> 1</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 如果请求成功总次数大于2, 则表示成功</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$packets_responded</span> -ge 2 ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"true"</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"false"</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检测网络连接函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">check_network</span></span>() {</span><br><span class="line">    <span class="comment"># 如果ping 6次至少有2次包未响应, 则执行一下代码</span></span><br><span class="line">    <span class="keyword">if</span> [ $(ping_domain) = <span class="string">"false"</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="comment"># 如果N无法连接网络, 则重启网络</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"<span class="subst">$(date '+%Y-%m-%d %H:%M:%S')</span> 网络连接失败"</span></span><br><span class="line">        curl {uptime-kuma webhook}</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"<span class="subst">$(date '+%Y-%m-%d %H:%M:%S')</span> 网络连接正常"</span></span><br><span class="line">        curl {uptime-kuma webhook}</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">check_network</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="subst">$(date '+%Y-%m-%d %H:%M:%S')</span> network 检查完毕"</span></span><br></pre></td></tr></tbody></table></figure><h4 id="WireGuard-检查"><a href="#WireGuard-检查" class="headerlink" title="WireGuard 检查"></a>WireGuard 检查</h4><p>可以传入不同的 WireGuard 端口来检测多个 WireGuard 服务, 顺带检测一下 IPSec 服务.</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">port=<span class="variable">$1</span></span><br><span class="line"><span class="comment"># 检查 WireGuard 端口是否存在</span></span><br><span class="line">WireGuard=$(netstat -an | egrep <span class="string">":<span class="variable">${port}</span>"</span> | awk <span class="string">'$1 == "udp" &amp;&amp; $NF == "0.0.0.0:*" {print $0}'</span> | <span class="built_in">wc</span> -l)</span><br><span class="line"><span class="comment"># 检查 IPSec 的端口是否存在</span></span><br><span class="line">IPSec=$(netstat -an | egrep <span class="string">":4500"</span> | awk <span class="string">'$1 == "udp" &amp;&amp; $NF == "0.0.0.0:*" {print $0}'</span> | <span class="built_in">wc</span> -l)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$WireGuard</span>"</span> == 0 ]; <span class="keyword">then</span></span><br><span class="line">    curl {uptime-kuma webhook}</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    curl {uptime-kuma webhook}</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$IPSec</span>"</span> == 0 ]; <span class="keyword">then</span></span><br><span class="line">    curl {uptime-kuma webhook}</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    curl {uptime-kuma webhook}</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></tbody></table></figure><h4 id="VPN-检查"><a href="#VPN-检查" class="headerlink" title="VPN 检查"></a>VPN 检查</h4><p>检查外部网络是否正常</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 检测网络是否畅通</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">curl_domain</span></span>() {</span><br><span class="line">    http_code=$(curl -sIL --connect-timeout 5 -w <span class="string">"%{http_code}\n"</span> -o /dev/null http://www.v2ex.com/generate_204)</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">"<span class="variable">$http_code</span>"</span> != <span class="string">"204"</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">'OpenClash 未正常工作'</span></span><br><span class="line">        curl {uptime-kuma webhook}</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">'OpenClash 正常'</span></span><br><span class="line">        curl {uptime-kuma webhook}</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">}</span><br><span class="line">curl_domain</span><br></pre></td></tr></tbody></table></figure><h2 id="资源推荐"><a href="#资源推荐" class="headerlink" title="资源推荐"></a>资源推荐</h2><ul><li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly9hd2Vzb21lLXNlbGZob3N0ZWQubmV0Lw==">Awesome-Selfhosted</a>:</p><p>包含超过 1500 个自托管的开源软件项目, 涵盖各种领域, 如博客、论坛、社交媒体、邮件服务、数据库、办公软件、媒体服务器、游戏等.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_fc7ddJ4c.webp" alt="20241229154732_fc7ddJ4c.webp"></p></li><li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly93d3cuYXdlc29tZS1ob21lbGFiLmNvbS8=">Awesome Homelab</a>:</p><p>收录超过 150 个开源应用, 涵盖智能家居、实验室建设、效率提升等多个方面.</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_3zWlmZGe.webp" alt="20241229154732_3zWlmZGe.webp"></p></li><li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="/goto.html?u=aHR0cHM6Ly90aGVtZS1wYXJrLmRldi8=">theme.park</a>:</p><p>包含多款自托管服务主题:</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_iG1943kQ.webp" alt="20241229154732_iG1943kQ.webp"></p></li></ul><p><strong>相关文章:</strong></p><ol><li><a href="/posts/15433dee.html">先导篇</a>：我的 HomeLab 概要;</li><li><a href="/posts/1c3b04a.html">硬件篇</a>：介绍我所拥有的硬件设备;</li><li><a href="/posts/e537d446.html">网络篇</a>：包括网络环境、异地组网与网络安全;</li><li><a href="/posts/b2341239.html">服务篇</a>：使用 Docker 搭建的各类服务;</li><li><a href="/posts/b808f350.html">数据篇</a>：包括数据存储方案、备份方案和数据恢复方案;</li><li><a href="/posts/273b6766.html">HomeLab数据同步：构建高效的数据同步网络</a></li><li><a href="/posts/6c25aa66.html">HomeLab数据备份：打造坚实的数据安全防线</a></li><li><a href="/posts/7e09e56.html">HomeLab 网络续集：升级 10G 网络-再战 10 年</a></li><li><a href="/posts/15433dee.html">NAT 内网穿透详解：揭秘网络连接背后的奥秘</a></li></ol></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/avatar1.webp" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/avatar.webp" title="头像" alt="头像"></a><div class="post-copyright__author_name">dong4j</div><div class="post-copyright__author_desc">岁月静好，诗酒趁年华🍺</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://blog.dong4j.site/posts/b2341239.html">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl(&quot;https://blog.dong4j.site/posts/b2341239.html&quot;)">HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://cdn.dong4j.site/source/image/wechat-pay.webp" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/wechat-pay.webp" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.dong4j.site/source/image/alipay.webp" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/alipay.webp" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display:none"></div><div class="reward-link mode"><a class="reward-link-button" href="/wechat/"><i class="anzhiyufont anzhiyu-icon-plant-fill"></i>运营模式与责任</a></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://blog.dong4j.site/posts/b2341239.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=HomeLab 服务篇：自托管的乐趣-探索和创造个人云端世界的旅程&amp;url=https://blog.dong4j.site/posts/b2341239.html&amp;pic=https://cdn.dong4j.site/source/image/20241229154732_hoB1PW2R.webp" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl(){var e=window.location.href,t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div><div class="share-link follow"><div class="share-button" id="post-share-url" title="订阅" onclick="icat.showFollowBox()"><i class="anzhiyufont anzhiyu-icon-rss"></i></div></div></div></div></div><div class="submit-box hidden"><form id="follow" action="https://api.follow.it/subscription-form/b29peEszNWYzK3FQbEw2dVlITEJMZ2pQRXh2dWRLVDE3SC96eFhRaGwwQWprcXpYYUp0NGFWemxVZllXRGU4Nm4yenNGSzNpV3l0Z1EwQzBXQU5xTG9pZWNzVCt5YWptWUt6TXppRXVXMXZxQTRZOGQ0NUVDRlRFOUYxSHMzMEJ8NmlodHY1VWhDQVZBaG8wM0pSV2pXSjdTNGRWS1o0RDVZbE11KzlEeWhuZz0=/8" method="post" target="_blank"><div class="follow-it-form-subscribe" style="position:relative"><div class="heading"><h5 style="font-weight:700;text-align:center">订阅本站文章：</h5></div><div class="input-field"><input type="email" id="email-input" name="email" placeholder="填入您的邮箱地址" spellcheck="false" oninput="validateEmail()"></div><div class="submit-button"><button type="submit" id="submit-button" onclick="ga(&quot;send&quot;,&quot;event&quot;,&quot;Form&quot;,&quot;Submit&quot;,&quot;Affiliate&quot;)" style="font-weight:700;font-size:14px;text-align:center" disabled="">确认订阅</button></div></div></form><style>#email-input{font-size:16px;font-weight:700;padding:10px;border:2px solid #ccc;border-radius:5px;width:100%;box-sizing:border-box}#email-input:focus{outline:0}#email-input.valid{border-color:green}#email-input.invalid{border-color:red}</style><script>function validateEmail(){var s=document.getElementById("email-input"),a=document.getElementById("submit-button"),e=s.value;/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?(a.disabled=!1,s.classList.add("valid"),s.classList.remove("invalid")):(a.disabled=!0,s.classList.add("invalid"),s.classList.remove("valid"))}</script></div><script>var icat={showFollowBox:function(){var s=document.querySelector(".submit-box");s.classList.contains("display")?s.classList.remove("display"):s.classList.add("display")}}</script><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.dong4j.site" target="_blank">司机带你开车</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/homelab-%E4%B8%AD%E5%B9%B4%E7%94%B7%E4%BA%BA%E7%9A%84%E5%BF%AB%E4%B9%90%E6%BA%90%E6%B3%89/"><span class="categoryes-punctuation"><i class="anzhiyufont anzhiyu-icon-inbox"></i></span>HomeLab:中年男人的快乐源泉<span class="categoryesPageCount">11</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/docker/"><span class="tags-punctuation"><i class="anzhiyufont anzhiyu-icon-tag"></i></span>Docker<span class="tagsPageCount">7</span></a><a class="post-meta__box__tags" href="/tags/homelab/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>HomeLab<span class="tagsPageCount">12</span></a><a class="post-meta__box__tags" href="/tags/%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>文件同步<span class="tagsPageCount">2</span></a><a class="post-meta__box__tags" href="/tags/%E8%87%AA%E6%89%98%E7%AE%A1%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%B9%B3%E5%8F%B0/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>自托管云服务平台<span class="tagsPageCount">1</span></a><a class="post-meta__box__tags" href="/tags/%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>服务部署<span class="tagsPageCount">1</span></a></div></div><div class="post_share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_x"></a><a class="a2a_button_twitter"></a><a class="a2a_button_threads"></a><a class="a2a_button_wechat"></a><a class="a2a_button_sina_weibo"></a><a class="a2a_button_pocket"></a><a class="a2a_button_instapaper"></a><a class="a2a_button_email"></a><a class="a2a_button_sms"></a><a class="a2a_dd" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.addtoany.com/share"></a></div></div><script async="" src="https://static.addtoany.com/menu/page.js"></script><script>var a2a_config=a2a_config||{};a2a_config.templates=a2a_config.templates||{},a2a_config.templates.email={subject:"来自 dong4j 的分享: ${title}",body:"一篇有意思的博文:\n${link}"},a2a_config.templates.sms={body:"给你分享一篇有意思的博客:\n${title}\n${link}"}</script></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/46fb4e89.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_ygRx9mbO.webp" onerror="onerror=null,src=&quot;/img/404.webp&quot;" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">NAT 内网穿透详解：揭秘网络连接背后的奥秘</div></div></a></div><div class="next-post pull-right"><a href="/posts/b808f350.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_woi0CTG0.webp" onerror="onerror=null,src=&quot;/img/404.webp&quot;" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">HomeLab 存储与备份：数据堡垒-保障数据和隐私的存储解决方案</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size:1.5rem;margin-right:4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/posts/273b6766.html" title="HomeLab数据同步：构建高效的数据同步网络"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20241229154732_NXaPIT2E.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2020-04-20</div><div class="title">HomeLab数据同步：构建高效的数据同步网络</div></div></a></div><div><a href="/posts/13a784a6.html" title="群晖 NAS Docker 网络优化：配置 HTTP/SOCKS5 代理的终极指南"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.dong4j.ink:1024/cover?z9ekx3sc" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-12-30</div><div class="title">群晖 NAS Docker 网络优化：配置 HTTP/SOCKS5 代理的终极指南</div></div></a></div><div><a href="/posts/f7489f5a.html" title="「Hexo」anzhiyu 主题：朋友圈部署教程"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20250103184959_Qh3w85TN.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-07-13</div><div class="title">「Hexo」anzhiyu 主题：朋友圈部署教程</div></div></a></div><div><a href="/posts/a83edbc6.html" title="为 Hexo 添加统计功能：Docker 部署 Busuanzi 服务教程"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20250103184959_OX6XnOyd.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-06-13</div><div class="title">为 Hexo 添加统计功能：Docker 部署 Busuanzi 服务教程</div></div></a></div><div><a href="/posts/dd32a18c.html" title="用 Docker 部署 Hitokoto API，让你的 Hexo 主题更酷！"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/Hitokoto.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-06-12</div><div class="title">用 Docker 部署 Hitokoto API，让你的 Hexo 主题更酷！</div></div></a></div><div><a href="/posts/345a28fd.html" title="Mac mini 开发环境搭建全攻略"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.dong4j.ink:1024/cover?4ndcdnay" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2018-11-11</div><div class="title">Mac mini 开发环境搭建全攻略</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)" rel="external nofollow noreferrer">匿名评论</a><a href="/privacy" style="margin-left:4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/avatar.webp" onerror="this.onerror=null,this.src=&quot;/img/friend_404.gif&quot;" alt="avatar"><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/coding.gif" alt="status"></div></div><div class="author-info__description"><div style="line-height:1.38;margin:.6rem 0;text-align:justify;color:rgba(255,255,255,.8)">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:.6rem 0;text-align:justify;color:rgba(255,255,255,.8)">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">dong4j</h1><div class="author-info__desc">岁月静好，诗酒趁年华 🍺</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/dong4j" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fa-brands fa-github faa-tada"></i></a><a class="social-icon faa-parent animated-hover" href="mailto:dong4j@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fa-solid fa-at faa-tada"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content"><div style="display:flex;align-items:center"><span>👋🏻 Hi，欢迎来到我的博客~</span><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/mario.gif" width="40"></div><span>❓ 如有问题欢迎评论区交流！🎉</span><br><span>😫 页面异常？试试<kbd>Ctrl</kbd>+<kbd>F5</kbd>🙉</span><br><span>📧 如需联系：<a href="mailto:dong4j@gmail.com" rel="external nofollow noreferrer"><b>发邮件给我吧 🚀</b></a></span><div id="welcome-info"></div><a id="my-card-info-btn" href="/subscribe/" data-pjax-state=""><i class="anzhiyufont anzhiyu-icon-rss"></i><span>订阅本站</span></a></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background:url(https://cdn.dong4j.site/source/image/63c02edf44033.webp) center center/100% no-repeat"></div><div class="back face" style="background:url(https://cdn.dong4j.site/source/image/645fa415e8694.webp) center center/100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#HomeLab-%E7%9A%84%E6%A0%B8%E5%BF%83-Docker"><span class="toc-number">1.</span> <span class="toc-text">HomeLab 的核心: Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">1.1.</span> <span class="toc-text">远程管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux"><span class="toc-number">1.1.1.</span> <span class="toc-text">Linux</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#macOS"><span class="toc-number">1.1.2.</span> <span class="toc-text">macOS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OpenWrt"><span class="toc-number">1.1.3.</span> <span class="toc-text">OpenWrt</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NAS"><span class="toc-number">1.1.4.</span> <span class="toc-text">NAS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%91%E8%8E%93%E6%B4%BE"><span class="toc-number">1.1.5.</span> <span class="toc-text">树莓派</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E6%AC%A1%E9%85%8D%E7%BD%AE-%E5%88%B0%E5%A4%84%E8%BF%90%E8%A1%8C"><span class="toc-number">1.2.</span> <span class="toc-text">一次配置, 到处运行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95%E8%BF%81%E7%A7%BB"><span class="toc-number">1.3.</span> <span class="toc-text">数据目录迁移</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="toc-number">1.3.1.</span> <span class="toc-text">使用软链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E7%9B%AE%E5%BD%95"><span class="toc-number">1.3.2.</span> <span class="toc-text">修改默认存储目录</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0"><span class="toc-number">1.4.</span> <span class="toc-text">容器自动更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C%E5%A4%87%E5%BF%98"><span class="toc-number">1.5.</span> <span class="toc-text">常见操作备忘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E-root-%E7%94%A8%E6%88%B7%E4%BD%BF%E7%94%A8-Docker-%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.1.</span> <span class="toc-text">非 root 用户使用 Docker 命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4%E9%95%9C%E5%83%8F"><span class="toc-number">1.5.2.</span> <span class="toc-text">批量删除镜像</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E4%B8%8E%E5%AF%84%E4%B8%BB%E6%9C%BA%E4%B9%8B%E9%97%B4%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.3.</span> <span class="toc-text">容器与寄主机之间拷贝文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-run-%E4%BA%92%E8%BD%AC-docker-compose"><span class="toc-number">1.5.4.</span> <span class="toc-text">docker run 互转 docker-compose</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-%E4%BB%A3%E7%90%86"><span class="toc-number">1.5.5.</span> <span class="toc-text">docker 代理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E4%BB%A3%E7%90%86"><span class="toc-number">1.5.5.1.</span> <span class="toc-text">运行时代理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%E6%97%B6%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86"><span class="toc-number">1.5.5.2.</span> <span class="toc-text">拉取镜像时使用代理</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E8%AE%BF%E9%97%AE%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="toc-number">1.5.6.</span> <span class="toc-text">容器访问主机网络</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker-%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.</span> <span class="toc-text">Docker 服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker-%E5%95%86%E5%BA%97"><span class="toc-number">2.1.</span> <span class="toc-text">Docker 商店</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NAS-1"><span class="toc-number">3.</span> <span class="toc-text">NAS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DS218"><span class="toc-number">3.1.</span> <span class="toc-text">DS218+</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vaultwarden"><span class="toc-number">3.1.1.</span> <span class="toc-text">Vaultwarden</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MyIP"><span class="toc-number">3.1.2.</span> <span class="toc-text">MyIP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DDNS-GO"><span class="toc-number">3.1.3.</span> <span class="toc-text">DDNS-GO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LibreSpeed"><span class="toc-number">3.1.4.</span> <span class="toc-text">LibreSpeed</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Speedtest-Tracker"><span class="toc-number">3.1.5.</span> <span class="toc-text">Speedtest Tracker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Snapdrop"><span class="toc-number">3.1.6.</span> <span class="toc-text">Snapdrop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Memos"><span class="toc-number">3.1.7.</span> <span class="toc-text">Memos</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Homebox"><span class="toc-number">3.1.8.</span> <span class="toc-text">Homebox</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1Panel"><span class="toc-number">3.1.9.</span> <span class="toc-text">1Panel</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Syncthing"><span class="toc-number">3.1.10.</span> <span class="toc-text">Syncthing</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%91%E7%8E%B0%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.1.10.1.</span> <span class="toc-text">发现服务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E7%BB%A7%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.1.10.2.</span> <span class="toc-text">中继服务</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DS923"><span class="toc-number">3.2.</span> <span class="toc-text">DS923+</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Stirling-PDF"><span class="toc-number">3.2.1.</span> <span class="toc-text">Stirling-PDF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Draw-io"><span class="toc-number">3.2.2.</span> <span class="toc-text">Draw.io</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Excalidraw"><span class="toc-number">3.2.3.</span> <span class="toc-text">Excalidraw</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Portainer"><span class="toc-number">3.2.4.</span> <span class="toc-text">Portainer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E9%9B%85-Alist"><span class="toc-number">3.2.5.</span> <span class="toc-text">小雅 Alist</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RSSHub"><span class="toc-number">3.2.6.</span> <span class="toc-text">RSSHub</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Navidrome"><span class="toc-number">3.2.7.</span> <span class="toc-text">Navidrome</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Music-Tag-Web"><span class="toc-number">3.2.8.</span> <span class="toc-text">Music Tag Web</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Roon"><span class="toc-number">3.2.9.</span> <span class="toc-text">Roon</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M920x"><span class="toc-number">4.</span> <span class="toc-text">M920x</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%B7%E6%B1%A0-Safeline"><span class="toc-number">4.1.</span> <span class="toc-text">雷池 Safeline</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dify"><span class="toc-number">4.2.</span> <span class="toc-text">Dify</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Netmaker"><span class="toc-number">4.3.</span> <span class="toc-text">Netmaker</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Coolify"><span class="toc-number">4.4.</span> <span class="toc-text">Coolify</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#n8n"><span class="toc-number">4.5.</span> <span class="toc-text">n8n</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Smokeping"><span class="toc-number">4.6.</span> <span class="toc-text">Smokeping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IT-Tools"><span class="toc-number">4.7.</span> <span class="toc-text">IT Tools</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Uptime-Kuma"><span class="toc-number">4.8.</span> <span class="toc-text">Uptime Kuma</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Homepage"><span class="toc-number">4.9.</span> <span class="toc-text">Homepage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nezha-Monitoring"><span class="toc-number">4.10.</span> <span class="toc-text">Nezha Monitoring</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#APITable"><span class="toc-number">4.11.</span> <span class="toc-text">APITable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CasaOS"><span class="toc-number">4.12.</span> <span class="toc-text">CasaOS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Open-WebUI"><span class="toc-number">4.13.</span> <span class="toc-text">Open WebUI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LobeChat"><span class="toc-number">4.14.</span> <span class="toc-text">LobeChat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MaxKB"><span class="toc-number">4.15.</span> <span class="toc-text">MaxKB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#One-API"><span class="toc-number">4.16.</span> <span class="toc-text">One API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gitea"><span class="toc-number">4.17.</span> <span class="toc-text">Gitea</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2"><span class="toc-number">4.17.1.</span> <span class="toc-text">部署</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSH-%E7%9B%B4%E9%80%9A"><span class="toc-number">4.17.2.</span> <span class="toc-text">SSH 直通</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Jellyfin-%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE"><span class="toc-number">4.18.</span> <span class="toc-text">Jellyfin 代理配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nginx-Proxy-Manager"><span class="toc-number">4.19.</span> <span class="toc-text">Nginx Proxy Manager</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1Panel-1"><span class="toc-number">4.20.</span> <span class="toc-text">1Panel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hishtory"><span class="toc-number">4.21.</span> <span class="toc-text">Hishtory</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#hishtory-server"><span class="toc-number">4.21.1.</span> <span class="toc-text">hishtory-server</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">4.22.</span> <span class="toc-text">常用中间件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#MediaMTX"><span class="toc-number">4.22.1.</span> <span class="toc-text">MediaMTX</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WVP-PRO-ZLMediaKit"><span class="toc-number">4.22.2.</span> <span class="toc-text">WVP PRO + ZLMediaKit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-Crack"><span class="toc-number">4.22.3.</span> <span class="toc-text">JSON Crack</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2-1"><span class="toc-number">4.22.3.1.</span> <span class="toc-text">部署</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AI-Station"><span class="toc-number">5.</span> <span class="toc-text">AI.Station</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Stable-Diffusion"><span class="toc-number">5.1.</span> <span class="toc-text">Stable Diffusion</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90"><span class="toc-number">5.1.1.</span> <span class="toc-text">相关资源</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E8%B5%84%E6%BA%90"><span class="toc-number">5.1.1.1.</span> <span class="toc-text">模型资源</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%99%E7%A8%8B"><span class="toc-number">5.1.1.2.</span> <span class="toc-text">教程</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98"><span class="toc-number">5.1.2.</span> <span class="toc-text">相关问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ComfyUI"><span class="toc-number">5.2.</span> <span class="toc-text">ComfyUI</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90-1"><span class="toc-number">5.2.1.</span> <span class="toc-text">相关资源</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AI-starter-kit"><span class="toc-number">5.3.</span> <span class="toc-text">AI starter kit</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Nvidia-%E5%AE%B9%E5%99%A8%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="toc-number">5.3.1.</span> <span class="toc-text">安装 Nvidia 容器工具包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Docker-%E4%BB%A5%E4%BD%BF%E7%94%A8-Nvidia-%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">5.3.2.</span> <span class="toc-text">配置 Docker 以使用 Nvidia 驱动程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2-2"><span class="toc-number">5.3.3.</span> <span class="toc-text">部署</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MBP"><span class="toc-number">6.</span> <span class="toc-text">MBP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#LM-Studio"><span class="toc-number">6.1.</span> <span class="toc-text">LM Studio</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ollama-%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98"><span class="toc-number">6.2.</span> <span class="toc-text">Ollama 相关问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mac-mini-2018"><span class="toc-number">7.</span> <span class="toc-text">Mac mini 2018</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Rsync-Server"><span class="toc-number">7.1.</span> <span class="toc-text">Rsync Server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#V2ray"><span class="toc-number">7.2.</span> <span class="toc-text">V2ray</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NextChat"><span class="toc-number">7.3.</span> <span class="toc-text">NextChat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ChatGPT-on-WeChat"><span class="toc-number">7.4.</span> <span class="toc-text">ChatGPT on WeChat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dify-on-WeChat"><span class="toc-number">7.5.</span> <span class="toc-text">Dify on WeChat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mac-mini-M2"><span class="toc-number">8.</span> <span class="toc-text">Mac mini M2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AF%E8%B7%AF%E7%94%B1"><span class="toc-number">9.</span> <span class="toc-text">软路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#R2S"><span class="toc-number">9.1.</span> <span class="toc-text">R2S</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AdGuard-Home"><span class="toc-number">9.1.1.</span> <span class="toc-text">AdGuard Home</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OpenClash"><span class="toc-number">9.1.2.</span> <span class="toc-text">OpenClash</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SmartDNS"><span class="toc-number">9.1.3.</span> <span class="toc-text">SmartDNS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PushBot"><span class="toc-number">9.1.4.</span> <span class="toc-text">PushBot</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#R5S"><span class="toc-number">9.2.</span> <span class="toc-text">R5S</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#WireGuard-Easy"><span class="toc-number">9.2.1.</span> <span class="toc-text">WireGuard Easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bark"><span class="toc-number">9.2.2.</span> <span class="toc-text">Bark</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H28K"><span class="toc-number">9.3.</span> <span class="toc-text">H28K</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux-Command"><span class="toc-number">9.3.1.</span> <span class="toc-text">Linux Command</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HK1-Box"><span class="toc-number">10.</span> <span class="toc-text">HK1 Box</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Home-Assistant"><span class="toc-number">10.1.</span> <span class="toc-text">Home Assistant</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Node-RED"><span class="toc-number">10.2.</span> <span class="toc-text">Node-RED</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%9C%8D%E5%8A%A1"><span class="toc-number">11.</span> <span class="toc-text">其他服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Captive-Portal-%E6%A3%80%E6%B5%8B%E6%9C%8D%E5%8A%A1"><span class="toc-number">11.1.</span> <span class="toc-text">Captive Portal 检测服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E7%BD%91-IP-%E8%8E%B7%E5%8F%96%E6%9C%8D%E5%8A%A1"><span class="toc-number">11.2.</span> <span class="toc-text">公网 IP 获取服务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96-JSON-%E6%A0%BC%E5%BC%8F"><span class="toc-number">11.2.1.</span> <span class="toc-text">获取 JSON 格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%BA%AF%E6%96%87%E6%9C%AC"><span class="toc-number">11.2.2.</span> <span class="toc-text">获取纯文本</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%B5%81%E8%A7%84%E5%88%99%E6%9C%8D%E5%8A%A1"><span class="toc-number">11.3.</span> <span class="toc-text">分流规则服务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%9B%BE"><span class="toc-number">11.3.1.</span> <span class="toc-text">逻辑图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2-3"><span class="toc-number">11.3.2.</span> <span class="toc-text">部署</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">11.3.3.</span> <span class="toc-text">使用方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">11.3.4.</span> <span class="toc-text">使用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E5%85%AC%E5%8F%B8%E7%9A%84%E8%AE%BE%E5%A4%87%E4%B8%8A%E4%BD%BF%E7%94%A8"><span class="toc-number">11.3.4.1.</span> <span class="toc-text">在公司的设备上使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E5%AE%B6%E4%B8%AD%E7%9A%84%E8%AE%BE%E5%A4%87%E4%B8%8A%E4%BD%BF%E7%94%A8"><span class="toc-number">11.3.4.2.</span> <span class="toc-text">在家中的设备上使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8-Surge-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8A%E4%BD%BF%E7%94%A8"><span class="toc-number">11.3.4.3.</span> <span class="toc-text">在 Surge 客户端上使用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%90%8C%E6%AD%A5"><span class="toc-number">11.3.5.</span> <span class="toc-text">配置同步</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="toc-number">11.4.</span> <span class="toc-text">网络</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E9%80%9A%E6%80%A7%E6%A3%80%E6%9F%A5"><span class="toc-number">11.4.1.</span> <span class="toc-text">连通性检查</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WireGuard-%E6%A3%80%E6%9F%A5"><span class="toc-number">11.4.2.</span> <span class="toc-text">WireGuard 检查</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VPN-%E6%A3%80%E6%9F%A5"><span class="toc-number">11.4.3.</span> <span class="toc-text">VPN 检查</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E6%8E%A8%E8%8D%90"><span class="toc-number">12.</span> <span class="toc-text">资源推荐</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/b902d8fd.html" title="从零开始开发一个 Hexo 插件：以 hexo-plugin-llmstxt 为例"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://api.dong4j.ink:1024/cover?lbi2q79v" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" alt="从零开始开发一个 Hexo 插件：以 hexo-plugin-llmstxt 为例"></a><div class="content"><a class="title" href="/posts/b902d8fd.html" title="从零开始开发一个 Hexo 插件：以 hexo-plugin-llmstxt 为例">从零开始开发一个 Hexo 插件：以 hexo-plugin-llmstxt 为例</a><time datetime="2025-01-30T03:34:10.000Z" title="发表于 2025-01-30 11:34:10">2025-01-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/bb4018e9.html" title="使用 Node.js 开发数字名片并集成 Chat 服务"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20250115192416_nhXEcB8o.webp" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" alt="使用 Node.js 开发数字名片并集成 Chat 服务"></a><div class="content"><a class="title" href="/posts/bb4018e9.html" title="使用 Node.js 开发数字名片并集成 Chat 服务">使用 Node.js 开发数字名片并集成 Chat 服务</a><time datetime="2025-01-15T02:47:34.000Z" title="发表于 2025-01-15 10:47:34">2025-01-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/621bb677.html" title="从零开始开发 VSCode 插件：从 Hello World 到图片处理工具"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20250114004440_j6VHuwA4.webp" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" alt="从零开始开发 VSCode 插件：从 Hello World 到图片处理工具"></a><div class="content"><a class="title" href="/posts/621bb677.html" title="从零开始开发 VSCode 插件：从 Hello World 到图片处理工具">从零开始开发 VSCode 插件：从 Hello World 到图片处理工具</a><time datetime="2025-01-13T15:54:10.000Z" title="发表于 2025-01-13 23:54:10">2025-01-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/af11d9f5.html" title="Chrome 插件开发实战：从零开始开发一个图片上传工具"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20250113235017_acCTt6s4.webp" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" alt="Chrome 插件开发实战：从零开始开发一个图片上传工具"></a><div class="content"><a class="title" href="/posts/af11d9f5.html" title="Chrome 插件开发实战：从零开始开发一个图片上传工具">Chrome 插件开发实战：从零开始开发一个图片上传工具</a><time datetime="2025-01-10T16:48:57.000Z" title="发表于 2025-01-11 00:48:57">2025-01-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/f5478013.html" title="利用 AI 对博客文章进行智能分类"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/20250103004028_E1ep6rty.webp" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" alt="利用 AI 对博客文章进行智能分类"></a><div class="content"><a class="title" href="/posts/f5478013.html" title="利用 AI 对博客文章进行智能分类">利用 AI 对博客文章进行智能分类</a><time datetime="2024-12-31T16:00:00.000Z" title="发表于 2025-01-01 00:00:00">2025-01-01</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="mailto:dong4j@gmail.com" rel="external nofollow noreferrer" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://weibo.com/u/1884084142" title="微博"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.facebook.com/dsj.array" title="facebook"><i class="anzhiyufont anzhiyu-icon-facebook1"></i></a><a class="deal_link" href="/atom.xml" title="RSS"><i class="anzhiyufont anzhiyu-icon-rss"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0,500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/avatar.webp" size="50px"><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/dong4j" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://space.bilibili.com/1835978167" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://v.douyin.com/iUqoRYwb/" title="抖音"><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a><a class="deal_link" href="/copyright" title="CC"><i class="anzhiyufont anzhiyu-icon-copyright-line"></i></a></div><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"><div id="runtimeTextTip"></div></div><div id="anzhiyu-footer"><div class="footer-group"><div class="footer-title">服务</div><div class="footer-links"><a class="footer-item" title="51la统计" target="_blank" rel="noopener external nofollow noreferrer" href="https://v6.51.la/">51la统计</a><a class="footer-item" title="十年之约" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.foreverblog.cn/">十年之约</a><a class="footer-item" title="开往" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.travellings.cn/go.html">开往</a><a class="footer-item" title="服务状态" target="_blank" rel="noopener external nofollow noreferrer" href="https://uptime.dong4j.ink:1024/status/services">服务状态</a></div></div><div class="footer-group"><div class="footer-title">项目</div><div class="footer-links"><a class="footer-item" title="Watt.Stack" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/watt-stack">Watt.Stack</a><a class="footer-item" title="MIK" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/dong4j/markdown-image-kit">MIK</a><a class="footer-item" title="macOS.dev" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/dong4j/macOS-dev">macOS.dev</a><a class="footer-item" title="更多" target="_blank" rel="noopener external nofollow noreferrer" href="https://project.dong4j.ink:1024/">更多</a></div></div><div class="footer-group"><div class="footer-title">导航</div><div class="footer-links"><a class="footer-item" title="我的装备" href="/equipment/">我的装备</a><a class="footer-item" title="即刻短文" href="/essay/">即刻短文</a><a class="footer-item" title="友链文章" href="/fcircle/">友链文章</a><a class="footer-item" title="留言板" href="/comments/">留言板</a></div></div><div class="footer-group"><div class="footer-title">协议</div><div class="footer-links"><a class="footer-item" title="隐私协议" href="/privacy/">隐私协议</a><a class="footer-item" title="Cookies" href="/cookies/">Cookies</a><a class="footer-item" title="版权协议" href="/copyright/">版权协议</a><a class="footer-item" title="更新日志" href="/update/">更新日志</a></div></div><div class="footer-group"><div class="footer-title-group"><div class="footer-title">友链</div><a class="random-friends-btn" id="footer-random-friends-btn" href="javascript:addFriendLinksInFooter();" rel="external nofollow noreferrer" title="换一批友情链接"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class="footer-links" id="friend-links-in-footer"></div></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"></a><a class="github-badge" target="_blank" href="https://www.dogecloud.com/" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站使用多吉云为静态资源提供CDN加速" title="本站使用多吉云为静态资源提供CDN加速"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/CDN-多吉云-3693F3.svg" alt="本站使用多吉云为静态资源提供CDN加速"></a><a class="github-badge" target="_blank" href="https://github.com/dong4j" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div><div id="footer-bar"><div class="footer-bar-links"><footer-bar-left><div id="footer-bar-tips"><div class="copyright" style="display:flex;align-items:center;gap:10px">©2013 - 2025 By <a class="footer-bar-link" href="/" title="dong4j" target="_blank">dong4j</a><span class="indicator" id="indicator" style="display:inline-block;width:8px;height:8px;border-radius:50%;background-color:green;margin-left:0;animation:subtle-breathing 1.2s infinite;box-shadow:0 0 5px rgba(255,0,0,.8)"></span><span>在线人数:</span><span id="online_user" style="font-size:1em;font-weight:700">1</span></div></div><div id="footer-type-tips"></div></footer-bar-left><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://beian.miit.gov.cn/" title="蜀ICP备2025119258号">蜀ICP备2025119258号</a><a class="footer-bar-link cc" href="/copyright" title="cc协议"><i class="anzhiyufont anzhiyu-icon-copyright-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-by-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nc-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nd-line"></i></a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">240</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">1088</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">10</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" rel="external nofollow noreferrer" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://home.dong4j.site" title="个人主页"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/homepage.webp" alt="个人主页"><span class="back-menu-item-text">个人主页</span></a><a class="back-menu-item" href="https://blog.dong4j.site" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/blog.webp" alt="博客"><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://resume.dong4j.site" title="简历"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/resume.webp" alt="简历"><span class="back-menu-item-text">简历</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://npx-card.dong4j.site" title="npx-card"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/npx-card.webp" alt="npx-card"><span class="back-menu-item-text">npx-card</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/watt-stack" title="Watt.Stack"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/watt.webp" alt="Watt.Stack"><span class="back-menu-item-text">Watt.Stack</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/dong4j/markdown-image-kit" title="MIK"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/mik.webp" alt="MIK"><span class="back-menu-item-text">MIK</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/dong4j/macOS-dev" title="macOS.dev"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/mac.webp" alt="macOS.dev"><span class="back-menu-item-text">macOS.dev</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://project.dong4j.site/" title="更多"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/project.webp" alt="更多"><span class="back-menu-item-text">更多</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">服务</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://uptime.dong4j.ink:1024/status/services" title="服务状态"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/uptime-kuma.svg" alt="服务状态"><span class="back-menu-item-text">服务状态</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://nezha.dong4j.ink:1024?f=blog" title="服务面板"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/nezha.webp" alt="服务面板"><span class="back-menu-item-text">服务面板</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://nav.dong4j.ink:1024/" title="导航页"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/nav.webp" alt="导航页"><span class="back-menu-item-text">导航页</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://umami.dong4j.ink:1024/share/V7Rat8DdVw4npjl2/blog.dong4j.site" title="Umami"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/umami.webp" alt="Umami"><span class="back-menu-item-text">Umami</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://muselink.cc/dong4j 👈这是我的MuseLink数字名片！" title="数字名片"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/muse.lin.webp" alt="数字名片"><span class="back-menu-item-text">数字名片</span></a><a class="back-menu-item" href="/ai/deepseek-r1-webgpu/" title="DeepSeek"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/deepseek.webp" alt="DeepSeek"><span class="back-menu-item-text">DeepSeek</span></a><a class="back-menu-item" href="/ai/rmbg/playground/" title="RMBG"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/rmbg.webp" alt="RMBG"><span class="back-menu-item-text">RMBG</span></a><a class="back-menu-item" target="_blank" rel="noopener external nofollow noreferrer" href="http://chat.dong4j.ink:1024/chat" title="Mini-Chat"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.webp&quot;" data-lazy-src="https://cdn.dong4j.site/source/image/emoji1.webp" alt="Mini-Chat"><span class="back-menu-item-text">Mini-Chat</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i><span> 总览</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size:.9em"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size:.9em"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size:.9em"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size:.9em"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/messages/"><i class="fa fa-comments faa-tada"></i><span> 最新评论</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="fa fa-line-chart faa-tada"></i><span> 统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size:.9em"></i><span> 我的装备</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size:.9em"></i><span> 小空调</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/memos/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size:.9em"></i><span> 备忘录</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><i class="fa-solid fa-map faa-tada"></i><span> 折腾清单</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/stars/"><i class="fa-brands fa-github faa-tada"></i><span> Star 清单</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size:.9em"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size:.9em"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()" rel="external nofollow noreferrer"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size:.9em"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/java/" style="font-size:.88rem;color:#9b7e27;font-weight:500;color:var(--anzhiyu-lighttext)">Java<sup>48</sup></a><a href="/tags/final/" style="font-size:.88rem;color:#4e5ca8">final<sup>2</sup></a><a href="/tags/finalize/" style="font-size:.88rem;color:#63728c">finalize<sup>1</sup></a><a href="/tags/finally/" style="font-size:.88rem;color:#0b49c5">finally<sup>2</sup></a><a href="/tags/new%E5%85%B3%E9%94%AE%E5%AD%97/" style="font-size:.88rem;color:#384b4d">new关键字<sup>1</sup></a><a href="/tags/static/" style="font-size:.88rem;color:#74528f">static<sup>1</sup></a><a href="/tags/super/" style="font-size:.88rem;color:#05322e">super<sup>2</sup></a><a href="/tags/this/" style="font-size:.88rem;color:#2f931c">this<sup>1</sup></a><a href="/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6/" style="font-size:.88rem;color:#1c4e9b">二进制<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" style="font-size:.88rem;color:#c0aba8">数据类型<sup>4</sup></a><a href="/tags/%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95/" style="font-size:.88rem;color:#b55038">构造方法<sup>1</sup></a><a href="/tags/%E6%BA%A2%E5%87%BA/" style="font-size:.88rem;color:#4bb108">溢出<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size:.88rem;color:#7c8f52">算法<sup>1</sup></a><a href="/tags/%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5/" style="font-size:.88rem;color:#b24ec1">编程实践<sup>2</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F/" style="font-size:.88rem;color:#c11f0b">计算机程序<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/" style="font-size:.88rem;color:#bc5f25">计算机语言<sup>1</sup></a><a href="/tags/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/" style="font-size:.88rem;color:#879abe">访问控制<sup>1</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6/" style="font-size:.88rem;color:#153344">软件<sup>1</sup></a><a href="/tags/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" style="font-size:.88rem;color:#9ab688">错误处理<sup>2</sup></a><a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size:.88rem;color:#4d09a0">面向对象<sup>6</sup></a></div></div><hr></div></div><div id="keyboard-tips"><div class="keyboardTitle">博客快捷键</div><div class="keybordList"><div class="keybordItem"><div class="keyGroup"><div class="key">shift K</div></div><div class="keyContent"><div class="content">关闭快捷键功能</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift A</div></div><div class="keyContent"><div class="content">打开/关闭中控台</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift M</div></div><div class="keyContent"><div class="content">播放/暂停音乐</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift D</div></div><div class="keyContent"><div class="content">深色/浅色显示模式</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift S</div></div><div class="keyContent"><div class="content">站内搜索</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift R</div></div><div class="keyContent"><div class="content">随机访问</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift H</div></div><div class="keyContent"><div class="content">返回首页</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift F</div></div><div class="keyContent"><div class="content">友链鱼塘</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift L</div></div><div class="keyContent"><div class="content">友链页面</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift P</div></div><div class="keyContent"><div class="content">关于本站</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift I</div></div><div class="keyContent"><div class="content">原版/本站右键菜单</div></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="anzhiyufont anzhiyu-icon-comment-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch-commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" rel="external nofollow noreferrer" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="anzhiyu.scrollToDest(document.body.scrollHeight,500)"><i class="anzhiyufont anzhiyu-icon-arrow-down"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size:1rem"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display:none"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script>var HoldLog=console.log;console.log=function(){};let now1=new Date;queueMicrotask(()=>{function o(){HoldLog.apply(console,arguments)}var c=new Date("6/28/2018 00:00:00"),c=(now1.setTime(now1.getTime()+250),(now1-c)/1e3/60/60/24),c=["Hi there 👋，I'm dong4j, Welcome to my blog","岁月静好，诗酒趁年华🍺",`
        
      +========================================================+
      |  ██████╗  ██████╗ ███╗   ██╗ ██████╗ ██╗  ██╗     ██╗  |
      |  ██╔══██╗██╔═══██╗████╗  ██║██╔════╝ ██║  ██║     ██║  |
      |  ██║  ██║██║   ██║██╔██╗ ██║██║  ███╗███████║     ██║  |
      |  ██║  ██║██║   ██║██║╚██╗██║██║   ██║╚════██║██   ██║  |
      |  ██████╔╝╚██████╔╝██║ ╚████║╚██████╔╝     ██║╚█████╔╝  |
      |  ╚═════╝  ╚═════╝ ╚═╝  ╚═══╝ ╚═════╝      ╚═╝ ╚════╝   |
      +========================================================+
        
        `,"已上线",Math.floor(c),"天","Use 「npx dong4j」 and find me."],e=["NCC2-036","调用前置摄像头拍照成功，识别为【绝顶大佬】.","Photo captured: ","🤪"];setTimeout(o.bind(console,`
%c${c[0]} %c ${c[1]} %c ${c[2]} %c${c[3]}%c ${c[4]}%c ${c[5]}

%c ${c[6]}
`,"color:#425AEF","","color:#425AEF","color:#425AEF","","color:#425AEF","")),setTimeout(o.bind(console,`%c ${e[0]} %c ${e[1]} %c 
${e[2]} %c
${e[3]}
`,"color:white; background-color:#4fd953","","",'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%')),setTimeout(o.bind(console,"%c WELCOME %c 你好，绝顶大佬.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c ⚡ Powered by 安知鱼 %c 你正在访问 dong4j 的博客.","color:white; background-color:#f0ad4e","")),setTimeout(o.bind(console,"%c W23-12 %c 你已打开控制台.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c S013-782 %c 你现在正处于监控中.","color:white; background-color:#d9534f",""))})</script><script async="" src="/anzhiyu/random.js"></script><script async="">(()=>{var n,o,r,a,i,e=new Date("6/28/2018 00:00:00"),l=new Date;setInterval(()=>{var t;if(l=new Date,i=l.getHours(),t=(l-e)/1e3/60/60/24,n=Math.floor(t),t=(l-e)/1e3/60/60-24*n,o=Math.floor(t),1==String(o).length&&(o="0"+o),t=(l-e)/1e3/60-1440*n-60*o,r=Math.floor(t),1==String(r).length&&(r="0"+r),t=(l-e)/1e3-86400*n-3600*o-60*r,a=Math.round(t),1==String(a).length&&(a="0"+a),document.getElementById("footer")){let e="";e=(i<18&&9<=i||null!=(t=document.querySelector("#workboard .workSituationImg"))&&(t.src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg",t.title="下班了就该开开心心的玩耍，嘿嘿~",t.alt="下班了就该开开心心的玩耍，嘿嘿~"),`本站居然运行了 ${n} 天<span id='runtime'> ${o} 小时 ${r} 分 ${a} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`),document.getElementById("runtimeTextTip")&&(document.getElementById("runtimeTextTip").innerHTML=e)}},1e3)})()</script><script src="https://cdn.cbd.int/algoliasearch@4.18.0/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.cbd.int/instantsearch.js@4.60.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>(()=>{let t=document.querySelectorAll("#article-container .mermaid-wrap");if(0!==t.length){let e=()=>{window.loadMermaid=!0;let a="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";Array.from(t).forEach((e,t)=>{let d=e.firstElementChild;e="%%{init:{ 'theme':'"+a+"'}}%%\n"+d.textContent;let n=mermaid.render("mermaid-"+t,e);"string"==typeof n?(t=n,d.insertAdjacentHTML("afterend",t)):n.then(({svg:e})=>{d.insertAdjacentHTML("afterend",e)})})};var d=()=>{window.loadMermaid?e():getScript("https://cdn.cbd.int/mermaid@10.2.4/dist/mermaid.min.js").then(e)};anzhiyu.addGlobalFn("themeChange",e,"mermaid"),window.pjax?d():document.addEventListener("DOMContentLoaded",d)}})()</script><script>(()=>{let t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.dong4j.ink:1024",region:"",onCommentLoaded:()=>{anzhiyu.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))};var o=()=>{"object"==typeof twikoo?setTimeout(n,0):getScript("https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js").then(n)};let e=()=>{let o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"https://twikoo.dong4j.ink:1024",region:"",urls:[window.location.pathname],includeReply:!1}).then(t=>{o.textContent=t[0].count}).catch(t=>{console.error(t)})},n=()=>{t(),GLOBAL_CONFIG_SITE.isPost&&e()};o()})()</script><input type="hidden" name="page-type" id="page-type" value="post"><script async="" src="/js/anzhiyu/comment_barrage.js"></script></div><script>window.addEventListener("load",()=>{let t=e=>e=""!==e&&150<(e=(e=(e=(e=e.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length?e.substring(0,150)+"...":e,n=t=>{let n="";if(t.length)for(let e=0;e<t.length;e++)n=(n=(n+="<div class='aside-list-item'>")+`<a href='${t[e].url}' class='thumbnail'><img data-lazy-src='${t[e].avatar}' alt='${t[e].nick}'><div class='name'><span>${t[e].nick} </span></div></a>`)+`<div class='content'>
        <a class='comment' href='${t[e].url}' title='${t[e].content}'>${t[e].content}</a>
        <time datetime="${t[e].date}">${anzhiyu.diffDate(t[e].date,!0)}</time></div>
        </div>`;else n+="没有评论";var e=document.querySelector("#card-newest-comments .aside-list");e&&(e.innerHTML=n),window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(e)};var e=()=>{var e;document.querySelector("#card-newest-comments .aside-list")&&((e=saveToLocal.get("twikoo-newest-comments"))?n(JSON.parse(e)):(e=()=>{twikoo.getRecentComments({envId:"https://twikoo.dong4j.ink:1024",region:"",pageSize:6,includeReply:!0}).then(function(e){e=e.map(e=>({content:t(e.comment),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()}));saveToLocal.set("twikoo-newest-comments",JSON.stringify(e),10/1440),n(e)}).catch(function(e){document.querySelector("#card-newest-comments .aside-list").textContent="无法获取评论，请确认相关配置是否正确"})},"object"==typeof twikoo?e():getScript("https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js").then(e)))};e(),document.addEventListener("pjax:complete",e)})</script><script>var visitorMail="996@icu.com"</script><script async="" data-pjax="" src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.dong4j.site/source/static/subscribe.css" media="print" onload="this.media=&quot;all&quot;"><link rel="stylesheet" href="https://cdn.dong4j.site/source/static/card-widget-today.css" media="print" onload="this.media=&quot;all&quot;"><link rel="stylesheet" href="https://cdn.dong4j.site/source/static/card-widget-calendar.css" media="print" onload="this.media=&quot;all&quot;"><script async="" data-pjax="" src="https://cdn.dong4j.site/source/static/automatic-redirection.js"></script><script src="https://cdn.dong4j.site/source/static/card-widget-welcome.js"></script><script async="" data-pjax="" src="https://cdn.dong4j.site/source/static/card-widget-comments.js"></script><script async="" data-pjax="" src="https://cdn.dong4j.site/source/static/card-widget-today.js"></script><script src="https://cdn.dong4j.site/source/static/card-widget-countdown.js"></script><script src="https://cdn.dong4j.site/source/static/card-widget-calendar.js"></script><script async="" data-pjax="" src="https://open.lightxi.com/unpkg/chinese-lunar@0.1.4/lib/chinese-lunar.js"></script><script async="" data-pjax="" src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script src="https://cdn.dong4j.site/source/static/custom.js"></script><script src="https://cdn.dong4j.site/source/static/geoip2-check.js"></script><script defer="" id="fluttering_ribbon" mobile="false" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-show-text" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="永不言败,勇往直前,砥砺前行,自强不息,笃行致远,厚德载物,持之以恒,奋发有为,志在四方,拼搏进取,实事求是，为人民服务,勤劳致富，共奔小康,爱国、创新、包容、厚德,敬业乐群，诚信友善,自强不息，厚德载物,以人为本，全面协调可持续发展,建设生态文明，构建和谐社会,坚持改革开放，推动科学发展,立党为公，执政为民,实现中华民族伟大复兴的中国梦" data-fontsize="15px" data-random="true" async=""></script><script src="//code.tidio.co/14aqpkwnauu3r5ngcmspfxwelvattym5.js" async=""></script><script>(()=>{{let i=!1,o=()=>{window.tidioChatApi.hide(),i=!1,document.body.style.position="relative",document.documentElement.style.overflow="auto"};var t=()=>{window.tidioChatApi.hide(),window.tidioChatApi.on("close",o)};window.tidioChatApi?window.tidioChatApi.on("ready",t):document.addEventListener("tidioChat-ready",t),window.chatBtnFn=()=>{window.tidioChatApi&&(i?o():(window.tidioChatApi.open(),window.tidioChatApi.show(),i=!0))}}})()</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media=&quot;all&quot;"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors=['meta[property="og:image"]','meta[property="og:title"]','meta[property="og:url"]','meta[property="og:type"]','meta[property="og:site_name"]','meta[property="og:description"]',"head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",function(){if(anzhiyu.removeGlobalFnEvent("pjax"),anzhiyu.removeGlobalFnEvent("themeChange"),document.getElementById("rightside").classList.remove("rightside-show"),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();var e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")}),document.addEventListener("pjax:complete",function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{let t=document.createElement("script");var a=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(a)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async="" data-pjax="" data-prefix="busuanzi_value" src="https://cdn.dong4j.site/source/static/busuanzi.self.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div><script data-pjax="" src="https://cdn.jsdelivr.net/gh/barry-flynn/hexo-github-calendar/hexo_githubcalendar.js"></script><script data-pjax="">function GithubCalendarConfig(){var t=document.getElementById("recent-posts");t&&"/"==location.pathname&&(console.log("已挂载hexo-github-calendar https://github.com/Barry-Flynn/hexo-github-calendar"),t.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>')),GithubCalendar("https://github-calendar.dong4j.ink:1024/api?user=dong4j",["#ebedf0","#a2f7af","#6ce480","#54ad63","#469252","#31753c","#1f5f2a","#13531f","#084111","#032b09","#000000"],"dong4j")}document.getElementById("recent-posts")&&GithubCalendarConfig()</script><style>#github_container{min-height:280px}@media screen and (max-width:650px){#github_container{min-height:0}}</style><style></style></body></html>